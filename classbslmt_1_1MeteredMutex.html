<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: Class bslmt::MeteredMutex</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacebslmt.html">bslmt</a>      </li>
      <li><a class="el" href="classbslmt_1_1MeteredMutex.html">bslmt::MeteredMutex</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>bslmt::MeteredMutex Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="bslmt::MeteredMutex" -->
<p><code>#include &lt;<a class="el" href="bslmt__meteredmutex_8h_source.html">bslmt_meteredmutex.h</a>&gt;</code></p>

<p><a href="classbslmt_1_1MeteredMutex-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#a8be4c0a493ec94d16672fd97923a65ce">MeteredMutex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#a2437fbb54185d37403ae28fe6ba2e6db">~MeteredMutex</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#a4af17b3282be8d0439ba914bf80e73e1">lock</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#a084c0a8ca5aabe00d6ca4ca2fd4bd507">resetMetrics</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#adb5f1c9b48bf6e09f8a23d7f970ea9ef">tryLock</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#afb6856b252fcde017247d30452ddadc1">unlock</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#aebb50fc9b92d2650e023058d4f440afa">holdTime</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#aa009e21c3b818d683e1e27588a888aa0">lastResetTime</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslmt_1_1MeteredMutex.html#a9486f8898ba8f49e3ed4c6fab7f8a80b">waitTime</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class implements a mutex, that has the additional capability to keep track of hold time and wait time. The hold time is defined as the cumulative duration for which the mutex was in the locked state. The wait time is defined as the duration for which threads waited for the mutex. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8be4c0a493ec94d16672fd97923a65ce"></a><!-- doxytag: member="bslmt::MeteredMutex::MeteredMutex" ref="a8be4c0a493ec94d16672fd97923a65ce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bslmt::MeteredMutex::MeteredMutex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a metered mutex in the unlocked state. </p>

</div>
</div>
<a class="anchor" id="a2437fbb54185d37403ae28fe6ba2e6db"></a><!-- doxytag: member="bslmt::MeteredMutex::~MeteredMutex" ref="a2437fbb54185d37403ae28fe6ba2e6db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bslmt::MeteredMutex::~MeteredMutex </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroy this metered mutex. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4af17b3282be8d0439ba914bf80e73e1"></a><!-- doxytag: member="bslmt::MeteredMutex::lock" ref="a4af17b3282be8d0439ba914bf80e73e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bslmt::MeteredMutex::lock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Acquire the lock on this metered mutex. If this mutex is currently locked, suspend the execution of the current thread until the lock can be acquired. Update the wait and hold time appropriately. The behavior is undefined if the calling thread already owns the lock. </p>

</div>
</div>
<a class="anchor" id="a084c0a8ca5aabe00d6ca4ca2fd4bd507"></a><!-- doxytag: member="bslmt::MeteredMutex::resetMetrics" ref="a084c0a8ca5aabe00d6ca4ca2fd4bd507" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bslmt::MeteredMutex::resetMetrics </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset the wait and hold time to zero and record the current time. All subsequent calls (that are made before a subsequent call to <code>resetMetrics</code>) to <code>waitTime</code> (or <code>holdTime</code>) will return the wait (or hold) time, accumulated since this call. Also, all subsequent calls (that are made before a subsequent call to <code>resetMetrics</code>) to <code>lastResetTime</code> will return the time of this call. </p>

</div>
</div>
<a class="anchor" id="adb5f1c9b48bf6e09f8a23d7f970ea9ef"></a><!-- doxytag: member="bslmt::MeteredMutex::tryLock" ref="adb5f1c9b48bf6e09f8a23d7f970ea9ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bslmt::MeteredMutex::tryLock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempt to acquire the lock on this metered mutex. Return 0 on success, and a non-zero value if this mutex is already locked, or if an error occurs. Update the wait and hold time appropriately. The behavior is undefined if the calling thread already owns the lock. </p>

</div>
</div>
<a class="anchor" id="afb6856b252fcde017247d30452ddadc1"></a><!-- doxytag: member="bslmt::MeteredMutex::unlock" ref="afb6856b252fcde017247d30452ddadc1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bslmt::MeteredMutex::unlock </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Release the lock on this mutex that was previously acquired through a successful call to <code>lock</code> or <code>tryLock</code>. Update the hold time appropriately. The behavior is undefined unless the calling thread currently owns the lock. </p>

</div>
</div>
<a class="anchor" id="aebb50fc9b92d2650e023058d4f440afa"></a><!-- doxytag: member="bslmt::MeteredMutex::holdTime" ref="aebb50fc9b92d2650e023058d4f440afa" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a> bslmt::MeteredMutex::holdTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the hold time (in nanoseconds) accumulated since the most recent call to <code>resetMetrics</code> (or <code><a class="el" href="classbslmt_1_1MeteredMutex.html">MeteredMutex</a></code> if <code>resetMetrics</code> was never called). </p>

</div>
</div>
<a class="anchor" id="aa009e21c3b818d683e1e27588a888aa0"></a><!-- doxytag: member="bslmt::MeteredMutex::lastResetTime" ref="aa009e21c3b818d683e1e27588a888aa0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a> bslmt::MeteredMutex::lastResetTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the time in nanoseconds (referenced to an arbitrary but fixed origin) of the most recent invocation to <code>resetMetrics</code> (or creation time if <code>resetMetrics</code> was never invoked). User can calculate the difference (in nanoseconds) between the current time and the last reset time by expression <code><a class="el" href="structbsls_1_1TimeUtil.html#a5a3f353e27dfd55ec23efbb8dfa21e80">bsls::TimeUtil::getTimer()</a> - clientMutex.lastResetTime()</code>. </p>

</div>
</div>
<a class="anchor" id="a9486f8898ba8f49e3ed4c6fab7f8a80b"></a><!-- doxytag: member="bslmt::MeteredMutex::waitTime" ref="a9486f8898ba8f49e3ed4c6fab7f8a80b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a> bslmt::MeteredMutex::waitTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the wait time (in nanoseconds), accumulated since the most recent call to <code>resetMetrics</code> (or <code><a class="el" href="classbslmt_1_1MeteredMutex.html">MeteredMutex</a></code> if <code>resetMetrics</code> was never called). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="bslmt__meteredmutex_8h_source.html">bslmt_meteredmutex.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:51:05 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
