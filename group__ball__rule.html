<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: ball_rule Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component ball_rule<br/>
<small>
[<a class="el" href="group__ball.html">Package ball</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide an object having a pattern, thresholds, and predicates.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceball.html">ball</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide an object having a pattern, thresholds, and predicates. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classball_1_1Rule.html">ball::Rule</a> </td><td>a pattern, thresholds, and predicate sets  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__ball__ruleset.html" title="Provide a set of unique rules.">Component ball_ruleset</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component implements a type, <code><a class="el" href="classball_1_1Rule.html">ball::Rule</a></code>, that consists of a pattern, four threshold levels, and a set of predicates. The pattern indicates the names of the categories for which the rule will become relevant. The four threshold levels determine what actions will be performed on log records when their severity level equals or exceeds any of these threshold levels. The predicate set is a collection of unique attribute name/value pairs. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that multiple predicates with the same name are permitted so long as they correspond to different values. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following code fragments illustrate how to create a rule and add predicates. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>We create a rule whose pattern is <code>WEEKEND*</code> and whose threshold levels are all <code>ball::Severity::OFF</code> except the <code>pass-through</code> level. A <code>pass-through</code> level of <code>ball::Severity::INFO</code> indicates that whenever the rule is active and the severity is equal to or exceeds <code>ball::Severity::INFO</code>, log records will be passed to the observer: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classball_1_1Rule.html">ball::Rule</a> rule(<span class="stringliteral">&quot;WEEKEND*&quot;</span>,             <span class="comment">// pattern</span>
                 ball::Severity::OFF,     <span class="comment">// record level</span>
                 ball::Severity::INFO,    <span class="comment">// pass-through level</span>
                 ball::Severity::OFF,     <span class="comment">// trigger level</span>
                 ball::Severity::OFF);    <span class="comment">// triggerAll level</span>
</pre></div><br/>
<br/>
 Create some predicates and then add one to the rule: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classball_1_1Predicate.html">ball::Predicate</a> p1(<span class="stringliteral">&quot;uuid&quot;</span>, 4044457);
  <a class="code" href="classball_1_1Predicate.html">ball::Predicate</a> p2(<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;Gang Chen&quot;</span>);
  rule.addPredicate(p1);
</pre></div><br/>
<br/>
 Predicates can be looked up by the <code>hasPredicate</code> method: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(<span class="keyword">true</span>  == rule.hasPredicate(p1));
  assert(<span class="keyword">false</span> == rule.hasPredicate(p2));
</pre></div><br/>
<br/>
 We then add the other predicate: <br/>
<br/>
<div class="fragment"><pre class="fragment">  rule.addPredicate(p2);
  assert(<span class="keyword">true</span>  == rule.hasPredicate(p2));
</pre></div><br/>
<br/>
 Predicates can also be removed from the rule by the <code>removePredicate</code> method: <br/>
<br/>
<div class="fragment"><pre class="fragment">  rule.removePredicate(p1);
  assert(<span class="keyword">false</span> == rule.hasPredicate(p1));
  assert(<span class="keyword">true</span>  == rule.hasPredicate(p2));
</pre></div><br/>
<br/>
 The pattern of a rule can be changed by the <code>setPattern</code> method: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(0 == strcmp(rule.pattern(), <span class="stringliteral">&quot;WEEKEND*&quot;</span>));

  rule.setPattern(<span class="stringliteral">&quot;WEEKDAY*&quot;</span>);
  assert(0 == strcmp(rule.pattern(), <span class="stringliteral">&quot;WEEKDAY*&quot;</span>));
</pre></div><br/>
<br/>
 The threshold levels of a rule can also be modified by the <code>setLevels</code> method: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(ball::Severity::OFF  == rule.recordLevel());
  assert(ball::Severity::INFO == rule.passLevel());
  assert(ball::Severity::OFF  == rule.triggerLevel());
  assert(ball::Severity::OFF  == rule.triggerAllLevel());

  rule.setLevels(ball::Severity::INFO,
                 ball::Severity::OFF,
                 ball::Severity::INFO,
                 ball::Severity::INFO);

  assert(ball::Severity::INFO == rule.recordLevel());
  assert(ball::Severity::OFF  == rule.passLevel());
  assert(ball::Severity::INFO == rule.triggerLevel());
  assert(ball::Severity::INFO == rule.triggerAllLevel());
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:26 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
