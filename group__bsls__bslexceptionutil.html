<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bsls_bslexceptionutil Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bsls_bslexceptionutil<br/>
<small>
[<a class="el" href="group__bsls.html">Package bsls</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide functions for use in <code>bsl</code> that throw standard exceptions.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebsls.html">bsls</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> <ul>
<li>
<a href="#3.1.1">Example 1: Throwing a standard exception</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide functions for use in <code>bsl</code> that throw standard exceptions. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbsls_1_1BslExceptionUtil.html">bsls::BslExceptionUtil</a> </td><td>namespace for utilities to throw exceptions  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>bsl_exception, bsl_new, bsl_typeinfo </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a means to throw standard exceptions without introducing a compile-time dependency on the standard exception classes. This is valuable where header files define function templates or inline functions that may throw these types as exceptions. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section illustrates intended use of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_throwing_a_standard_exception"></a> <a class="anchor" id="usage.example_1~3A_throwing_a_standard_exception"></a> <a class="anchor" id="description.usage.example_1~3A_throwing_a_standard_exception"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.1.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Throwing a standard exception: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Suppose we are implementing a class that must conform to the requirements of the C++ Standard. There are several clauses that dictate throwing an exception of a standard type to indicate failure. However, we do not want to expose the standard exception header to our clients, which would be typical when implementing function templates inline, and we want to have a consistent behavior when building with a compiler in a non-standard mode that does not support exceptions. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First we declare a function template that wants to throw a standard exception. Note that the <code>exception</code> header is not included at this point. <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;<a class="code" href="bsls__bslexceptionutil_8h.html" title="Provide functions for use in bsl that throw standard exceptions.">bsls_bslexceptionutil.h</a>&gt;</span>

  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
  <span class="keywordtype">void</span> testFunction(<span class="keywordtype">int</span> selector)
      <span class="comment">//  Throw a standard exception according to the specified &#39;selector&#39;.</span>
  {
    <span class="keywordflow">switch</span> (selector) {
</pre></div><br/>
<br/>
 Now we can use the utilities in this component to throw the desired exception, even though the standard exception classes are not visible to this code. <br/>
<br/>
<div class="fragment"><pre class="fragment">      <span class="keywordflow">case</span>  1: <a class="code" href="structbsls_1_1BslExceptionUtil.html#a465dfe918544c50b66067aee9c520a8c">bsls::BslExceptionUtil::throwBadAlloc</a>();
      <span class="keywordflow">case</span>  2: <a class="code" href="structbsls_1_1BslExceptionUtil.html#a395eb98dd33195fcf5cf1adf2b0397af">bsls::BslExceptionUtil::throwBadCast</a>();
      <span class="keywordflow">default</span>: <a class="code" href="structbsls_1_1BslExceptionUtil.html#a104069dc3087647645bc3e702a593daa">bsls::BslExceptionUtil::throwException</a>();
    }
  }
</pre></div><br/>
<br/>
 Finally, we can write some client code that calls our function, and wishes to catch the thrown exception. Observe that this file must #include the corresponding standard header in order to catch the exception. <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;exception&gt;</span>
<span class="preprocessor">  #include &lt;new&gt;</span>
<span class="preprocessor">  #include &lt;typeinfo&gt;</span>

  <span class="keywordtype">void</span> callTestFunction()
  {
      <span class="keywordflow">try</span> {
          testFunction&lt;int&gt;(1);
          assert(0 == <span class="stringliteral">&quot;Should throw before reaching here.&quot;</span>);
      }
      <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::bad_alloc&amp; ex) {
      }

      <span class="keywordflow">try</span> {
          testFunction&lt;double&gt;(2);
          assert(0 == <span class="stringliteral">&quot;Should throw before reaching here.&quot;</span>);
      }
      <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::bad_cast&amp; ex) {
      }
  }
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:49:02 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
