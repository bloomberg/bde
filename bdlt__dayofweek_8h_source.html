<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<title>BDE 2.23.1 OSS</title>
<html>
<pre>
// bdlt_dayofweek.h                                                   -*-C++-*-
#ifndef INCLUDED_BDLT_DAYOFWEEK
#define INCLUDED_BDLT_DAYOFWEEK

#ifndef INCLUDED_BSLS_IDENT
#include &lt;bsls_ident.h&gt;
#endif
BSLS_IDENT(&quot;$Id: $&quot;)

//@PURPOSE: Provide an enumeration of the set of days of the week.
//
//@CLASSES:
//  bdlt::DayOfWeek: namespace for day-of-week enumeration (and its operations)
//
//@DESCRIPTION: This component provides a namespace for the &#39;enum&#39; type
// &#39;bdlt_DayOfWeek::Enum&#39;, which enumerates the set of days of the week.
//
///Enumerators
///-----------
//..
//  Long Name      Short Name   Description
//  -----------    ----------   -----------
//  e_SUNDAY       e_SUN        Sunday
//  e_MONDAY       e_MON        Monday
//  e_TUESDAY      e_TUE        Tuesday
//  e_WEDNESDAY    e_WED        Wednesday
//  e_THURSDAY     e_THU        Thursday
//  e_FRIDAY       e_FRI        Friday
//  e_SATURDAY     e_SAT        Saturday
//..
//
///Usage
///-----
// This section illustrates intended use of this component.
//
///Example 1: Basic Syntax
///- - - - - - - - - - - -
// The following snippets of code provide a simple illustration of
// &#39;bdlt::DayOfWeek&#39; operation.
//
// First, create a variable, &#39;day&#39;, of type &#39;bdlt::DayOfWeek::Enum&#39;, and
// initialize it to the value &#39;bdlt::DayOfWeek::e_MONDAY&#39;:
//..
//  bdlt::DayOfWeek::Enum day = bdlt::DayOfWeek::e_MONDAY;
//..
// Next, store its representation in a variable, &#39;rep&#39;, of type &#39;const char *&#39;:
//..
//  const char *rep = bdlt::DayOfWeek::toAscii(day);
//  assert(0 == bsl::strcmp(rep, &quot;MON&quot;));
//..
// Finally, we print the value of &#39;day&#39; to &#39;stdout&#39;:
//..
//  bsl::cout &lt;&lt; day &lt;&lt; bsl::endl;
//..
// This statement produces the following output on &#39;stdout&#39;:
//..
//  MON
//..

#ifndef INCLUDED_BDLSCM_VERSION
#include &lt;bdlscm_version.h&gt;
#endif

#ifndef INCLUDED_BSL_OSTREAM
#include &lt;bsl_ostream.h&gt;
#endif

namespace BloombergLP {
namespace bdlt {

                        // ===============
                        // class DayOfWeek
                        // ===============

struct DayOfWeek {
    // This &#39;struct&#39; provides a namespace for enumerating day-of-week values.
    // See &#39;Enum&#39; in the TYPES sub-section for details.
    //
    // This &#39;struct&#39;:
    //: o supports a complete set of *enumeration* operations
    // For terminology see &#39;bsldoc_glossary&#39;.

  public:
    // TYPES
    enum Enum {
        // Enumerated day-of-week values.

        e_SUN = 1, e_SUNDAY    = e_SUN,
        e_MON,     e_MONDAY    = e_MON,
        e_TUE,     e_TUESDAY   = e_TUE,
        e_WED,     e_WEDNESDAY = e_WED,
        e_THU,     e_THURSDAY  = e_THU,
        e_FRI,     e_FRIDAY    = e_FRI,
        e_SAT,     e_SATURDAY  = e_SAT

    };


    // CLASS METHODS
    template &lt;class STREAM&gt;
    static STREAM&amp; bdexStreamIn(STREAM&amp;          stream,
                                DayOfWeek::Enum&amp; variable,
                                int              version);
        // Assign to the specified &#39;variable&#39; the value read from the specified
        // input &#39;stream&#39; using the specified &#39;version&#39; format, and return a
        // reference to &#39;stream&#39;.  If &#39;stream&#39; is initially invalid, this
        // operation has no effect.  If &#39;version&#39; is not supported, &#39;variable&#39;
        // is unaltered and &#39;stream&#39; is invalidated, but otherwise unmodified.
        // If &#39;version&#39; is supported but &#39;stream&#39; becomes invalid during this
        // operation, &#39;variable&#39; has an undefined, but valid, state.  Note that
        // no version is read from &#39;stream&#39;.  See the &#39;bslx&#39; package-level
        // documentation for more information on BDEX streaming of
        // value-semantic types and containers.

    template &lt;class STREAM&gt;
    static STREAM&amp; bdexStreamOut(STREAM&amp;         stream,
                                 DayOfWeek::Enum value,
                                 int             version);
        // Write the value of the specified &#39;value&#39;, using the specified
        // &#39;version&#39; format, to the specified output &#39;stream&#39;, and return a
        // reference to &#39;stream&#39;.  If &#39;stream&#39; is initially invalid, this
        // operation has no effect.  If &#39;version&#39; is not supported, &#39;stream&#39; is
        // invalidated, but otherwise unmodified.  Note that &#39;version&#39; is not
        // written to &#39;stream&#39;.  See the &#39;bslx&#39; package-level documentation for
        // more information on BDEX streaming of value-semantic types and
        // containers.

    static int maxSupportedBdexVersion(int versionSelector);
        // Return the maximum valid BDEX format version, as indicated by the
        // specified &#39;versionSelector&#39;, to be passed to the &#39;bdexStreamOut&#39;
        // method.  Note that it is highly recommended that &#39;versionSelector&#39;
        // be formatted as &quot;YYYYMMDD&quot;, a date representation.  Also note that
        // &#39;versionSelector&#39; should be a *compile*-time-chosen value that
        // selects a format version supported by both externalizer and
        // unexternalizer.  See the &#39;bslx&#39; package-level documentation for more
        // information on BDEX streaming of value-semantic types and
        // containers.

    static bsl::ostream&amp; print(bsl::ostream&amp;          stream,
                               DayOfWeek::Enum        value,
                               int                    level          = 0,
                               int                    spacesPerLevel = 4);
        // Write the string representation of the specified enumeration &#39;value&#39;
        // to the specified output &#39;stream&#39;, and return a reference to
        // &#39;stream&#39;.  Optionally specify an initial indentation &#39;level&#39;, whose
        // absolute value is incremented recursively for nested objects.  If
        // &#39;level&#39; is specified, optionally specify &#39;spacesPerLevel&#39;, whose
        // absolute value indicates the number of spaces per indentation level
        // for this and all of its nested objects.  If &#39;level&#39; is negative,
        // suppress indentation of the first line.  If &#39;spacesPerLevel&#39; is
        // negative, format the entire output on one line, suppressing all but
        // the initial indentation (as governed by &#39;level&#39;).  The behavior is
        // undefined unless &#39;dayOfWeek&#39; is in the range &#39;[ e_SUN .. e_SAT ]&#39;.
        // See &#39;toAscii&#39; for what constitutes the string representation of a
        // &#39;bdlt::DayOfWeek::Enum&#39; value.

    static const char *toAscii(Enum dayOfWeek);
        // Return the abbreviated character-string representation of the
        // enumerator corresponding to the specified &#39;dayOfWeek&#39;.  This
        // representation matches the enumerator&#39;s three-character name (e.g.,
        // &#39;e_SUN&#39;) with the &quot;e_&quot; prefix elided.  For example:
        //..
        //  bsl::cout &lt;&lt; bdlt::DayOfWeek::toAscii(bdlt::DayOfWeek::e_SUN);
        //..
        // prints the following on standard output:
        //..
        //  SUN
        //..
        // Note that specifying a &#39;dayOfWeek&#39; that does not match any of the
        // enumerators will result in an unspecified string representation
        // being returned that is distinct from the values returned for any
        // valid enumeration.

};

// FREE OPERATORS
bsl::ostream&amp; operator&lt;&lt;(bsl::ostream&amp; stream, DayOfWeek::Enum value);
    // Write the string representation of the specified enumeration &#39;value&#39; to
    // the specified output &#39;stream&#39; in a single-line format, and return a
    // reference to &#39;stream&#39;.  See &#39;toAscii&#39; for what constitutes the string
    // representation of a &#39;bdlt::DayOfWeek::Enum&#39; value.  Note that this
    // method has the same behavior as
    //..
    //  bdlt::DayOfWeek::print(stream, value, 0, -1);
    //..

// FREE FUNCTIONS
template &lt;class STREAM&gt;
STREAM&amp; bdexStreamIn(STREAM&amp; stream, DayOfWeek::Enum&amp; variable, int version);
    // Load into the specified &#39;variable&#39; the &#39;DayOfWeek::Enum&#39; value read from
    // the specified input &#39;stream&#39; using the specified &#39;version&#39; format, and
    // return a reference to &#39;stream&#39;.  If &#39;stream&#39; is initially invalid, this
    // operation has no effect.  If &#39;version&#39; is not supported by &#39;DayOfWeek&#39;,
    // &#39;variable&#39; is unaltered and &#39;stream&#39; is invalidated, but otherwise
    // unmodified.  If &#39;version&#39; is supported by &#39;DayOfWeek&#39; but &#39;stream&#39;
    // becomes invalid during this operation, &#39;variable&#39; has an undefined, but
    // valid, state.  The behavior is undefined unless &#39;STREAM&#39; is
    // BDEX-compliant.  Note that no version is read from &#39;stream&#39;.  See the
    // &#39;bslx&#39; package-level documentation for more information on BDEX
    // streaming of value-semantic types and containers.

template &lt;class STREAM&gt;
STREAM&amp; bdexStreamOut(STREAM&amp;                stream,
                      const DayOfWeek::Enum&amp; value,
                      int                    version);
    // Write the specified &#39;value&#39;, using the specified &#39;version&#39; format, to
    // the specified output &#39;stream&#39;, and return a reference to &#39;stream&#39;.  If
    // &#39;stream&#39; is initially invalid, this operation has no effect.  If
    // &#39;version&#39; is not supported by &#39;DayOfWeek&#39;, &#39;stream&#39; is invalidated, but
    // otherwise unmodified.  The behavior is undefined unless &#39;STREAM&#39; is
    // BDEX-compliant.  Note that &#39;version&#39; is not written to &#39;stream&#39;.  See
    // the &#39;bslx&#39; package-level documentation for more information on BDEX
    // streaming of value-semantic types and containers.

int maxSupportedBdexVersion(const DayOfWeek::Enum *, int versionSelector);
    // Return the maximum valid BDEX format version, as indicated by the
    // specified &#39;versionSelector&#39;, to be passed to the &#39;bdexStreamOut&#39; method
    // while streaming an object of the type &#39;DayOfWeek::Enum&#39;.  Note that it
    // is highly recommended that &#39;versionSelector&#39; be formatted as &quot;YYYYMMDD&quot;,
    // a date representation.  Also note that &#39;versionSelector&#39; should be a
    // *compile*-time-chosen value that selects a format version supported by
    // both externalizer and unexternalizer.  See the &#39;bslx&#39; package-level
    // documentation for more information on BDEX streaming of value-semantic
    // types and containers.

// ============================================================================
//                            INLINE DEFINITIONS
// ============================================================================

                              // ---------------
                              // class DayOfWeek
                              // ---------------

// CLASS METHODS
template &lt;class STREAM&gt;
STREAM&amp; DayOfWeek::bdexStreamIn(STREAM&amp;          stream,
                                DayOfWeek::Enum&amp; variable,
                                int              version)
{
    if (stream) {
        switch (version) { // switch on the schema version
          case 1: {
            char newValue;
            stream.getInt8(newValue);
            if (stream &amp;&amp; e_SUN &lt;= newValue &amp;&amp; e_SAT &gt;= newValue) {
                variable = static_cast&lt;DayOfWeek::Enum&gt;(newValue);
            }
            else {
                stream.invalidate();
            }
          } break;
          default: {
            stream.invalidate();  // unrecognized version number
          }
        }
    }
    return stream;
}

template &lt;class STREAM&gt;
STREAM&amp; DayOfWeek::bdexStreamOut(STREAM&amp;         stream,
                                 DayOfWeek::Enum value,
                                 int             version)
{
    if (stream) {
        switch (version) { // switch on the schema version
          case 1: {
            stream.putInt8(static_cast&lt;char&gt;(value));
          } break;
          default: {
            stream.invalidate();  // unrecognized version number
          }
        }
    }
    return stream;
}

inline
int DayOfWeek::maxSupportedBdexVersion(int /* versionSelector */)
{
    return 1;
}


}  // close package namespace

// FREE OPERATORS
inline
bsl::ostream&amp; bdlt::operator&lt;&lt;(bsl::ostream&amp;         stream,
                               bdlt::DayOfWeek::Enum value)
{
    return bdlt::DayOfWeek::print(stream, value, 0, -1);
}

// FREE FUNCTIONS
template &lt;class STREAM&gt;
STREAM&amp; bdlt::bdexStreamIn(STREAM&amp;                stream,
                           bdlt::DayOfWeek::Enum&amp; variable,
                           int                    version)
{
    return bdlt::DayOfWeek::bdexStreamIn(stream, variable, version);
}

template &lt;class STREAM&gt;
STREAM&amp; bdlt::bdexStreamOut(STREAM&amp;                      stream,
                            const bdlt::DayOfWeek::Enum&amp; value,
                            int                          version)
{
    return bdlt::DayOfWeek::bdexStreamOut(stream, value, version);
}

inline
int bdlt::maxSupportedBdexVersion(const bdlt::DayOfWeek::Enum *,
                                  int                          versionSelector)
{
    return bdlt::DayOfWeek::maxSupportedBdexVersion(versionSelector);
}


}  // close enterprise namespace

#endif

// ----------------------------------------------------------------------------
// Copyright 2014 Bloomberg Finance L.P.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ----------------------------- END-OF-FILE ----------------------------------
</pre>
</body>
</html>
