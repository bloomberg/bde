<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bdlb_bitstringutil Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdlb_bitstringutil<br/>
<small>
[<a class="el" href="group__bdlb.html">Package bdlb</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide efficient operations on a multi-word sequence of bits.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdlb.html">bdlb</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">The "Bit String" Pseudo-Type</a> </li>
<li>
<a href="#3.2">Manipulator Functions</a> </li>
<li>
<a href="#3.3">Accessor Functions</a> </li>
<li>
<a href="#3.4">Usage</a> <ul>
<li>
<a href="#3.4.1">Example 1: Maintaining a Calendar of Business Days</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide efficient operations on a multi-word sequence of bits. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbdlb_1_1BitStringUtil.html">bdlb::BitStringUtil</a> </td><td>namespace for common bit-manipulation procedures  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__bdlb__bitutil.html" title="Provide efficient bit-manipulation of uint32_t/uint64_t values.">Component bdlb_bitutil</a>, <a class="el" href="group__bdlb__bitmaskutil.html" title="Provide simple mask values of uint32_t and uint64_t types.">Component bdlb_bitmaskutil</a>, <a class="el" href="group__bdlb__bitstringimputil.html" title="Provide functional bit-manipulation of uint64_t values.">Component bdlb_bitstringimputil</a>, <a class="el" href="group__bdlc__bitarray.html" title="Provide a space-efficient, sequential container of boolean values.">Component bdlc_bitarray</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a utility <code>struct</code>, <code><a class="el" href="structbdlb_1_1BitStringUtil.html">bdlb::BitStringUtil</a></code>, that serves as a namespace for a collection of efficient, bit-level procedures on "bit strings", sequences of bits stored in arrays of 64-bit <code>uint64_t</code> values. A number of operations of various types are provided: bitwise-logical, copy, assignment, read, insert/remove, compare, find, count, and print operations are offered, among others. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="the_~22bit_string~22_pseudo-type"></a> <a class="anchor" id="description.the_~22bit_string~22_pseudo-type"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>The "Bit String" Pseudo-Type: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>A contiguous sequence of bits that occupy a positive integral number of sequential <code>uint64_t</code> values can be viewed as a string of bits. This component supports operations on such sequences. The notion of "bit
 string", a pseudo-type, is used to document those operations. Correspondingly, <code>BitStringUtil</code> operations are categorized as either "manipulators", operations that modify bit strings; or "accessors", operations that return information and guarantee that no change to bit strings occurs. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>A bit string has two "structural" attributes: <br/>
<br/>
<div class="fragment"><pre class="fragment">  Capacity - The capacity, in bits, of a bit <span class="keywordtype">string</span> is the number of
             <span class="stringliteral">&#39;uint64_t&#39;</span> values in the array multiplied by
             <span class="stringliteral">&#39;BitStringUtil::k_BITS_PER_UINT64&#39;</span>.  Note that the capacity of a
             bit <span class="keywordtype">string</span> is analogous to the capacity of a <span class="stringliteral">&#39;bsl::vector&#39;</span>.

  Length   - The number of significant bits stored in the bit <span class="keywordtype">string</span>.  The
             length can never exceed the capacity, and the length is
             analogous to the length of a <span class="stringliteral">&#39;bsl::vector&#39;</span>.
</pre></div><br/>
<br/>
 Since the bit string is a pseudo-type, there is no language support for managing these values; the user must do so explicitly. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Many operations on a bit string refer to a "position" within a bit string, or a range of positions within a bit string: <br/>
<br/>
<div class="fragment"><pre class="fragment">  Position - The offset (in bits) of a bit value from the beginning of a
             bit <a class="code" href="group__bslstl__string.html#gab67de1ebe0184939129507efe5c86bb1">string</a> (also called the <span class="stringliteral">&quot;index&quot;</span> of a bit).
</pre></div><br/>
<br/>
 The notion of "position" used in this component is a generalization of the notion of a bit's position in a single integer value. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Bits within a 64-bit <code>uint64_t</code> (irrespective of the endian-ness of a platform) are here numbered, starting at 0, from the least-significant bit to the most-significant bit. In illustrations, we typically show the high-order bits on the left: <br/>
<br/>
<div class="fragment"><pre class="fragment">   63 62  . . . . .   5  4  3  2  1  0
  +-----------------------------------+
  | 1| 0| . . . . . | 1| 1| 0| 0| 1| 0|
  +-----------------------------------+
</pre></div><br/>
<br/>
 Thus, left-shifting (e.g., caused by <code>insert</code>ing low-order bits) causes bits to move up in bit-position (to positions of higher significance) and right-shifting (e.g., caused by <code>remove</code>ing low-order bits) causes bits to move into positions of less significance. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component extends this representation to an arbitrary sequence of bits represented using an array of 64-bit <code>uint64_t</code> values. For example, the bit string shown below is built on an array of three <code>uint64_t</code> values. Thus, it has a capacity of 192 (i.e., <code>3 * BitStringUtil::k_BITS_PER_UINT64</code>). Note that words are ordered right-to-left, so the lowest-order bits are to the right. This is also how the <code><a class="el" href="structbdlb_1_1BitStringUtil.html#afbcbe0f9a90047c47335ea33d410c3af">bdlb::BitStringUtil::print</a></code> function orders the words it outputs: <br/>
<br/>
<div class="fragment"><pre class="fragment">  |&lt;------ word 2 ------&gt;|&lt;------ word 1 ------&gt;|&lt;------ word 0 ------&gt;|
  | 191 190 . .  129 128 | 127 126 . . .  65 64 | 63 62 . . . . .  1 0 |
  +----------------------+----------------------+----------------------+
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="manipulator_functions"></a> <a class="anchor" id="description.manipulator_functions"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>Manipulator Functions: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Manipulator functions return <code>void</code>, and take the address of an integer as the first argument in order to modify it in place. <br/>
<br/>
<div class="fragment"><pre class="fragment">                                 Assignment
 +--------------------------------------------------------------------------+
 | <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a8878d14342c51302d88f1c2e8d242a5e">assign</a>     | Overloaded; <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a8878d14342c51302d88f1c2e8d242a5e">assign</a> 0 or more contiguous bits to a specified |
 |            | <span class="stringliteral">&#39;bool&#39;</span> value.                                               |
 +--------------------------------------------------------------------------+
 | assign0    | Overloaded; <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a8878d14342c51302d88f1c2e8d242a5e">assign</a> 0 or more contiguous bits to <span class="stringliteral">&#39;false&#39;</span>.    |
 +--------------------------------------------------------------------------+
 | assign1    | Overloaded; <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a8878d14342c51302d88f1c2e8d242a5e">assign</a> 0 or more contiguous bits to <span class="stringliteral">&#39;true&#39;</span>.     |
 +--------------------------------------------------------------------------+
 | assignBits | Assign up to one word of contiguous bits, taken from a      |
 |            | <span class="stringliteral">&#39;uint64_t&#39;</span> argument.                                        |
 +--------------------------------------------------------------------------+

                                Bitwise-Logical
 +--------------------------------------------------------------------------+
 | andEqual   | Bitwise-AND ranges of equal length from two bit strings, a  |
 |            | <span class="stringliteral">&#39;dstBitString&#39;</span> and a <span class="stringliteral">&#39;srcBitString&#39;</span>, writing the result     |
 |            | over the range from <span class="stringliteral">&#39;dstBitString&#39;</span>.                         |
 +--------------------------------------------------------------------------+
 | minusEqual | Bitwise-MINUS ranges of equal length from two bit strings,  |
 |            | a <span class="stringliteral">&#39;srcBitString&#39;</span> from a <span class="stringliteral">&#39;dstBitString&#39;</span>, writing the result  |
 |            | over the range from <span class="stringliteral">&#39;dstBitString&#39;</span>.                         |
 +--------------------------------------------------------------------------+
 | orEqual    | Bitwise-OR ranges of equal length from two bit strings, a   |
 |            | <span class="stringliteral">&#39;dstBitString&#39;</span> and a <span class="stringliteral">&#39;srcBitString&#39;</span>, writing the result     |
 |            | over the range from <span class="stringliteral">&#39;dstBitString&#39;</span>.                         |
 +--------------------------------------------------------------------------+
 | xorEqual   | Bitwise-XOR ranges of equal length from two bit strings, a  |
 |            | <span class="stringliteral">&#39;dstBitString&#39;</span> and a <span class="stringliteral">&#39;srcBitString&#39;</span>, writing the result     |
 |            | over the range from <span class="stringliteral">&#39;dstBitString&#39;</span>.                         |
 +--------------------------------------------------------------------------+

                                      Copy
 +--------------------------------------------------------------------------+
 | copyRaw | Copy a range from one bit <span class="keywordtype">string</span> to another range, with some   |
 |         | restrictions on overlap between the two ranges.                |
 +--------------------------------------------------------------------------+
 | copy    | Copy a range from one bit <span class="keywordtype">string</span> to another range, with no     |
 |         | restrictions on overlap between the two ranges.                |
 +--------------------------------------------------------------------------+

                                 Insert / Remove
 +--------------------------------------------------------------------------+
 | insert    | Overloaded; insert 0 or more bits of a specified <span class="stringliteral">&#39;bool&#39;</span>      |
 |           | value.                                                       |
 +--------------------------------------------------------------------------+
 | insert0   | Overloaded; insert 0 or more <span class="stringliteral">&#39;false&#39;</span> bits.                   |
 +--------------------------------------------------------------------------+
 | insert1   | Overloaded; insert 0 or more <span class="stringliteral">&#39;true&#39;</span> bits.                    |
 +--------------------------------------------------------------------------+
 | insertRaw | Make room <span class="keywordflow">for</span> additional bits in a bit <span class="keywordtype">string</span> by moving all  |
 |           | bits above a given index up, leaving the values of the       |
 |           | newly-inserted bits undefined.                               |
 +--------------------------------------------------------------------------+
 | <span class="keyword">remove</span>         | Remove 0 or more bits from a bit <span class="keywordtype">string</span>.                |
 +--------------------------------------------------------------------------+
 | removeAndFill0 | Remove 0 or more bits from a bit <span class="keywordtype">string</span> and <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a8878d14342c51302d88f1c2e8d242a5e">assign</a>      |
 |                | <span class="stringliteral">&#39;false&#39;</span> to vacated higher-order bits.                   |
 +--------------------------------------------------------------------------+
 | removeAndFill1 | Remove 0 or more bits from a bit <span class="keywordtype">string</span> and <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a8878d14342c51302d88f1c2e8d242a5e">assign</a>      |
 |                | <span class="stringliteral">&#39;true&#39;</span> to vacated higher-order bits.                    |
 +--------------------------------------------------------------------------+

                                Other Manipulators
 +--------------------------------------------------------------------------+
 | swapRaw | Swap two ranges of bit strings, which must not overlap.        |
 +--------------------------------------------------------------------------+
 | toggle  | Negate all the bits in a range of a bit <span class="keywordtype">string</span>.                |
 +--------------------------------------------------------------------------+
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="accessor_functions"></a> <a class="anchor" id="description.accessor_functions"></a> <a class="anchor" id="3.3"></a> </dd></dl>
<dl class="user"><dt><b>Accessor Functions: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Accessor function return a value but do not modify a bit string. <br/>
<br/>
<div class="fragment"><pre class="fragment">                                    Compare
 +--------------------------------------------------------------------------+
 | areEqual | Compare two ranges of bits <span class="keywordflow">for</span> equality.                      |
 +--------------------------------------------------------------------------+

                                     Read
 +--------------------------------------------------------------------------+
 | bit  | Return the <span class="keywordtype">boolean</span> value of a single bit from a bit <span class="keywordtype">string</span>.       |
 +--------------------------------------------------------------------------+
 | bits | Return a <span class="stringliteral">&#39;uint64_t&#39;</span> containing at most <span class="stringliteral">&#39;k_BITS_PER_UINT64&#39;</span>        |
 |      | adjacent bits from a bit <span class="keywordtype">string</span>.                                  |
 +--------------------------------------------------------------------------+

                                     Find
 +--------------------------------------------------------------------------+
 | find0AtMaxIndex | Locate the highest-order 0 bit in a range.             |
 +--------------------------------------------------------------------------+
 | find0AtMinIndex | Locate the lowest-order 0 bit in a range.              |
 +--------------------------------------------------------------------------+
 | find1AtMaxIndex | Locate the highest-order 1 bit in a range.             |
 +--------------------------------------------------------------------------+
 | find1AtMinIndex | Locate the lowest-order 1 bit in a range.              |
 +--------------------------------------------------------------------------+

                                     Count
 +--------------------------------------------------------------------------+
 | isAny0 | Return <span class="stringliteral">&#39;true&#39;</span> <span class="keywordflow">if</span> any bit in a range is 0, and <span class="stringliteral">&#39;false&#39;</span>           |
 |        | otherwise.                                                      |
 +--------------------------------------------------------------------------+
 | isAny1 | Return <span class="stringliteral">&#39;true&#39;</span> <span class="keywordflow">if</span> any bit in a range is 1, and <span class="stringliteral">&#39;false&#39;</span>           |
 |        | otherwise.                                                      |
 +--------------------------------------------------------------------------+
 | num0   | Return the number of 0 bits in a range.                         |
 +--------------------------------------------------------------------------+
 | num1   | Return the number of 1 bits in a range.                         |
 +--------------------------------------------------------------------------+

                                    Output
 +--------------------------------------------------------------------------+
 | <a class="code" href="namespacebdlb_1_1PrintMethods.html#a26513ec0b5c4fa7a532923b7bc41ce0b">print</a> | Output a bit <span class="keywordtype">string</span> in hex.                                      |
 +--------------------------------------------------------------------------+
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.4"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section illustrates intended use of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_maintaining_a_calendar_of_business_days"></a> <a class="anchor" id="usage.example_1~3A_maintaining_a_calendar_of_business_days"></a> <a class="anchor" id="description.usage.example_1~3A_maintaining_a_calendar_of_business_days"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.4.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Maintaining a Calendar of Business Days: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Bit strings can be used to represent business calendars and facilitate efficient operations on such calendars. We will use bit strings to mark properties of days of the year 2013. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, create an enumeration showing the number of days in the year 2013 before the beginning of each month, so that: <br/>
<br/>
<div class="fragment"><pre class="fragment"> &lt;constant <span class="keywordflow">for</span> month&gt; + &lt;day of month&gt; == &lt;day of year&gt;

  <span class="keyword">enum</span> {
      JAN =        0,    <span class="comment">// Note: First DOY is &#39;JAN + 1&#39;.</span>
      FEB = JAN + 31,
      MAR = FEB + 28,    <span class="comment">// 2013 was not a leap year.</span>
      APR = MAR + 31,
      MAY = APR + 30,
      JUN = MAY + 31,
      JUL = JUN + 30,
      AUG = JUL + 31,
      SEP = AUG + 31,
      OCT = SEP + 30,
      NOV = OCT + 31,
      DEC = NOV + 30
  };
</pre></div><br/>
<br/>
 Then, create a bit string with sufficient capacity to represent every day of a year (note that 64 * 6 = 384) and set a 1-bit in the indices corresponding to the day-of-year (DOY) for each weekend day. For convenience in date calculations, the 0 index is not used; the 365 days of the year are at indices <code>[1 .. 365]</code>. Further note that the values set below correspond to the year 2013: <br/>
<br/>
<div class="fragment"><pre class="fragment">  uint64_t weekends[6] = { 0 };

  <span class="comment">// We are marking only weekend days, so start with the first weekend day</span>
  <span class="comment">// of the year: Saturday, January 5, 2013.</span>

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 5; i &lt; 366; i += 7) {
      <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(weekends, i,   1);
      <span class="keywordflow">if</span> (i + 1 &lt; 366) {
          <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(weekends, i + 1, 1);
      }
  }
</pre></div><br/>
<br/>
 Next, we can easily use <code><a class="el" href="structbdlb_1_1BitStringUtil.html">bdlb::BitStringUtil</a></code> methods to find days of interest. For example, we can find the first and last weekend days of the year: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">const</span> <span class="keywordtype">int</span> firstWeekendDay = <a class="code" href="structbdlb_1_1BitStringUtil.html#ab8982e37ea8f8a9e484141da1c682cfc">bdlb::BitStringUtil::find1AtMinIndex</a>(weekends,
                                                                   365 + 1);
  <span class="keyword">const</span> <span class="keywordtype">int</span> lastWeekendDay  = <a class="code" href="structbdlb_1_1BitStringUtil.html#a7d3055ee57d6d46d3a5e8299f0d62f99">bdlb::BitStringUtil::find1AtMaxIndex</a>(weekends,
                                                                   365 + 1);

  assert(JAN +  5 == firstWeekendDay);
  assert(DEC + 29 ==  lastWeekendDay);
</pre></div><br/>
<br/>
 Then, we define the following enumeration that allows us to easily represent the US holidays of the year: <br/>
<br/>
<div class="fragment"><pre class="fragment">  uint64_t holidays[6] = { 0 };

  <span class="keyword">enum</span> USHolidays2013 {
      NEW_YEARS_DAY             = JAN +  1,
      MARTIN_LUTHER_KING_JR_DAY = JAN + 21,
      PRESIDENTS_DAY            = FEB + 18,
      GOOD_FRIDAY               = MAR + 29,
      MEMORIAL_DAY              = MAY + 27,
      INDEPENDENCE_DAY          = JUL +  4,
      LABOR_DAY                 = SEP +  2,
      THANKSGIVING              = NOV + 28,
      CHRISTMAS                 = DEC + 25
  };

  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, NEW_YEARS_DAY,             <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, MARTIN_LUTHER_KING_JR_DAY, <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, PRESIDENTS_DAY,            <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, GOOD_FRIDAY,               <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, MEMORIAL_DAY,              <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, INDEPENDENCE_DAY,          <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, LABOR_DAY,                 <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, THANKSGIVING,              <span class="keyword">true</span>);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#ade793368f0aa1d2da1be3e8d54c4e738">bdlb::BitStringUtil::assign</a>(holidays, CHRISTMAS,                 <span class="keyword">true</span>);
</pre></div><br/>
<br/>
 Next, the following enumeration indicates the beginning of fiscal quarters: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">enum</span> {
      Q1 = JAN + 1,
      Q2 = APR + 1,
      Q3 = JUN + 1,
      Q4 = OCT + 1
  };
</pre></div><br/>
<br/>
 Now, we can query our calendar for the first holiday in the third quarter, if any: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">const</span> bsl::size_t firstHolidayOfQ3 = <a class="code" href="structbdlb_1_1BitStringUtil.html#ab8982e37ea8f8a9e484141da1c682cfc">bdlb::BitStringUtil::find1AtMinIndex</a>(
                                                                    holidays,
                                                                    Q3,
                                                                    Q4);
  assert(INDEPENDENCE_DAY == firstHolidayOfQ3);
</pre></div><br/>
<br/>
 Finally, our weekend and holiday calendars are readily combined to represent days off for either reason (i.e., holiday or weekend): <br/>
<br/>
<div class="fragment"><pre class="fragment">  uint64_t allDaysOff[6] = { 0 };
  <a class="code" href="structbdlb_1_1BitStringUtil.html#a471f1b2d82bacb9d5ff2586e49324961">bdlb::BitStringUtil::orEqual</a>(allDaysOff, 1, weekends, 1, 365);
  <a class="code" href="structbdlb_1_1BitStringUtil.html#a471f1b2d82bacb9d5ff2586e49324961">bdlb::BitStringUtil::orEqual</a>(allDaysOff, 1, holidays, 1, 365);

  <span class="keywordtype">bool</span> isOffMay24 = <a class="code" href="structbdlb_1_1BitStringUtil.html#a76808cd3621cd98609683f04231f4a7d">bdlb::BitStringUtil::bit</a>(allDaysOff, MAY + 24);
  <span class="keywordtype">bool</span> isOffMay25 = <a class="code" href="structbdlb_1_1BitStringUtil.html#a76808cd3621cd98609683f04231f4a7d">bdlb::BitStringUtil::bit</a>(allDaysOff, MAY + 25);
  <span class="keywordtype">bool</span> isOffMay26 = <a class="code" href="structbdlb_1_1BitStringUtil.html#a76808cd3621cd98609683f04231f4a7d">bdlb::BitStringUtil::bit</a>(allDaysOff, MAY + 26);
  <span class="keywordtype">bool</span> isOffMay27 = <a class="code" href="structbdlb_1_1BitStringUtil.html#a76808cd3621cd98609683f04231f4a7d">bdlb::BitStringUtil::bit</a>(allDaysOff, MAY + 27);
  <span class="keywordtype">bool</span> isOffMay28 = <a class="code" href="structbdlb_1_1BitStringUtil.html#a76808cd3621cd98609683f04231f4a7d">bdlb::BitStringUtil::bit</a>(allDaysOff, MAY + 28);

  assert(<span class="keyword">false</span> == isOffMay24);
  assert(<span class="keyword">true</span>  == isOffMay25);    <span class="comment">// Saturday</span>
  assert(<span class="keyword">true</span>  == isOffMay26);    <span class="comment">// Sunday</span>
  assert(<span class="keyword">true</span>  == isOffMay27);    <span class="comment">// Note May 27, 2013 is Memorial Day.</span>
  assert(<span class="keyword">false</span> == isOffMay28);
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:33 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
