<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bdlat_symbolicconverter Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<h1>Component bdlat_symbolicconverter<br/>
<small>
[<a class="el" href="group__bdlat.html">Package bdlat</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a utility for convert types with matching member symbols.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbdlat__SymbolicConverter.html">bdlat_SymbolicConverter</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">symbolic converter utility  <a href="structbdlat__SymbolicConverter.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__Imp.html">bdlat_SymbolicConverter_Imp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__StoreValue.html">bdlat_SymbolicConverter_StoreValue&lt; LVALUE_TYPE &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__LoadValue.html">bdlat_SymbolicConverter_LoadValue&lt; RVALUE_TYPE &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__StoreInSequence.html">bdlat_SymbolicConverter_StoreInSequence&lt; SEQUENCE_TYPE &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__StoreInChoice.html">bdlat_SymbolicConverter_StoreInChoice&lt; CHOICE_TYPE &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__StoreInArrayElement.html">bdlat_SymbolicConverter_StoreInArrayElement&lt; ARRAY_TYPE &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbdlat__SymbolicConverter__StoreInNullable.html">bdlat_SymbolicConverter_StoreInNullable&lt; NULLABLE_TYPE &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbdlat__SymbolicConverter__Imp__resolveDynamicRhsProxy.html">bdlat_SymbolicConverter_Imp_resolveDynamicRhsProxy&lt; LHS_TYPE, LHS_CATEGORY &gt;</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbdlat__SymbolicConverter__Imp__resolveDynamicLhsProxy.html">bdlat_SymbolicConverter_Imp_resolveDynamicLhsProxy&lt; RHS_TYPE, RHS_CATEGORY &gt;</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a utility for convert types with matching member symbols. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbdlat__SymbolicConverter.html" title="symbolic converter utility">bdlat_SymbolicConverter</a> </td><td>symbolic converter utility  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code><a class="el" href="structbdlat__SymbolicConverter.html" title="symbolic converter utility">bdlat_SymbolicConverter</a></code> utility provided by this component defines a single parameterized function <code>convert</code>. The <code>convert</code> function takes two arguments: a destination and a source object. The destination and source objects may be of different types. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Each type can fall into one of the following categories: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classCategory.html">Category</a>          Reference
  --------          ---------
  Sequence          bdlat_sequencefunctions
  Choice            bdlat_choicefunctions
  Array             bdlat_arrayfunctions
  Enumeration       bdlat_enumfunctions
  NullableValue     bdlat_nullablevaluefunctions
  CustomizedType    bdlat_customizedtypefunctions
  Simple            basic C++ fundamental types &amp; other value-semantic types
</pre></div><br/>
<br/>
 The <code><a class="el" href="structbdlat__SymbolicConverter.html" title="symbolic converter utility">bdlat_SymbolicConverter</a></code> utility converts from one type to another using the following criteria: <br/>
<br/>
<div class="fragment"><pre class="fragment">  Destination <a class="code" href="classCategory.html">Category</a>  Source <a class="code" href="classCategory.html">Category</a>   Comments
  --------------------  ---------------   --------
  Sequence              Sequence          The conversion will fail <span class="keywordflow">if</span> each
                                          attribute in the <span class="keyword">set</span> of attributes
                                          from the source does not have a
                                          corresponding attribute (with the
                                          same name) in the destination.  The
                                          conversion will also fail <span class="keywordflow">if</span> any
                                          attributes from the source fail to
                                          convert to the corresponding
                                          attribute in the destination.  Any
                                          attribute in the destination that
                                          does not have a corresponding
                                          attribute in the source will be <span class="keyword">set</span>
                                          to its <span class="keywordflow">default</span> value.

  Choice                Choice            The conversion will fail <span class="keywordflow">if</span> the
                                          destination does not have a
                                          selection with the same name as the
                                          current selection in the source.
                                          The conversion will also fail <span class="keywordflow">if</span>
                                          the selection from the source fails
                                          to convert to the corresponding
                                          selection in the destination.  If
                                          nothing is selected in the source,
                                          then the destination will be <a class="code" href="namespacebdlat__ValueTypeFunctions.html#a712743f16be0f4121bca7574c9face99">reset</a>.

  Array                 Array             The conversion will fail <span class="keywordflow">if</span> the
                                          elements in the source fail to
                                          convert to the elements in the
                                          destination.  Upon completion, the
                                          destination array will contain the
                                          same number of elements as the
                                          source array.

  Enumeration           Enumeration       The conversion will fail <span class="keywordflow">if</span> the
                                          destination does not have a <span class="keywordtype">string</span>
                                          value that is identical to the
                                          <span class="keywordtype">string</span> value of the source.

  Enumeration           <span class="keywordtype">char</span>/<span class="keywordtype">short</span>/<span class="keywordtype">int</span>    The conversion will fail <span class="keywordflow">if</span> the
                                          destination does not have an
                                          enumerator with the numeric value
                                          of the source.

  <span class="keywordtype">char</span>/<span class="keywordtype">short</span>/<span class="keywordtype">int</span>        Enumeration       The conversion will fail <span class="keywordflow">if</span> the
                                          numeric value of the enumeration is
                                          outside the bounds of the
                                          destination type.

  Enumeration           <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a>       The conversion will fail <span class="keywordflow">if</span> the
                                          destination does not have an
                                          enumerator with the symbolic <span class="keywordtype">string</span>
                                          name of the source.

  <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a>           Enumeration       This conversion always succeeds.

  NullableValue         NullableValue     The conversion will fail <span class="keywordflow">if</span> the
                                          source has a value that fails to
                                          convert to the destination value.
                                          If the source is null, then the
                                          destination is nulled.

  NullableValue         AnyType           The conversion will fail <span class="keywordflow">if</span> the
                                          source fails to convert to the
                                          destination value.

  AnyType               NullableValue     The conversion will fail <span class="keywordflow">if</span> the
                                          source is not null and the value in
                                          the source fails to convert to the
                                          destination.  If the source is
                                          null, then the destination will
                                          be <span class="keyword">set</span> to its <span class="keywordflow">default</span> value.

  CustomizedType        CustomizedType    The conversion will fail <span class="keywordflow">if</span> the
                                          base value in the source fails to
                                          convert to the base value in the
                                          destination and the base value is
                                          able to convert to the customized
                                          value.

  CustomizedType        AnyType           The conversion will fail <span class="keywordflow">if</span> the
                                          source fails to convert to the base
                                          value in the destination and the
                                          base value is able to convert to
                                          the customized value.

  AnyType               CustomizedType    The conversion will fail <span class="keywordflow">if</span> the
                                          base value in the source fails to
                                          convert to the destination.

  SimpleType            SimpleType        The conversion will fail <span class="keywordflow">if</span> there
                                          is no accessible compile-time
                                          assignment <span class="keyword">operator</span> from the
                                          destination to the source.  This is
                                          determined <span class="keyword">using</span>
                                          <span class="stringliteral">&#39;bslmf_isconvertible&#39;</span>.
</pre></div><br/>
<br/>
 Any other combination of destination and source categories will fail to convert. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following snippets of code illustrate the usage of this component. This component can be used with types supported by the <code>bdlat</code> framework. In particular, types generated by the <code>bas_codegen.pl</code> tool can be used. For example, suppose we have the following XML schema inside a file called <code>xsdfile.xsd</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  &lt;?xml version=<span class="stringliteral">&#39;1.0&#39;</span> encoding=<span class="stringliteral">&#39;UTF-8&#39;</span>?&gt;
  &lt;xs:schema xmlns:xs=<span class="stringliteral">&#39;http://www.w3.org/2001/XMLSchema&#39;</span>
             xmlns:bdem=<span class="stringliteral">&#39;http://bloomberg.com/schemas/bdem&#39;</span>
             elementFormDefault=<span class="stringliteral">&#39;unqualified&#39;</span>&gt;

      &lt;xs:complexType name=<span class="stringliteral">&#39;Employee&#39;</span>&gt;
          &lt;xs:sequence&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Name&#39;</span>   type=<span class="stringliteral">&#39;string&#39;</span>/&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Dept&#39;</span>   type=<span class="stringliteral">&#39;string&#39;</span>/&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Age&#39;</span>    type=<span class="stringliteral">&#39;int&#39;</span>/&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Salary&#39;</span> type=<span class="stringliteral">&#39;float&#39;</span>/&gt;
          &lt;/xs:sequence&gt;
      &lt;/xs:complexType&gt;

      &lt;xs:complexType name=<span class="stringliteral">&#39;Trainee&#39;</span>&gt;
          &lt;xs:sequence&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Name&#39;</span> type=<span class="stringliteral">&#39;string&#39;</span>/&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Dept&#39;</span> type=<span class="stringliteral">&#39;string&#39;</span>/&gt;
              &lt;xs:element name=<span class="stringliteral">&#39;Age&#39;</span>  type=<span class="stringliteral">&#39;int&#39;</span>/&gt;
          &lt;/xs:sequence&gt;
      &lt;/xs:complexType&gt;

  &lt;/xs:schema&gt;
</pre></div><br/>
<br/>
 Using the <code>bas_codegen.pl</code> tool, we can generate C++ classes for this schema: <br/>
<br/>
<div class="fragment"><pre class="fragment">  $ bas_codegen.pl -g h -g cpp -p test xsdfile.xsd
</pre></div><br/>
<br/>
 This tool will generate the header and implementation files for the <code>test_employee</code> and <code>test_trainee</code> components in the current directory. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Now suppose we want to create a <code>hireTrainee</code> function, that converts a trainee to an employee. Such a function could be written as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;test_employee.h&gt;</span>
<span class="preprocessor">  #include &lt;test_trainee.h&gt;</span>

<span class="preprocessor">  #include &lt;<a class="code" href="bdlat__symbolicconverter_8h.html" title="Provide a utility for convert types with matching member symbols.">bdlat_symbolicconverter.h</a>&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">int</span> hireTrainee(test::Employee       *result,
                  <span class="keyword">const</span> test::Trainee&amp;  trainee,
                  <span class="keywordtype">float</span>                 salary)
  {
      <span class="keywordtype">int</span> retCode = <a class="code" href="structbdlat__SymbolicConverter.html#a118ea2c2805fbde7471514ba6428b795">bdlat_SymbolicConverter::convert</a>(result, trainee);

      result-&gt;salary() = salary;

      <span class="keywordflow">return</span> retCode;
  }
</pre></div><br/>
<br/>
 The <code>hireTrainee</code> function can be used as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keywordtype">void</span> usageExample()
  {
      test::Trainee trainee;

      trainee.name() = <span class="stringliteral">&quot;Bob&quot;</span>;
      trainee.dept() = <span class="stringliteral">&quot;RnD&quot;</span>;
      trainee.age()  = 24;

      test::Employee employee;

      <span class="keywordtype">int</span> result = hireTrainee(&amp;employee, trainee, 20000.00f);

      assert(0         == result);
      assert(<span class="stringliteral">&quot;Bob&quot;</span>     == employee.name());
      assert(<span class="stringliteral">&quot;RnD&quot;</span>     == employee.dept());
      assert(24        == employee.age());
      assert(20000.00f == employee.salary());
  }
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:33 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
