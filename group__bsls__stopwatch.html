<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 2.16 BETA: bsls_stopwatch Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=0 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bsl__P__bslhdrs.html">bsl+bslhdrs</a> | <a class="qindex" href="group__bsl__P__stdhdrs.html">bsl+stdhdrs</a> | <a class="qindex" href="group__bslalg.html">bslalg</a> | <a class="qindex" href="group__bsldoc.html">bsldoc</a> | <a class="qindex" href="group__bslim.html">bslim</a> | <a class="qindex" href="group__bslma.html">bslma</a> | <a class="qindex" href="group__bslmf.html">bslmf</a> | <a class="qindex" href="group__bsls.html">bsls</a> | <a class="qindex" href="group__bslscm.html">bslscm</a> | <a class="qindex" href="group__bslstl.html">bslstl</a> | <a class="qindex" href="group__bsltf.html">bsltf</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bsls_stopwatch<br/>
<small>
[<a class="el" href="group__bsls.html">Package bsls</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide access to user, system, and wall times of current process.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebsls.html">bsls</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Accuracy and Precision</a> <ul>
<li>
<a href="#3.1.1">Accuracy on Windows</a> </li>
</ul>
</li>
<li>
<a href="#3.2">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide access to user, system, and wall times of current process. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a> </td><td>accumulates user, system, wall times of current process  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a class, <code><a class="el" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a></code>, that implements real-time (system clock) interval timers for the system, user, and wall times of the current process. A <code><a class="el" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a></code> object can accumulate the above values from multiple runs and always presents only the final total (zero if never started or reset to the initial state). </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="accuracy_and_precision"></a> <a class="anchor" id="description.accuracy_and_precision"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Accuracy and Precision: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>A <code><a class="el" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a></code> object returns its elapsed time intervals in seconds as <code>double</code> values. The precision is given by that of the <code><a class="el" href="structbsls_1_1TimeUtil.html">bsls::TimeUtil</a></code> component, and, as such, strives to be as high as possible. Monotonic behavior is platform-dependent, however, as are accuracy and useful precision. The user is advised to determine the actual performance on each platform of interest. In general, it is better to avoid stopping and restarting the stopwatch too often (e.g., inside a loop). It is better to measure the overhead of the loop separately and subtract that time from the over-all time interval. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="accuracy_on_windows"></a> <a class="anchor" id="accuracy_and_precision.accuracy_on_windows"></a> <a class="anchor" id="description.accuracy_and_precision.accuracy_on_windows"></a> <a class="anchor" id="3.1.1"></a> </dd></dl>
<dl class="user"><dt><b>Accuracy on Windows: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><code><a class="el" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a></code> may be slow or inconsistent on some Windows machines. See the <code>Accuracy and Precision</code> section of <code><a class="el" href="bsls__timeutil_8h.html" title="Provide a platform-neutral functional interface to system clocks.">bsls_timeutil.h</a></code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following snippets of code illustrate basic use of a <code><a class="el" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a></code> object. First we create a stopwatch and note that the accumulated times are all initially 0.0: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbsls_1_1Stopwatch.html">bsls::Stopwatch</a> s;
  <span class="keyword">const</span> <span class="keywordtype">double</span> t0s = s.<a class="code" href="classbsls_1_1Stopwatch.html#acd7a3b2825edbe09c1037a57bb812095">accumulatedSystemTime</a>();  assert(0.0 == t0s);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t0u = s.<a class="code" href="classbsls_1_1Stopwatch.html#add36fc953220c5029276807f5acda77d">accumulatedUserTime</a>();    assert(0.0 == t0u);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t0w = s.<a class="code" href="classbsls_1_1Stopwatch.html#a8ef30c4f2413e017bf1c24f03c8f3130">accumulatedWallTime</a>();    assert(0.0 == t0w);
</pre></div><br/>
<br/>
 Next we start the stopwatch such that it does not accumulate system or user times. Note that a stopwatch always accumulates wall time (i.e., as long as it is in the RUNNING state): <br/>
<br/>
<div class="fragment"><pre class="fragment">  s.<a class="code" href="classbsls_1_1Stopwatch.html#a5cd3418895715a184ca946af1228f3bb">start</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span> t1s = s.<a class="code" href="classbsls_1_1Stopwatch.html#acd7a3b2825edbe09c1037a57bb812095">accumulatedSystemTime</a>();  assert(0.0 == t1s);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t1u = s.<a class="code" href="classbsls_1_1Stopwatch.html#add36fc953220c5029276807f5acda77d">accumulatedUserTime</a>();    assert(0.0 == t1u);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t1w = s.<a class="code" href="classbsls_1_1Stopwatch.html#a8ef30c4f2413e017bf1c24f03c8f3130">accumulatedWallTime</a>();    assert(0.0 &lt;= t1w);
</pre></div><br/>
<br/>
 Now stop the stopwatch and restart it so as to accumulate system and user times (i.e., by passing <code>true</code> to the <code>start</code> method): <br/>
<br/>
<div class="fragment"><pre class="fragment">  s.<a class="code" href="classbsls_1_1Stopwatch.html#a5410bbcb86ce3c3f31cf41dfe4bf95d7">stop</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span> t2s = s.<a class="code" href="classbsls_1_1Stopwatch.html#acd7a3b2825edbe09c1037a57bb812095">accumulatedSystemTime</a>();  assert(t1s == t2s);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t2u = s.<a class="code" href="classbsls_1_1Stopwatch.html#add36fc953220c5029276807f5acda77d">accumulatedUserTime</a>();    assert(t1u == t2u);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t2w = s.<a class="code" href="classbsls_1_1Stopwatch.html#a8ef30c4f2413e017bf1c24f03c8f3130">accumulatedWallTime</a>();    assert(t1w &lt;= t2w);

  s.<a class="code" href="classbsls_1_1Stopwatch.html#a5cd3418895715a184ca946af1228f3bb">start</a>(<span class="keyword">true</span>);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t3s = s.<a class="code" href="classbsls_1_1Stopwatch.html#acd7a3b2825edbe09c1037a57bb812095">accumulatedSystemTime</a>();  assert(t2s &lt;= t3s);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t3u = s.<a class="code" href="classbsls_1_1Stopwatch.html#add36fc953220c5029276807f5acda77d">accumulatedUserTime</a>();    assert(t2u &lt;= t3u);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t3w = s.<a class="code" href="classbsls_1_1Stopwatch.html#a8ef30c4f2413e017bf1c24f03c8f3130">accumulatedWallTime</a>();    assert(t2w &lt;= t3w);
</pre></div><br/>
<br/>
 Finally, we reset the stopwatch, which both puts it into the STOPPED state and resets all accumulated times back to their initial state (i.e., 0.0): <br/>
<br/>
<div class="fragment"><pre class="fragment">  s.<a class="code" href="classbsls_1_1Stopwatch.html#ad3041f7bc88c5448d58d8231d5d6bd06">reset</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span> t4s = s.<a class="code" href="classbsls_1_1Stopwatch.html#acd7a3b2825edbe09c1037a57bb812095">accumulatedSystemTime</a>();  assert(0.0 == t4s);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t4u = s.<a class="code" href="classbsls_1_1Stopwatch.html#add36fc953220c5029276807f5acda77d">accumulatedUserTime</a>();    assert(0.0 == t4u);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t4w = s.<a class="code" href="classbsls_1_1Stopwatch.html#a8ef30c4f2413e017bf1c24f03c8f3130">accumulatedWallTime</a>();    assert(0.0 == t4w);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t5s = s.<a class="code" href="classbsls_1_1Stopwatch.html#acd7a3b2825edbe09c1037a57bb812095">accumulatedSystemTime</a>();  assert(0.0 == t5s);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t5u = s.<a class="code" href="classbsls_1_1Stopwatch.html#add36fc953220c5029276807f5acda77d">accumulatedUserTime</a>();    assert(0.0 == t5u);
  <span class="keyword">const</span> <span class="keywordtype">double</span> t5w = s.<a class="code" href="classbsls_1_1Stopwatch.html#a8ef30c4f2413e017bf1c24f03c8f3130">accumulatedWallTime</a>();    assert(0.0 == t5w);
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Nov 12 2012 13:19:43 for BDE Release 2.16 Open Source "BETA" by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
