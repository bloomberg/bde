<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bdld_datumbinaryref Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdld_datumbinaryref<br/>
<small>
[<a class="el" href="group__bdld.html">Package bdld</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a type to represent binary data and its size.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdld.html">bdld</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> <ul>
<li>
<a href="#3.1.1">Example 1: Basic <code>DatumBinaryRef</code> usage</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a type to represent binary data and its size. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a> </td><td>a type representing binary data and its size  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__bdld__datum.html" title="Provide a discriminated variant type with a small footprint.">Component bdld_datum</a>, <a class="el" href="group__bdld__datumerror.html" title="Provide a type for an error code with an optional error message.">Component bdld_datumerror</a>, <a class="el" href="group__bdld__datumudt.html" title="Provide a type to represent a user-defined type.">Component bdld_datumudt</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component implements a class, <code><a class="el" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a></code>, that represents a pointer to a non-modifiable binary data (as a <code>void *</code>) and an integral size value. Note, that <code><a class="el" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a></code> is nether a value-semantic type, nor is it an in-core value-semantic type (see <code>bsldoc_glossary</code>). The <code><a class="el" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a></code> notion of value is expressed by its equality-operator - two <code>bdld:DatumBinaryRef</code> compare equal if the binary data they refer to is identical (both by size and by content). Accessors inside <code>Datum</code> class that need to return a binary data, return an instance of <code><a class="el" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a></code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section illustrates intended use of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_basic_datumbinaryref_usage"></a> <a class="anchor" id="usage.example_1~3A_basic_datumbinaryref_usage"></a> <a class="anchor" id="description.usage.example_1~3A_basic_datumbinaryref_usage"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.1.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Basic DatumBinaryRef usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Suppose we have three functions. Data are obtained in the first one (with memory allocation), processed in the second one and released (with memory deallocation) in the third one. The following code illustrates how to use <code><a class="el" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a></code> to pass information about memory storage between them. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, we write all three functions: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a> obtainData(<span class="keywordtype">size_t</span> size)
      <span class="comment">// Allocate array of the specified &#39;size&#39; and initialize it with some</span>
      <span class="comment">// values.</span>
  {
      <span class="keywordflow">if</span> (0 == size) {
          <span class="keywordflow">return</span> <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a>();                            <span class="comment">// RETURN</span>
      }
      <span class="keywordtype">int</span> *buffer = <span class="keyword">new</span> <span class="keywordtype">int</span>[size];
      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; size; ++i) {
          buffer[i] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(i);
      }
      <span class="keywordflow">return</span> <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a>(static_cast&lt;void *&gt;(buffer), size);
  }

  <span class="keywordtype">int</span> processData(<span class="keyword">const</span> <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a>&amp; binaryData)
      <span class="comment">// Process data, held by the specified &#39;binaryData&#39; object.</span>
  {
      <a class="code" href="group__bslstl__iosfwd.html#gab9a0f4d1fbd8bc1aaf5d375a4ef030b1">ostringstream</a> out;
      binaryData.<a class="code" href="classbdld_1_1DatumBinaryRef.html#aaa2f67169c3d3c430857dd4ee470a1dc">print</a>(out);

      <span class="keywordflow">if</span> (binaryData == <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a>()) {
          <span class="keywordflow">return</span> 0;                                                 <span class="comment">// RETURN</span>
      }

      <span class="keywordtype">int</span>        result = 0;
      <span class="keyword">const</span> <span class="keywordtype">int</span> *array = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">int</span> *<span class="keyword">&gt;</span>(binaryData.<a class="code" href="classbdld_1_1DatumBinaryRef.html#a5fb4aa0c7006aeec8f3502073a3e4354">data</a>());
      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; binaryData.<a class="code" href="classbdld_1_1DatumBinaryRef.html#a0724dc3ff3861c6a75e597a3fcc540ca">size</a>(); ++i) {
          result += array[i];
      }
      <span class="keywordflow">return</span> result;
  }

  <span class="keywordtype">void</span> releaseData(<span class="keyword">const</span> <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a>&amp; binaryData)
      <span class="comment">// Release memory, held by the specified &#39;binaryData&#39; object.</span>
  {
      <span class="keyword">const</span> <span class="keywordtype">int</span> *array = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">int</span> *<span class="keyword">&gt;</span>(binaryData.<a class="code" href="classbdld_1_1DatumBinaryRef.html#a5fb4aa0c7006aeec8f3502073a3e4354">data</a>());
      <span class="keyword">delete</span> [] array;
  }
</pre></div><br/>
<br/>
 Next, we call first one to obtain data: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbdld_1_1DatumBinaryRef.html">bdld::DatumBinaryRef</a> binaryData = obtainData(5);
</pre></div><br/>
<br/>
 Then we verify the results of second one's call: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(10 == processData(binaryData));
</pre></div><br/>
<br/>
 Finally, we release allocated memory: <br/>
<br/>
<div class="fragment"><pre class="fragment">  releaseData(binaryData);
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:43 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
