<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: ball_attribute Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component ball_attribute<br/>
<small>
[<a class="el" href="group__ball.html">Package ball</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a representation of (literal) name/value pairs.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceball.html">ball</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a representation of (literal) name/value pairs. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a> </td><td>(literal) name/value pair  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>ball_attributeset </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component implements an unusual in-core value-semantic class, <code><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a></code>. Each instance of this type represents an attribute that consists of a (literal) name (held but not owned), and an associated value (owned) that can be an <code>int</code>, a 64-bit integer, or a <code>bsl::string</code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>IMPORTANT: The attribute name, whose type is <code>const char *</code>, must therefore remain valid throughout the life time of the <code><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a></code> object and that of any other <code><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a></code> objects that are copied or assigned from the original object. It is recommended that only null-terminated C-string literals be used for names. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following code creates three attributes having the same name, but different attribute value types. <br/>
<br/>
<div class="fragment"><pre class="fragment">    <a class="code" href="classball_1_1Attribute.html">ball::Attribute</a> a1(<span class="stringliteral">&quot;day&quot;</span>, <span class="stringliteral">&quot;Sunday&quot;</span>);
    <a class="code" href="classball_1_1Attribute.html">ball::Attribute</a> a2(<span class="stringliteral">&quot;day&quot;</span>, 7);
    <a class="code" href="classball_1_1Attribute.html">ball::Attribute</a> a3(<span class="stringliteral">&quot;day&quot;</span>, static_cast&lt;bsls::Types::Int64&gt;(7));
</pre></div><br/>
<br/>
 The names of the attributes can be found by calling the <code>name</code> method: <br/>
<br/>
<div class="fragment"><pre class="fragment">    assert(0 == bsl::strcmp(<span class="stringliteral">&quot;day&quot;</span>, a1.name()));
    assert(0 == bsl::strcmp(<span class="stringliteral">&quot;day&quot;</span>, a2.name()));
    assert(0 == bsl::strcmp(<span class="stringliteral">&quot;day&quot;</span>, a3.name()));
</pre></div><br/>
<br/>
 The <code>value</code> method returns a non-modifiable reference to the <code><a class="el" href="classbdlb_1_1Variant.html">bdlb::Variant</a></code> object that manages the value of the attribute: <br/>
<br/>
<div class="fragment"><pre class="fragment">    assert(<span class="keyword">true</span>     == a1.value().is&lt;<a class="code" href="classbsl_1_1basic__string.html">bsl::string</a>&gt;());
    assert(<span class="stringliteral">&quot;Sunday&quot;</span> == a1.value().the&lt;<a class="code" href="classbsl_1_1basic__string.html">bsl::string</a>&gt;());

    assert(<span class="keyword">true</span>     == a2.value().is&lt;<span class="keywordtype">int</span>&gt;());
    assert(7        == a2.value().the&lt;<span class="keywordtype">int</span>&gt;());

    assert(<span class="keyword">true</span>     == a3.value().is&lt;<a class="code" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a>&gt;());
    assert(7        == a3.value().the&lt;<a class="code" href="structbsls_1_1Types.html#aa382f43d8a0be6193c86ef5c82886c12">bsls::Types::Int64</a>&gt;());
</pre></div><br/>
<br/>
 Note that the name string that is passed to the constructor of <code><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a></code> <em>must</em> remain valid and unchanged after the <code><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a></code> object is created. In the next example, we create a temporary buffer to store the name string, and then use the buffer to create an attribute. Note that any subsequent changes to this temporary buffer will also modify the name of the attribute: <br/>
<br/>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">char</span> buffer[] = <span class="stringliteral">&quot;Hello&quot;</span>;
    <a class="code" href="classball_1_1Attribute.html">ball::Attribute</a> a4(buffer, 1);                   <span class="comment">// BAD IDEA!!!</span>
    bsl::strcpy(buffer, <span class="stringliteral">&quot;World&quot;</span>);
    assert(0 == bsl::strcmp(<span class="stringliteral">&quot;World&quot;</span>, a4.name()));
</pre></div><br/>
<br/>
 The <code><a class="el" href="classball_1_1Attribute.html">ball::Attribute</a></code> class also provides a constructor that takes a value of type <code><a class="el" href="classball_1_1Attribute.html#a285dbf2501f84df4458547904c641bd5">ball::Attribute::Value</a></code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">    <a class="code" href="classbdlb_1_1Variant.html">ball::Attribute::Value</a> value;
    value.<a class="code" href="classbdlb_1_1VariantImp.html#ac33e36612ea9abffc9dfa36313b28572">assign</a>&lt;<a class="code" href="classbsl_1_1basic__string.html">bsl::string</a>&gt;(<span class="stringliteral">&quot;Sunday&quot;</span>);
    <a class="code" href="classball_1_1Attribute.html">ball::Attribute</a> a5(<span class="stringliteral">&quot;day&quot;</span>, value);
    assert(a5 == a1);
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:22 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
