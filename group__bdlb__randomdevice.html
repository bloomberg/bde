<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 2.23.1 OSS: bdlb_randomdevice Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdlb_randomdevice<br/>
<small>
[<a class="el" href="group__bdlb.html">Package bdlb</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a common interface to a system's random number generator.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdlb.html">bdlb</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> <ul>
<li>
<a href="#3.1.1">Example 1: Seeding the Random-Number Generator</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a common interface to a system's random number generator. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbdlb_1_1RandomDevice.html">bdlb::RandomDevice</a> </td><td>namespace for system specific random-number generators.  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Mickey Sweatt (msweatt1) </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a namespace, <code><a class="el" href="structbdlb_1_1RandomDevice.html">bdlb::RandomDevice</a></code>, for a suite of functions used to generate random seeds from platform-dependent random number generators. Two variants are provided: one which may block, but which potentially samples from a stronger distribution, and another which does not block, but which potentially should not be used for cryptography. The strength of these random numbers and the performance of these calls is strongly dependent on the underlying system. On UNIX-like platforms <code>genRandomBytes()</code> reads from <code>/dev/random</code> and <code>genRandonBytesNonBlocking()</code> reads from <code>/dev/urandom</code>. On Windows both methods use <code>CrypGenRandom</code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that it is not appropriate to use these functions to generate many random numbers, because they are likely to exhaust available entropy and then be slow. Instead, these functions should be used to seed pseudo-random random number generators. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section illustrates intended use of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_seeding_the_random-number_generator"></a> <a class="anchor" id="usage.example_1~3A_seeding_the_random-number_generator"></a> <a class="anchor" id="description.usage.example_1~3A_seeding_the_random-number_generator"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.1.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Seeding the Random-Number Generator: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>System-provided random-number generators generally must be initialized with a seed value from which they go on to produce their stream of pseudo-random numbers. We can use <code>RandomDevice</code> to provide such a seed. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, we obtain the results of invoking the random-number generator without having seeded it: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keywordtype">int</span> unseededR1 = rand();
  <span class="keywordtype">int</span> unseededR2 = rand();
</pre></div><br/>
<br/>
 Then, we obtain a random number: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keywordtype">int</span> seed = 0;
  <span class="keywordtype">int</span> status = <a class="code" href="structbdlb_1_1RandomDevice.html#a1f2fe2c906aa79c98acfeb94b21420f9">bdlb::RandomDevice::getRandomBytes</a>(
      reinterpret_cast&lt;unsigned char *&gt;(&amp;seed), <span class="keyword">sizeof</span>(seed));
  assert(0 == status);
  assert(0 != seed);    <span class="comment">// This will fail every few billion attempts...</span>
</pre></div><br/>
<br/>
 Next, we seed the random-number generator with our seed: <br/>
<br/>
<div class="fragment"><pre class="fragment">  srand(seed);
</pre></div><br/>
<br/>
 Finally, we observe that we obtain different numbers: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(unseededR1 != rand());
  assert(unseededR2 != rand());
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Jun 2 2015 13:40:19 for BDE Release 2.23.1 Open-Source by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
