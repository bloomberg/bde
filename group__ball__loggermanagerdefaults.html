<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: ball_loggermanagerdefaults Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component ball_loggermanagerdefaults<br/>
<small>
[<a class="el" href="group__ball.html">Package ball</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide constrained default attributes for the logger manager.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceball.html">ball</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Thread Safety</a> </li>
<li>
<a href="#3.2">Design Note</a> </li>
<li>
<a href="#3.3">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide constrained default attributes for the logger manager. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classball_1_1LoggerManagerDefaults.html">ball::LoggerManagerDefaults</a> </td><td>default parameters for logger manager  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__ball__loggermanagerconfiguration.html" title="Provide a constrained-attribute class for the logger manager.">Component ball_loggermanagerconfiguration</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a constrained-attribute class that contains a set of attributes (objects and parameters) of particular use to logger managers. The constraints are actively maintained by the class. In particular, the "set" methods for constrained values will fail if their arguments are not consistent with the constraints. Also, the constructor does not take any constrained arguments, but rather sets those values to valid defaults unconditionally. This behavior avoids "silent failures", since the constructor cannot explicitly return a status value. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The attributes contained by a <code><a class="el" href="classball_1_1LoggerManagerDefaults.html">ball::LoggerManagerDefaults</a></code> object and the attribute constraints are given, respectively, in two tables below. The attributes are as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment">   TYPE          NAME                DESCRIPTION
   -----------   ----------------    -------------------------------------
   <span class="keywordtype">int</span>           recordBufferSize    <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a> in bytes of *<span class="keywordflow">default</span>* logger<span class="stringliteral">&#39;s</span>
<span class="stringliteral">                                     record buffer</span>
<span class="stringliteral">   int           loggerBufferSize    default size in bytes of *each*</span>
<span class="stringliteral">                                     logger&#39;</span>s <span class="stringliteral">&quot;scratch&quot;</span> buffer (<span class="keywordflow">for</span> macros)
   <span class="keywordtype">char</span>          recordLevel         <span class="keywordflow">default</span> record severity level
   <span class="keywordtype">char</span>          passLevel           <span class="keywordflow">default</span> passthrough severity level
   <span class="keywordtype">char</span>          triggerLevel        <span class="keywordflow">default</span> trigger severity level
   <span class="keywordtype">char</span>          triggerAllLevel     <span class="keywordflow">default</span> triggerAll severity level
</pre></div><br/>
<br/>
 The constraints are as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment">    NAME                 CONSTRAINT
   +--------------------+---------------------------------------------+
   | recordBufferSize   | 1 &lt;= recordBufferSize                       |
   +--------------------+---------------------------------------------+
   | loggerBufferSize   | 1 &lt;= loggerBufferSize                       |
   +--------------------+---------------------------------------------+
   | recordLevel        | 0 &lt;= recordLevel     &lt;= 255                 |
   | passLevel          | 0 &lt;= passLevel       &lt;= 255                 |
   | triggerLevel       | 0 &lt;= triggerLevel    &lt;= 255                 |
   | triggerAllLevel    | 0 &lt;= triggerAllLevel &lt;= 255                 |
   +--------------------+---------------------------------------------+
</pre></div><br/>
<br/>
 Although the numerical constraints on the four severity levels are independent of one another, they are treated as logically coupled, and must be set as a group. If any one value cannot be successfully set, then the whole set operation fails with no effect on the object value. This may be viewed as an auxiliary constraint. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="thread_safety"></a> <a class="anchor" id="description.thread_safety"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Thread Safety: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This constrained-attribute component is <em>thread-safe</em> but not <em>thread-enabled</em>, and requires explicit synchronization in the user space. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="design_note"></a> <a class="anchor" id="description.design_note"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>Design Note: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a BDE constrained-attribute type designed to be <em>useful</em> to <code><a class="el" href="classball_1_1LoggerManager.html">ball::LoggerManager</a></code>. However, <code><a class="el" href="classball_1_1LoggerManagerDefaults.html">ball::LoggerManagerDefaults</a></code> is not <code><a class="el" href="classball_1_1LoggerManagerConfiguration.html">ball::LoggerManagerConfiguration</a></code>, the actual configuration object used by the logger manager. <code><a class="el" href="classball_1_1LoggerManagerConfiguration.html">ball::LoggerManagerConfiguration</a></code> is not a value semantic type, because it holds functors. <code><a class="el" href="classball_1_1LoggerManagerDefaults.html">ball::LoggerManagerDefaults</a></code>, which is used by <code><a class="el" href="classball_1_1LoggerManagerConfiguration.html">ball::LoggerManagerConfiguration</a></code>, may be regarded as a factored detail of the actual configuration object. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.3"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following snippets of code illustrate how to use a <code><a class="el" href="classball_1_1LoggerManagerDefaults.html">ball::LoggerManagerDefaults</a></code> object. First, create a configuration object <code>lmd</code>. Note that it is necessarily configured to valid but unpublished defaults. <br/>
<br/>
<div class="fragment"><pre class="fragment">    <a class="code" href="classball_1_1LoggerManagerDefaults.html">ball::LoggerManagerDefaults</a> lmd;
</pre></div><br/>
<br/>
 Next, set each attribute. Note that the four severity threshold levels must be set atomically (i.e., with a single four-argument "set" method). Note also that each "set" method will fail if the argument or set of arguments is not valid, and so each method returns a status value. <br/>
<br/>
<div class="fragment"><pre class="fragment">    assert(    0 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#af7cdfe171d0a23344e879ef32b0d185e">setDefaultRecordBufferSizeIfValid</a>(32768));
    assert(32768 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a739e6d0f611b212ace0f73ac07f4a822">defaultRecordBufferSize</a>());

    assert(   0 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a4e97ef93a0af767e4f5fd984664492c3">setDefaultLoggerBufferSizeIfValid</a>(2048));
    assert(2048 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#ade1cd3d5f37dcc4fcece6ed2c2edd92c">defaultLoggerBufferSize</a>());

    assert(  0 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#abb6de1706668fd5813d324308de162f3">setDefaultThresholdLevelsIfValid</a>(192, 64, 48, 32));
    assert(192 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a79a639364f5e706bf1870c4f49b58649">defaultRecordLevel</a>());
    assert( 64 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a15f60f1a1c4ab0623ded826ca642f0b0">defaultPassLevel</a>());
    assert( 48 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a369e95ce3c6cb81f2d8f7d0677f63cc9">defaultTriggerLevel</a>());
    assert( 32 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a940ae8e84f955fc17d24909d8fc81699">defaultTriggerAllLevel</a>());
</pre></div><br/>
<br/>
 The configuration object is now validly configured with our choice of parameters. If, however, we attempt to set an invalid configuration, the "set" method will fail (with a non-zero return status), and the configuration will be left unchanged. <br/>
<br/>
<div class="fragment"><pre class="fragment">    assert(  0 != lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#abb6de1706668fd5813d324308de162f3">setDefaultThresholdLevelsIfValid</a>(256, 90, 60, 30));
    assert(192 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a79a639364f5e706bf1870c4f49b58649">defaultRecordLevel</a>());
    assert( 64 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a15f60f1a1c4ab0623ded826ca642f0b0">defaultPassLevel</a>());
    assert( 48 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a369e95ce3c6cb81f2d8f7d0677f63cc9">defaultTriggerLevel</a>());
    assert( 32 == lmd.<a class="code" href="classball_1_1LoggerManagerDefaults.html#a940ae8e84f955fc17d24909d8fc81699">defaultTriggerAllLevel</a>());
</pre></div><br/>
<br/>
 Finally, we can print the configuration value to <code>stdout</code>. <br/>
<br/>
<div class="fragment"><pre class="fragment">    bsl::cout &lt;&lt; lmd &lt;&lt; bsl::endl;
</pre></div><br/>
<br/>
 This produces the following (multi-line) output: <br/>
<br/>
<div class="fragment"><pre class="fragment"> [
     recordBufferSize : 32768
     loggerBufferSize : 2048
     recordLevel      : 192
     passLevel        : 64
     triggerLevel     : 48
     triggerAllLevel  : 32
 ]
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:25 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
