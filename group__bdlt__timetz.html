<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bdlt_timetz Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdlt_timetz<br/>
<small>
[<a class="el" href="group__bdlt.html">Package bdlt</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a representation of a time with time zone offset.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdlt.html">bdlt</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Attributes</a> </li>
<li>
<a href="#3.2">Caveats on Time Zone Support</a> </li>
<li>
<a href="#3.3">Usage</a> <ul>
<li>
<a href="#3.3.1">Example 1: Comparing Times from Multiple Time Zones</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a representation of a time with time zone offset. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a> </td><td>local-time value with time zone offset from UTC  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__bdlt__time.html" title="Provide a value-semantic time-of-day type (millisecond resolution).">Component bdlt_time</a>, <a class="el" href="group__bdlt__datetimetz.html" title="Provide a representation of a date and time with time zone offset.">Component bdlt_datetimetz</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a single, simply constrained value-semantic class, <code><a class="el" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a></code>, that represents a time value in a particular time zone. Each <code><a class="el" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a></code> object contains a time zone offset from UTC (in minutes) and a <code><a class="el" href="classbdlt_1_1Time.html">bdlt::Time</a></code> value in that time zone. For logical consistency, the time value and offset should correspond to a geographically valid time zone, but such consistency is the user's responsibility. This component does not enforce logical constraints on any values. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>localTime</code> and <code>utcTime</code> methods return <code><a class="el" href="classbdlt_1_1Time.html">bdlt::Time</a></code> values corresponding to the local time and UTC time represented by the object, respectively. In addition, the <code>offset</code> method returns the time zone offset in minutes from UTC (i.e., <code>UTC + offset</code> equals local time). </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="attributes"></a> <a class="anchor" id="description.attributes"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Attributes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><br/>
<br/>
<div class="fragment"><pre class="fragment">  Name                <a class="code" href="classBind__ImplSelector_1_1Type.html">Type</a>         Default         Simple Constraints
  ------------------  -----------  --------------  ------------------
  localTime           <a class="code" href="classbdlt_1_1Time.html">bdlt::Time</a>   <span class="stringliteral">&#39;24:00:00.000&#39;</span>  none
  offset              <span class="keywordtype">int</span>          0               ( -1440 .. 1440 )
</pre></div><br/>
<br/>
 <ul>
<li>
<code>localTime</code>: local time in the timezone described by <code>offset</code>.  </li>
<li>
<code>offset</code>: offset from UTC (in minutes) of the time zone in which <code>localTime</code> occurs.  </li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="caveats_on_time_zone_support"></a> <a class="anchor" id="description.caveats_on_time_zone_support"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>Caveats on Time Zone Support: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>A <code><a class="el" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a></code> value is intended to be interpreted as a value in a local time zone, along with the offset of that value from UTC. However, there are some problems with this simple interpretation. First of all, the offset value may not correspond to any time zone that has ever existed. For example, the offset value could be set to one minute, or to 1,234 minutes. The meaning of the resulting "local time" value is always clear, but the local time might not correspond to any geographical or historical time zone. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>For these reasons (and others), this component cannot and does not perform any validation relating to time zones or offsets. The user must take care to honor the "local time" contract of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.3"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section illustrates intended use of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_comparing_times_from_multiple_time_zones"></a> <a class="anchor" id="usage.example_1~3A_comparing_times_from_multiple_time_zones"></a> <a class="anchor" id="description.usage.example_1~3A_comparing_times_from_multiple_time_zones"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.3.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Comparing Times from Multiple Time Zones: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Some legacy systems may represent points in time as a combination of a local time-of-day plus an offset from UTC, with an underlying assumption that the dates on which points in time occur can be inferred from context. Assuming that we know that two such times fall on the same (local) calendar date, we can determine whether or not the two times coincide by comparing their <code><a class="el" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a></code> representations. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, we define three <code><a class="el" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a></code> objects representing the time in three different time zones on the same (local) date: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a> newYorkTime(<a class="code" href="classbdlt_1_1Time.html">bdlt::Time</a>(9, 30, 0, 0.0),
                           -5 * <a class="code" href="structbdlt_1_1TimeUnitRatio.html#a766a53f0e76b93d084e95f9d9e7d64a5">bdlt::TimeUnitRatio::k_MINUTES_PER_HOUR</a>);
  <a class="code" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a> chicagoTime(<a class="code" href="classbdlt_1_1Time.html">bdlt::Time</a>(8, 30, 0, 0.0),
                           -6 * <a class="code" href="structbdlt_1_1TimeUnitRatio.html#a766a53f0e76b93d084e95f9d9e7d64a5">bdlt::TimeUnitRatio::k_MINUTES_PER_HOUR</a>);
  <a class="code" href="classbdlt_1_1TimeTz.html">bdlt::TimeTz</a> phoenixTime(<a class="code" href="classbdlt_1_1Time.html">bdlt::Time</a>(6, 30, 0, 0.0),
                           -7 * <a class="code" href="structbdlt_1_1TimeUnitRatio.html#a766a53f0e76b93d084e95f9d9e7d64a5">bdlt::TimeUnitRatio::k_MINUTES_PER_HOUR</a>);
</pre></div><br/>
<br/>
 Then, we observe that the local times are distinct: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(newYorkTime.localTime() != chicagoTime.localTime());
  assert(chicagoTime.localTime() != phoenixTime.localTime());
  assert(phoenixTime.localTime() != newYorkTime.localTime());
</pre></div><br/>
<br/>
 Next, we observe that <code>newYorkTime</code> and <code>chicagoTime</code> actually represent the same point in time: <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(newYorkTime.utcTime() == chicagoTime.utcTime());
</pre></div><br/>
<br/>
 Finally, we observe that <code>phoenixTime</code> is one hour earlier than <code>newYorkTime</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  bdlt::DatetimeInterval delta =
                               newYorkTime.utcTime() - phoenixTime.utcTime();

  assert(0 == delta.<a class="code" href="classbdlt_1_1DatetimeInterval.html#a018ec8db295d4d2afd3b7d32de6d6bd7">days</a>());
  assert(1 == delta.<a class="code" href="classbdlt_1_1DatetimeInterval.html#a3aa1849ec11139d304d428cb00ad898e">hours</a>());
  assert(0 == delta.<a class="code" href="classbdlt_1_1DatetimeInterval.html#a520b875e1e5e527e9f3ccc265583fe42">minutes</a>());
  assert(0 == delta.<a class="code" href="classbdlt_1_1DatetimeInterval.html#a7169511b8b1a9e1414d8e2df84c7a103">seconds</a>());
  assert(0 == delta.<a class="code" href="classbdlt_1_1DatetimeInterval.html#a05befd0df3751ea237d095d897c50308">milliseconds</a>());
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:51 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
