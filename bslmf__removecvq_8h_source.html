<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<title>BDE 2.23.1 OSS</title>
<html>
<pre>
// bslmf_removecvq.h                                                  -*-C++-*-
#ifndef INCLUDED_BSLMF_REMOVECVQ
#define INCLUDED_BSLMF_REMOVECVQ

#ifndef INCLUDED_BSLS_IDENT
#include &lt;bsls_ident.h&gt;
#endif
BSLS_IDENT(&quot;$Id: $&quot;)

//@PURPOSE: Provide a meta-function for removing &#39;const&#39;/&#39;volatile&#39; qualifiers.
//
//@CLASSES:
//  bslmf::RemoveCvq: meta-function for stripping &#39;const&#39;/&#39;volatile&#39; qualifiers
//
//@DESCRIPTION: This component defines a simple template structure used to
// strip of any top-level &#39;const&#39;/&#39;volatile&#39; qualifiers from it&#39;s single
// template parameter.  The un-qualified type can be accessed via the &#39;Type&#39;
// member defined in &#39;bslmf::RemoveCvq&#39;.
//..
//  struct MyType {};
//
//  bslmf::RemoveCvq&lt;int              &gt;::Type i1; // int i1;
//  bslmf::RemoveCvq&lt;const int        &gt;::Type i2; // int i2;
//  bslmf::RemoveCvq&lt;volatile int     &gt;::Type i3; // int i3;
//  bslmf::RemoveCvq&lt;int *            &gt;::Type i4; // int *i4;
//  bslmf::RemoveCvq&lt;int **           &gt;::Type i5; // int **i5;
//  bslmf::RemoveCvq&lt;int *const       &gt;::Type i6; // int *i6;
//  bslmf::RemoveCvq&lt;int *const *     &gt;::Type i7; // int *const *i7;
//  bslmf::RemoveCvq&lt;int *const *const&gt;::Type i8; // int *const *i8;
//  bslmf::RemoveCvq&lt;MyType           &gt;::Type m1; // MyType m1;
//  bslmf::RemoveCvq&lt;MyType const     &gt;::Type m2; // MyType m2;
//..
///Usage Example
///-------------
// We can make a simple template function that shows whether two objects are
// the same type, ignoring &#39;const&#39; and &#39;volatile&#39; qualifiers.
//
// First, we create a template that will determine whether two objects are
// EXACTLY the same type:
//..
//  template &lt;class TYPE&gt;
//  bool isSame(TYPE&amp; a, TYPE&amp; b) { return true; }
//  template &lt;class TYPEA, class TYPEB&gt;
//  bool isSame(TYPEA&amp; a, TYPEB&amp; b) { return false; }
//..
// Next, we combine that template function with the use of &#39;bslmf::RemoveCvq&#39;
// to create a template that will determine whether two objects are the same
// type, ignoring &#39;const&#39; and &#39;volatile&#39; qualifiers:
//..
//  template &lt;class TYPEA, class TYPEB&gt;
//  bool isSortaSame(TYPEA&amp; a, TYPEB&amp; b)
//  {
//      typename bslmf::RemoveCvq&lt;TYPEA&gt;::Type aa = a;
//      typename bslmf::RemoveCvq&lt;TYPEB&gt;::Type bb = b;
//
//      return isSame(aa, bb);
//  }
//..
// Next, we use the templates
//..
//  int i = 0, j = 0;
//  const int ci = 0, cj = 0;
//  volatile int vi = 0, vj = 0;
//  const volatile int cvi = 0, cvj = 0;
//
//  double x = 0, y = 0;
//
//  assert(  isSame(i, j));
//  assert(  isSame(ci, cj));
//  assert(  isSame(vi, vj));
//  assert(  isSame(cvi, cvj));
//  assert(  isSame(x, y));
//
//  assert(! isSame(i, x));
//  assert(! isSame(i, ci));
//  assert(! isSame(i, vi));
//  assert(! isSame(i, cvi));
//  assert(! isSame(ci, vi));
//  assert(! isSame(ci, cvi));
//  assert(! isSame(vi, cvi));
//
//  assert(! isSortaSame(i, x));
//  assert(  isSortaSame(i, ci));
//  assert(  isSortaSame(i, vi));
//  assert(  isSortaSame(i, cvi));
//  assert(  isSortaSame(ci, vi));
//  assert(  isSortaSame(ci, vi));
//  assert(  isSortaSame(ci, cvi));
//  assert(  isSortaSame(vi, cvi));
//..

#ifndef INCLUDED_BSLSCM_VERSION
#include &lt;bslscm_version.h&gt;
#endif

#ifndef INCLUDED_BSLMF_REMOVECV
#include &lt;bslmf_removecv.h&gt;
#endif

namespace BloombergLP {

namespace bslmf {

                           // ================
                           // struct RemoveCvq
                           // ================

template &lt;class TYPE&gt;
struct RemoveCvq
{
    // This class implements a meta-function for stripping top-level
    // const/volatile qualifiers from it&#39;s parameter type.

    typedef typename bsl::remove_cv&lt;TYPE&gt;::type Type;
};

}  // close package namespace


}  // close enterprise namespace

#endif

// ----------------------------------------------------------------------------
// Copyright 2013 Bloomberg Finance L.P.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ----------------------------- END-OF-FILE ----------------------------------
</pre>
</body>
</html>
