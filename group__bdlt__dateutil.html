<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 2.23.1 OSS: bdlt_dateutil Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdlt_dateutil<br/>
<small>
[<a class="el" href="group__bdlt.html">Package bdlt</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide common non-primitive operations on date objects.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdlt.html">bdlt</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">"YYYYMMDD" Format</a> </li>
<li>
<a href="#3.2">End-of-Month Adjustment Conventions</a> </li>
<li>
<a href="#3.3">Usage</a> <ul>
<li>
<a href="#3.3.1">Example 1: Schedule Generation</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide common non-primitive operations on date objects. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbdlt_1_1DateUtil.html">bdlt::DateUtil</a> </td><td>namespace for non-primitive operations on date objects  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__bdlt__date.html" title="Provide a value-semantic type to represent dates.">Component bdlt_date</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a <code>struct</code>, <code><a class="el" href="structbdlt_1_1DateUtil.html">bdlt::DateUtil</a></code>, that serves as a namespace for utility functions that operate on <code><a class="el" href="classbdlt_1_1Date.html">bdlt::Date</a></code> objects. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following list of methods are provided by <code><a class="el" href="structbdlt_1_1DateUtil.html">bdlt::DateUtil</a></code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="stringliteral">&#39;isValidYYYYMMDD&#39;</span>             o Validate or convert to and from the
  <span class="stringliteral">&#39;convertFromYYYYMMDDRaw&#39;</span>        <span class="stringliteral">&quot;YYYYMMDD&quot;</span> format
  <span class="stringliteral">&#39;convertFromYYYYMMDD&#39;</span>           (see {<span class="stringliteral">&quot;YYYYMMDD&quot;</span> Format}).
  <span class="stringliteral">&#39;convertToYYYYMMDD&#39;</span>

  <span class="stringliteral">&#39;nextDayOfWeek&#39;</span>               o Move a date to the next or the previous
  <span class="stringliteral">&#39;nextDayOfWeekInclusive&#39;</span>        specified day of week.
  <span class="stringliteral">&#39;previousDayOfWeek&#39;</span>
  <span class="stringliteral">&#39;previousDayOfWeekInclusive&#39;</span>

  <span class="stringliteral">&#39;nthDayOfWeekInMonth&#39;</span>         o Find a specified day of the week in a
  <span class="stringliteral">&#39;lastDayOfWeekInMonth&#39;</span>          specified year and month.

  <span class="stringliteral">&#39;addMonthsEom&#39;</span>                o Add a specified number of months to a date
  <span class="stringliteral">&#39;addMonthsNoEom&#39;</span>                <span class="keyword">using</span> either the end-of-month or the
  <span class="stringliteral">&#39;addMonths&#39;</span>                     non-end-of-month convention (see
                                  {End-of-Month Adjustment Conventions}).

  <span class="stringliteral">&#39;addYearsEom&#39;</span>                 o Add a specified number of years to a date
  <span class="stringliteral">&#39;addYearsNoEom&#39;</span>                 <span class="keyword">using</span> either the end-of-month or the
  <span class="stringliteral">&#39;addYears&#39;</span>                      non-end-of-month convention (see
                                  {End-of-Month Adjustment Conventions}).
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="~22yyyymmdd~22_format"></a> <a class="anchor" id="description.~22yyyymmdd~22_format"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>YYYYMMDD</b></dt><dd>Format:  </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The "YYYYMMDD" format is a common integral representation of a date that is human readable and maintains appropriate ordering when sorted using integer comparisons. The notation uses eight digits (from left to right): four digits for the year, two digits for the month, and two digits for the day of the month. For example, February 1, 2014, is represented by the number 20140201. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that the year is not restricted to values on or after 1000, so, for example, 10102 (or 00010102) represents the date January 2, 0002. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="end-of-month_adjustment_conventions"></a> <a class="anchor" id="description.end-of-month_adjustment_conventions"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>End-of-Month Adjustment Conventions: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Two adjustment conventions are used to determine the behavior of the functions (<code>addMonths</code> and <code>addYears</code>) that adjust a date by a particular number of months or years: the end-of-month convention and the non-end-of-month convention. The difference between the two conventions is that the end-of-month convention adjusts the resulting date to the end of the month if the original date is the last day of the month, while the non-end-of-month convention does not perform this adjustment. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>For example, if we add 3 months to February 28, 2013 using the non-end-of-month convention, then the resulting date will be May 28, 2013. If we do the same operation except using the end-of-month convention, then the resulting date will be May 31, 2013. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>More formal definitions of the two conventions are provided below: <br/>
<br/>
<div class="fragment"><pre class="fragment"> &lt;ul&gt;
 &lt;li&gt;
 The End-of-Month Convention

 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;hanging&quot;</span>&gt;
 \par
  If the original date to be adjusted is the last day of a month, or <span class="keywordflow">if</span> the

 \par
  day of the month of the original date does not exist in the resulting

 \par
  date, then adjust the resulting date to be the last day of the month.
 \par
 &lt;/div&gt;

 &lt;/li&gt;
 &lt;li&gt;
 The Non-End-of-Month Convention

 &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;hanging&quot;</span>&gt;
 \par
  If the day of the month of the original date does not exist in the

 \par
  resulting date, then adjust the resulting date to be the last day of the

 \par
  month.

 \par
 &lt;/div&gt;

 &lt;/li&gt;
 &lt;/ul&gt;
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.3"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section illustrates intended use of this component. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_schedule_generation"></a> <a class="anchor" id="usage.example_1~3A_schedule_generation"></a> <a class="anchor" id="description.usage.example_1~3A_schedule_generation"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.3.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Schedule Generation: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Suppose that given a starting date in the <code>YYYYMMDD</code> format, we want to generate a schedule for an event that occurs on the same day of the month for 12 months. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, we use the <code><a class="el" href="structbdlt_1_1DateUtil.html#af27c0408b4b098ae0d8bf6284343a71e">bdlt::DateUtil::convertFromYYYYMMDD</a></code> function to convert the integer into a <code><a class="el" href="classbdlt_1_1Date.html">bdlt::Date</a></code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">const</span> <span class="keywordtype">int</span> startingDateYYYYMMDD = 20130430;

  <a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a> date;
  <span class="keywordtype">int</span> rc = <a class="code" href="structbdlt_1_1DateUtil.html#af27c0408b4b098ae0d8bf6284343a71e">bdlt::DateUtil::convertFromYYYYMMDD</a>(&amp;date, startingDateYYYYMMDD);
  assert(0 == rc);
</pre></div><br/>
<br/>
 Now, we use the <code>addMonthsEom</code> function to generate the schedule. Note that <code>addMonthsEom</code> adjusts the resulting date to be the last day of the month if the original date is the last day of the month, while <code>addMonthsNoEom</code> does not make this adjustment. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbsl_1_1vector.html">bsl::vector&lt;bdlt::Date&gt;</a> schedule;
  schedule.<a class="code" href="group__bslstl__vector.html#gaa1d6a35af66d87307ee9a48be96644a5">push_back</a>(date);

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; 12; ++i) {
      schedule.<a class="code" href="group__bslstl__vector.html#gaa1d6a35af66d87307ee9a48be96644a5">push_back</a>(<a class="code" href="structbdlt_1_1DateUtil.html#a3f8764f76689ad031b0c940b2edd1269">bdlt::DateUtil::addMonthsEom</a>(date, i));
  }
</pre></div><br/>
<br/>
 Finally, we print the generated schedule to the console and observe the output: <br/>
<br/>
<div class="fragment"><pre class="fragment">  bsl::copy(schedule.<a class="code" href="group__bslstl__vector.html#ga5b7f9c7b9b0be302ee1b7533b9764ef1">begin</a>(),
            schedule.<a class="code" href="group__bslstl__vector.html#ga7eb9edf13eb71d39489477702fa09671">end</a>(),
            bsl::ostream_iterator&lt;bdlt::Date&gt;(bsl::cout, <span class="stringliteral">&quot;\n&quot;</span>));

  <span class="comment">// Expected output on the console:</span>
  <span class="comment">//</span>
  <span class="comment">//   30APR2013</span>
  <span class="comment">//   31MAY2013</span>
  <span class="comment">//   30JUN2013</span>
  <span class="comment">//   31JUL2013</span>
  <span class="comment">//   31AUG2013</span>
  <span class="comment">//   30SEP2013</span>
  <span class="comment">//   31OCT2013</span>
  <span class="comment">//   30NOV2013</span>
  <span class="comment">//   31DEC2013</span>
  <span class="comment">//   31JAN2014</span>
  <span class="comment">//   28FEB2014</span>
  <span class="comment">//   31MAR2014</span>
</pre></div><br/>
<br/>
 Notice that the dates have been adjusted to the end of the month. If we had used <code>addMonthsNoEom</code> instead of <code>addMonthsEom</code>, this adjustment would not have occurred. </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Jun 2 2015 13:40:19 for BDE Release 2.23.1 Open-Source by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
