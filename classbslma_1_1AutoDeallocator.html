<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: Class bslma::AutoDeallocator</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacebslma.html">bslma</a>      </li>
      <li><a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator&lt; ALLOCATOR &gt;</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>bslma::AutoDeallocator&lt; ALLOCATOR &gt; Class Template Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="bslma::AutoDeallocator" -->
<p><code>#include &lt;<a class="el" href="bslma__autodeallocator_8h_source.html">bslma_autodeallocator.h</a>&gt;</code></p>

<p><a href="classbslma_1_1AutoDeallocator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class TYPE &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a99b6de57806bea7b26142392dd0c203f">AutoDeallocator</a> (TYPE **origin, ALLOCATOR *allocator, int length=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a721290e691b6c6894e8a3f3a09346080">AutoDeallocator</a> (void **origin, ALLOCATOR *allocator, int length=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a672ff9dc69057d996e31f321cda65051">~AutoDeallocator</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a9f52bcfdf6b45800d619e4073c9480bc">operator++</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#aa77d9e5e4ffd3aa74f48f6c241e4b290">operator--</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a1c754bfb48637b17d4fa490017deb34b">release</a> ()</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class TYPE &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#acea4ef485cfab2bec5778e31d24c245b">reset</a> (TYPE **origin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a575d65660592593f4f960add1432cda1">reset</a> (void **origin)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a31009e52e997a73c7484264f8f4fcc42">setLength</a> (int length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbslma_1_1AutoDeallocator.html#a671e1365f708e3312e126cbe96da8c44">length</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class ALLOCATOR&gt;<br/>
 class bslma::AutoDeallocator&lt; ALLOCATOR &gt;</h3>

<p>This class implements a range proctor that, unless its <code>release</code> method has previously been invoked, automatically deallocates the contiguous sequence of managed memory blocks upon its own destruction by invoking the <code>deallocate</code> method of an allocator (or pool) of parameterized <code>ALLOCATOR</code> type supplied to it at construction. Each of the managed memory blocks must have been supplied by this allocator (or pool), which must remain valid throughout the lifetime of the range proctor. Note that when the length of this object is non-zero, it must refer to a non-null array of memory blocks. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a99b6de57806bea7b26142392dd0c203f"></a><!-- doxytag: member="bslma::AutoDeallocator::AutoDeallocator" ref="a99b6de57806bea7b26142392dd0c203f" args="(TYPE **origin, ALLOCATOR *allocator, int length=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
<div class="memtemplate">
template&lt;class TYPE &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::<a class="el" href="classbslma_1_1AutoDeallocator.html">AutoDeallocator</a> </td>
          <td>(</td>
          <td class="paramtype">TYPE **&nbsp;</td>
          <td class="paramname"> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ALLOCATOR *&nbsp;</td>
          <td class="paramname"> <em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a721290e691b6c6894e8a3f3a09346080"></a><!-- doxytag: member="bslma::AutoDeallocator::AutoDeallocator" ref="a721290e691b6c6894e8a3f3a09346080" args="(void **origin, ALLOCATOR *allocator, int length=0)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::<a class="el" href="classbslma_1_1AutoDeallocator.html">AutoDeallocator</a> </td>
          <td>(</td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ALLOCATOR *&nbsp;</td>
          <td class="paramname"> <em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an auto deallocator to manage a sequence of memory blocks at the specified <code>origin</code>, and that uses the specified <code>allocator</code> to deallocate the sequence of memory blocks managed by this range proctor (if not released -- see <code>release</code>) upon destruction. Optionally specify <code>length</code> to define its range, which by default is empty (i.e., <code>length = 0</code>). The sequence of memory blocks may extend in either direction from <code>origin</code>. A positive <code>length</code> represents the sequence of memory blocks starting at <code>origin</code> and extending "up" to <code>length</code> (<em>not</em> including the memory block at the index position <code>origin + length</code>). A negative <code>length</code> represents the sequence of memory blocks starting at one position below <code>origin</code> and extending "down" to the absolute value of <code>length</code> (including the memory block at index position <code>origin + length</code>). If <code>length</code> is 0, then this range proctor manages no memory blocks. If <code>origin</code> is non-zero, all memory blocks within the proctored range (if any) must be supplied by <code>allocator</code>. The behavior is undefined unless <code>allocator</code> is non-zero, and, if <code>origin</code> is 0, <code>length</code> is also 0. Note that when <code>length</code> is non-positive, the memory block at the origin is <em>not</em> managed by this range proctor. For example, if <code>origin</code> is at the index position 2, a <code>length</code> of 2 signifies that the memory blocks at positions 2 and 3 are managed, whereas a <code>length</code> of -2 signifies that the memory blocks at positions 0 and 1 are managed: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">             <a class="code" href="classbslma_1_1AutoDeallocator.html#a671e1365f708e3312e126cbe96da8c44">length</a> = -2                            <a class="code" href="classbslma_1_1AutoDeallocator.html#a671e1365f708e3312e126cbe96da8c44">length</a> = 2
             |&lt;-----&gt;|                              |&lt;-----&gt;|
              ___ ___ ___ ___ ___            ___ ___ ___ ___ ___
             | 0 | 1 | 2 | 3 | 4 |          | 0 | 1 | 2 | 3 | 4 |
             `===^===^===^===^===<span class="stringliteral">&#39;          `===^===^===^===^===&#39;</span>
                     ^------------ origin           ^------------ origin
</pre></div><p><br/>
<br/>
 </p>

</div>
</div>
<a class="anchor" id="a672ff9dc69057d996e31f321cda65051"></a><!-- doxytag: member="bslma::AutoDeallocator::~AutoDeallocator" ref="a672ff9dc69057d996e31f321cda65051" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::~<a class="el" href="classbslma_1_1AutoDeallocator.html">AutoDeallocator</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroy this range proctor and deallocate the contiguous sequence of memory blocks it manages (if any) by invoking the <code>deallocate</code> method of the allocator (or pool) supplied at construction on each memory block. Note that the order in which the managed memory blocks are deallocated is undefined. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9f52bcfdf6b45800d619e4073c9480bc"></a><!-- doxytag: member="bslma::AutoDeallocator::operator++" ref="a9f52bcfdf6b45800d619e4073c9480bc" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::operator++ </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increase by one the (signed) length of the sequence of memory blocks managed by this range proctor. The behavior is undefined unless the origin of the sequence of memory blocks managed by this proctor is non-zero. The behavior is undefined unless the origin or this range proctor is non-zero. Note that if the length of this proctor is currently negative, the number of managed memory blocks will decrease by one, whereas if the length is non-negative, the number of managed memory blocks will increase by one. </p>

</div>
</div>
<a class="anchor" id="aa77d9e5e4ffd3aa74f48f6c241e4b290"></a><!-- doxytag: member="bslma::AutoDeallocator::operator&#45;&#45;" ref="aa77d9e5e4ffd3aa74f48f6c241e4b290" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::operator-- </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrease by one the (signed) length of the sequence of memory blocks managed by this range proctor. The behavior is undefined unless the origin of the sequence of memory blocks managed by this proctor is non-zero. The behavior is undefined unless the origin or this range proctor is non-zero. Note that if the length of this proctor is currently positive, the number of managed memory blocks will decrease by one, whereas if the length is non-positive, the number of managed memory blocks will increase by one. </p>

</div>
</div>
<a class="anchor" id="a1c754bfb48637b17d4fa490017deb34b"></a><!-- doxytag: member="bslma::AutoDeallocator::release" ref="a1c754bfb48637b17d4fa490017deb34b" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::release </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Release from management the sequence of memory blocks currently managed by this range proctor by setting the length of the managed sequence to 0. All memory blocks currently under management will become unmanaged (i.e., when the proctor goes out of scope and it was not assigned another sequence of memory blocks to manage by invoking <code>reset</code>, no memory blocks will be deallocated). If no memory blocks are currently being managed, this method has no effect. Note that the origin is not affected. </p>

</div>
</div>
<a class="anchor" id="acea4ef485cfab2bec5778e31d24c245b"></a><!-- doxytag: member="bslma::AutoDeallocator::reset" ref="acea4ef485cfab2bec5778e31d24c245b" args="(TYPE **origin)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
<div class="memtemplate">
template&lt;class TYPE &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::reset </td>
          <td>(</td>
          <td class="paramtype">TYPE **&nbsp;</td>
          <td class="paramname"> <em>origin</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a575d65660592593f4f960add1432cda1"></a><!-- doxytag: member="bslma::AutoDeallocator::reset" ref="a575d65660592593f4f960add1432cda1" args="(void **origin)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::reset </td>
          <td>(</td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>origin</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the specified <code>origin</code> as the origin of the sequence of memory blocks to be managed by this range proctor. The behavior is undefined unless <code>origin</code> is non-zero. Note that the length of the sequence of memory blocks managed by this proctor is not affected, and <code>setLength</code> should be invoked if the managed range is different from the previously managed sequence of memory blocks. Also note that this method releases any previously-managed memory blocks from management (without deallocating them), and so may be called with or without having called <code>release</code> when reusing this object. </p>

</div>
</div>
<a class="anchor" id="a31009e52e997a73c7484264f8f4fcc42"></a><!-- doxytag: member="bslma::AutoDeallocator::setLength" ref="a31009e52e997a73c7484264f8f4fcc42" args="(int length)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::setLength </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the (signed) length of the sequence of memory blocks managed by this range proctor to the specified <code>length</code>. The behavior is undefined unless the origin of this range proctor is non-zero. </p>

</div>
</div>
<a class="anchor" id="a671e1365f708e3312e126cbe96da8c44"></a><!-- doxytag: member="bslma::AutoDeallocator::length" ref="a671e1365f708e3312e126cbe96da8c44" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ALLOCATOR&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classbslma_1_1AutoDeallocator.html">bslma::AutoDeallocator</a>&lt; ALLOCATOR &gt;::length </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the (signed) length of the sequence of memory blocks managed by this proctor. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="bslma__autodeallocator_8h_source.html">bslma_autodeallocator.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:50:52 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
