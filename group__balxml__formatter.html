<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: balxml_formatter Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component balxml_formatter<br/>
<small>
[<a class="el" href="group__balxml.html">Package balxml</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a simple interface for writing formatted XML.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebalxml.html">balxml</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a simple interface for writing formatted XML. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classbalxml_1_1Formatter.html">balxml::Formatter</a> </td><td>provides formatted XML  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code><a class="el" href="classbalxml_1_1Formatter.html">balxml::Formatter</a></code> class provides methods to write a formatted XML to an underlining output stream. These methods generate header, tags, data, attributes, comments in a human-readable, indented format. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>XML documents use a self-describing and simple syntax that consists of nested XML elements. Each element is bounded by a pair of opening and closing tags. Within the pair of tags, there can be more nested elements, or just plain text or numeric data in text format. The opening tag of an element can also contain attributes in the form of name="value" pairs. This component provides methods to generate these XML ingredients and takes care of proper indentation and line wrapping. Visit <a href="http://www.w3schools.com/xml/xml_syntax.asp">http://www.w3schools.com/xml/xml_syntax.asp</a> for a complete tutorial. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Here is a basic example showing ten steps of how to create an XML document using this component's major manipulators: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// 1. Create a formatter:</span>
  <a class="code" href="classbalxml_1_1Formatter.html">balxml::Formatter</a> formatter(bsl::cout);

  <span class="comment">// 2. Add a header:</span>
  formatter.addHeader(<span class="stringliteral">&quot;UTF-8&quot;</span>);

  <span class="comment">// 3. Open the root element,</span>
  <span class="comment">//    Add attributes if there are any:</span>
  formatter.openElement(<span class="stringliteral">&quot;Fruits&quot;</span>);

  <span class="comment">// 4. Open an element,</span>
  <span class="comment">//    Add attributes if there are any:</span>
  formatter.openElement(<span class="stringliteral">&quot;Oranges&quot;</span>);
  formatter.addAttribute(<span class="stringliteral">&quot;farm&quot;</span>, <span class="stringliteral">&quot;Francis&#39; Orchard&quot;</span>); <span class="comment">// &#39; is escaped</span>
  formatter.addAttribute(<span class="stringliteral">&quot;size&quot;</span>, 3.5);

  <span class="comment">// 5. If there are nested elements, recursively do steps 4 - 8:</span>
  <span class="comment">// 6. Else, there are no more nested elements, add data:</span>
  formatter.openElement(<span class="stringliteral">&quot;pickDate&quot;</span>);               <span class="comment">// step 4</span>
  formatter.addData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2004, 8, 31));       <span class="comment">// step 6</span>
  formatter.closeElement(<span class="stringliteral">&quot;pickDate&quot;</span>);              <span class="comment">// step 7</span>
  formatter.addElementAndData(<span class="stringliteral">&quot;Quantity&quot;</span>, 12);     <span class="comment">// step 8</span>
            <span class="comment">// element &quot;Quantity&quot; has no attributes, can use</span>
            <span class="comment">// shortcut &#39;addElementAndData&#39; to complete steps</span>
            <span class="comment">// 4, 6 and 7 in one shot.</span>

  <span class="comment">// 7. Close the element:</span>
  formatter.closeElement(<span class="stringliteral">&quot;Oranges&quot;</span>);

  <span class="comment">// 8. If there are more elements, repeat steps 4 - 8</span>
  formatter.openElement(<span class="stringliteral">&quot;Apples&quot;</span>);                 <span class="comment">// step 4</span>
  formatter.addAttribute(<span class="stringliteral">&quot;farm&quot;</span>, <span class="stringliteral">&quot;Fuji &amp; Sons&quot;</span>);   <span class="comment">// &#39;&amp;&#39; is escaped</span>
  formatter.addAttribute(<span class="stringliteral">&quot;size&quot;</span>, 3);
  formatter.closeElement(<span class="stringliteral">&quot;Apples&quot;</span>);                <span class="comment">// step 7</span>

  <span class="comment">// 9. Close the root element:</span>
  formatter.closeElement(<span class="stringliteral">&quot;Fruits&quot;</span>);
</pre></div><br/>
<br/>
 Indentation is correctly taken care of and the user need only concern her/himself with the correct ordering of the XML elements s/he's trying to write. The output of the above example is: <br/>
<br/>
<div class="fragment"><pre class="fragment"> +--bsl::cout---------------------------------------------------------------+
 |&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt;                                   |
 |&lt;Fruits&gt;                                                                  |
 |    &lt;Oranges farm=<span class="stringliteral">&quot;Francis&amp;apos; Orchard&quot;</span> <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a>=<span class="stringliteral">&quot;3.5&quot;</span>&gt;                     |
 |        &lt;pickDate&gt;2004-08-31&lt;/pickDate&gt;                                   |
 |        &lt;Quantity&gt;12&lt;/Quantity&gt;                                           |
 |    &lt;/Oranges&gt;                                                            |
 |    &lt;Apples farm=<span class="stringliteral">&quot;Fuji &amp;amp; Sons&quot;</span> <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a>=<span class="stringliteral">&quot;3&quot;</span>/&gt;                             |
 |&lt;/Fruits&gt;                                                                 |
 +--------------------------------------------------------------------------+
</pre></div><br/>
<br/>
 Following is a more complete usage example that uses most of the manipulators provided by <a class="el" href="classbalxml_1_1Formatter.html">balxml::Formatter</a>: <br/>
<br/>
<div class="fragment"><pre class="fragment">          <a class="code" href="classbalxml_1_1Formatter.html">balxml::Formatter</a> formatter(bsl::cout, 0, 4, 40);

          formatter.addHeader(<span class="stringliteral">&quot;UTF-8&quot;</span>);

          formatter.openElement(<span class="stringliteral">&quot;Fruits&quot;</span>);
          formatter.openElement(<span class="stringliteral">&quot;Oranges&quot;</span>);
          formatter.addAttribute(<span class="stringliteral">&quot;farm&quot;</span>, <span class="stringliteral">&quot;Francis&#39; Orchard&quot;</span>);
              <span class="comment">// notice that the apostrophe in the string will be escaped</span>
          formatter.addAttribute(<span class="stringliteral">&quot;size&quot;</span>, 3.5);

          formatter.addElementAndData(<span class="stringliteral">&quot;Quantity&quot;</span>, 12);

          formatter.openElement(<span class="stringliteral">&quot;pickDate&quot;</span>);
          formatter.addData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2004, 8, 31));
          formatter.closeElement(<span class="stringliteral">&quot;pickDate&quot;</span>);

          formatter.openElement(<span class="stringliteral">&quot;Feature&quot;</span>);
          formatter.addAttribute(<span class="stringliteral">&quot;shape&quot;</span>, <span class="stringliteral">&quot;round&quot;</span>);
          formatter.closeElement(<span class="stringliteral">&quot;Feature&quot;</span>);

          formatter.addComment(<span class="stringliteral">&quot;No wrapping for long comments&quot;</span>);

          formatter.closeElement(<span class="stringliteral">&quot;Oranges&quot;</span>);

          formatter.addBlankLine();

          formatter.openElement(<span class="stringliteral">&quot;Apples&quot;</span>);
          formatter.addAttribute(<span class="stringliteral">&quot;farm&quot;</span>, <span class="stringliteral">&quot;Fuji &amp; Sons&quot;</span>);
          formatter.addAttribute(<span class="stringliteral">&quot;size&quot;</span>, 3);

          formatter.openElement(<span class="stringliteral">&quot;pickDates&quot;</span>,
                                balxml::Formatter::BAEXML_NEWLINE_INDENT);
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 1, 17));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 2, 21));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 3, 25));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 5, 30));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 7, 4));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 9, 5));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 11, 24));
          formatter.addListData(<a class="code" href="classbdlt_1_1Date.html">bdlt::Date</a>(2005, 12, 25));

          formatter.closeElement(<span class="stringliteral">&quot;pickDates&quot;</span>);

          formatter.openElement(<span class="stringliteral">&quot;Feature&quot;</span>);
          formatter.addAttribute(<span class="stringliteral">&quot;color&quot;</span>, <span class="stringliteral">&quot;red&quot;</span>);
          formatter.addAttribute(<span class="stringliteral">&quot;taste&quot;</span>, <span class="stringliteral">&quot;juicy&quot;</span>);
          formatter.closeElement(<span class="stringliteral">&quot;Feature&quot;</span>);

          formatter.closeElement(<span class="stringliteral">&quot;Apples&quot;</span>);

          formatter.closeElement(<span class="stringliteral">&quot;Fruits&quot;</span>);

          formatter.reset();
          <span class="comment">// reset the formatter for a new document in the same stream</span>

          formatter.addHeader();
          formatter.openElement(<span class="stringliteral">&quot;Grains&quot;</span>);

          bsl::ostream&amp; os = formatter.rawOutputStream();
          os &lt;&lt; <span class="stringliteral">&quot;&lt;free&gt;anything that can mess up the XML doc&lt;/free&gt;&quot;</span>;
          <span class="comment">// Now coming back to the formatter, but can&#39;t do the following:</span>
          <span class="comment">// formatter.addAttribute(&quot;country&quot;, &quot;USA&quot;);</span>
          formatter.addData(<span class="stringliteral">&quot;Corn, Wheat, Oat&quot;</span>);
          formatter.closeElement(<span class="stringliteral">&quot;Grains&quot;</span>);
</pre></div><br/>
<br/>
 Following are the two resulting documents, as separated by the call to <a class="el" href="namespacebdlat__ValueTypeFunctions.html#a712743f16be0f4121bca7574c9face99">reset()</a>, <br/>
<br/>
<div class="fragment"><pre class="fragment"> +--bsl::cout-----------------------------+
 |&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt; |
 |&lt;Fruits&gt;                                |
 |    &lt;Oranges                            |
 |         farm=<span class="stringliteral">&quot;Francis&amp;apos; Orchard&quot;</span>   |
 |         <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a>=<span class="stringliteral">&quot;3.5&quot;</span>&gt;                    |
 |        &lt;Quantity&gt;12&lt;/Quantity&gt;         |
 |        &lt;pickDate&gt;2004-08-31&lt;/pickDate&gt; |
 |        &lt;Feature shape=<span class="stringliteral">&quot;round&quot;</span>/&gt;        |
 |        |
 |    &lt;/Oranges&gt;                          |
 |                                        |
 |    &lt;Apples farm=<span class="stringliteral">&quot;Fuji &amp;amp; Sons&quot;</span>      |
 |         <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a>=<span class="stringliteral">&quot;3&quot;</span>&gt;                      |
 |        &lt;pickDates&gt;                     |
 |            2005-01-17 2005-02-21       |
 |            2005-03-25 2005-05-30       |
 |            2005-07-04 2005-09-05       |
 |            2005-11-24 2005-12-25       |
 |        &lt;/pickDates&gt;                    |
 |        &lt;Feature color=<span class="stringliteral">&quot;red&quot;</span>            |
 |             taste=<span class="stringliteral">&quot;juicy&quot;</span>/&gt;            |
 |    &lt;/Apples&gt;                           |
 |&lt;/Fruits&gt;                               |
 +----------------------------------------+
 +--bsl::cout-----------------------------+
 |&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span> ?&gt; |
 |&lt;Grains&gt;&lt;free&gt;anything that can mess up the XML doc&lt;/free&gt;
 |              Corn, Wheat, Oat&lt;/Grains&gt; |
 +----------------------------------------+
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:31 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
