<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<title>BDE 2.23.1 OSS</title>
<html>
<pre>
// bslmf_nil.h                                                        -*-C++-*-
#ifndef INCLUDED_BSLMF_NIL
#define INCLUDED_BSLMF_NIL

#ifndef INCLUDED_BSLS_IDENT
#include &lt;bsls_ident.h&gt;
#endif
BSLS_IDENT(&quot;$Id: $&quot;)

//@PURPOSE: Provide a nil type.
//
//@CLASSES:
//  bslmf::Nil: class representing a nil (non-existent) type.
//  bslmf::IsNil: meta-function to test for nil.
//
//@DESCRIPTION: &#39;bslmf::Nil&#39; is mainly used for template meta-programming.  It
// is useful for providing defaults for template parameters and terminating
// template recursions.  &#39;bslmf::Nil&#39; can also be used to represent an unset
// state (i.e., nil) in components that require one.
//
///Usage
///-----
// The following usage illustrates a typical use of &#39;bslmf::Nil&#39; as a default
// template parameter for another meta-function.
//..
//  template &lt;int   CONDITION,
//            class TRUE_TYPE = bslmf::Nil,
//            class FALSE_TYPE = bslmf::Nil&gt;
//  struct my_If {
//      typedef TRUE_TYPE Type;
//  };
//
//  template &lt;class TRUE_TYPE, class FALSE_TYPE&gt;
//  struct my_If&lt;0, TRUE_TYPE, FALSE_TYPE&gt; {
//      typedef FALSE_TYPE Type;
//  };
//..
// Next, we can use the &#39;my_If&#39; meta-function to implement a print function
// that checks whether a type has a print method (using a fictitious
// meta-function &#39;my_IsPrintable&#39;), and print the value.  Note the use of
// &#39;bslmf::Nil&#39; as the type for overloading:
//..
//  template &lt;class TYPE&gt;
//  void print(const TYPE&amp; value, int)
//  {
//      bsl::cout &lt;&lt; value &lt;&lt; bsl::endl;
//  }
//
//  template &lt;class TYPE&gt;
//  void print(const TYPE&amp;, bslmf::Nil)
//  {
//      bsl::cout &lt;&lt; &quot;Cannot be printed.&quot; &lt;&lt; bsl::endl;
//  }
//
//  template &lt;class TYPE&gt;
//  void print(const TYPE&amp; value)
//  {
//      my_If&lt;my_IsPrintable&lt;TYPE&gt;::value, int&gt;::Type Type;  // default false
//                                                           // type is
//                                                           // &#39;bslmf::Nil&#39;.
//      print(value, Type());
//  }
//..
// Using the above functions, the following code:
//..
//  int         x = 3;
//  bslmf::Nil nil;
//..
// Will print the following to &#39;stdout&#39;:
//..
//  3
//  Cannot be printed.
//..
// Finally, the &#39;bslmf::IsNil&#39; meta-function returns true if the type passed to
// it is &#39;bslmf::Nil&#39;, and false otherwise:
//..
//  assert(1 == bslmf::IsNil&lt;bslmf::Nil&gt;::value)
//  assert(0 == bslmf::IsNil&lt;int&gt;::value)
//  assert(0 == bslmf::IsNil&lt;char&gt;::value)
//..

#ifndef INCLUDED_BSLSCM_VERSION
#include &lt;bslscm_version.h&gt;
#endif

#ifndef INCLUDED_BSLMF_INTEGRALCONSTANT
#include &lt;bslmf_integralconstant.h&gt;
#endif

namespace BloombergLP {

namespace bslmf {

                      // ==========
                      // struct Nil
                      // ==========

struct Nil {
    // This struct is empty and represents a nil type.
};

                      // ============
                      // struct IsNil
                      // ============

template &lt;class T&gt;
struct IsNil : bsl::false_type {
};

template &lt;&gt;
struct IsNil&lt;Nil&gt; : bsl::true_type {
};

}  // close package namespace


}  // close enterprise namespace

#endif

// ----------------------------------------------------------------------------
// Copyright 2013 Bloomberg Finance L.P.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ----------------------------- END-OF-FILE ----------------------------------
</pre>
</body>
</html>
