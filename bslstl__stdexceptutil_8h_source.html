<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<title>BDE 2.23.1 OSS</title>
<html>
<pre>
// bslstl_stdexceptutil.h                                             -*-C++-*-
#ifndef INCLUDED_BSLSTL_STDEXCEPTUTIL
#define INCLUDED_BSLSTL_STDEXCEPTUTIL

#ifndef INCLUDED_BSLS_IDENT
#include &lt;bsls_ident.h&gt;
#endif
BSLS_IDENT(&quot;$Id: $&quot;)

//@PURPOSE: Provide a utility to throw standard exceptions.
//
//@CLASSES:
//  bslstl::StdExceptUtil: namespace for utilities to throw standard exceptions
//
//@SEE_ALSO: stdexcept
//
//@DESCRIPTION: This component provides a means to throw standard exceptions
// without introducing a compile-time dependency on the standard exception
// classes.  This valuable where header files define function templates or
// inline functions that may throw these types as exceptions.
//
///Usage
///-----
// First we declare a function template that wants to throw a standard
// exception.  Note that the &#39;stdexcept&#39; header is not included at this point.
//..
//  #include &lt;bslstl_stdexceptutil.h&gt;
//
//  template&lt;typename T&gt;
//  void testFunction(int selector)
//      //  Throw a standard exception according to the specified &#39;selector&#39;.
//  {
//    switch(selector) {
//      case 1: bslstl::StdExceptUtil::throwRuntimeError(&quot;sample message 1&quot;);
//      case 2: bslstl::StdExceptUtil::throwLogicError(&quot;sample message 2&quot;);
//      default : bslstl::StdExceptUtil::throwInvalidArgument(&quot;ERROR&quot;);
//    }
//  }
//..
// However, if client code wishes to catch the exception, the &#39;.cpp&#39; file must
// &#39;#include&#39; the appropriate header.
//..
//  #include &lt;stdexcept&gt;
//
//  void callTestFunction()
//  {
//    try {
//      testFunction&lt;int&gt;(1);
//      assert(0 == &quot;Should throw before reaching here.&quot;);
//    }
//    catch(const runtime_error&amp; ex) {
//      assert(0 == std::strcmp(ex.what(), &quot;sample message 1&quot;));
//    }
//
//    try {
//      testFunction&lt;double&gt;(2);
//      assert(0 == &quot;Should throw before reaching here.&quot;);
//    }
//    catch(const logic_error&amp; ex) {
//      assert(0 == std::strcmp(ex.what(), &quot;sample message 2&quot;));
//    }
//  }
//..

// Prevent &#39;bslstl&#39; headers from being included directly in &#39;BSL_OVERRIDES_STD&#39;
// mode.  Doing so is unsupported, and is likely to cause compilation errors.
#if defined(BSL_OVERRIDES_STD) &amp;&amp; !defined(BSL_STDHDRS_PROLOGUE_IN_EFFECT)
#error &quot;include &lt;bsl_stdexcept.h&gt; instead of &lt;bslstl_stdexceptutil.h&gt; in \
BSL_OVERRIDES_STD mode&quot;
#endif

#ifndef INCLUDED_BSLSCM_VERSION
#include &lt;bslscm_version.h&gt;
#endif

#ifndef INCLUDED_BSLS_COMPILERFEATURES
#include &lt;bsls_compilerfeatures.h&gt;
#endif

#ifndef INCLUDED_BSLS_PLATFORM
#include &lt;bsls_platform.h&gt;
#endif

#ifdef BSLSTL_STDEXCEPTUTIL_NORETURN
#error BSLSTL_STDEXCEPTUTIL_NORETURN \
                             must be a macro scoped locally to this header file
#endif

#if defined(BSLS_COMPILERFEATURES_SUPPORT_ATTRIBUTE_NORETURN)
#   define BSLSTL_STDEXCEPTUTIL_NORETURN [[noreturn]]
#elif defined(BSLS_PLATFORM_CMP_MSVC)
#   define BSLSTL_STDEXCEPTUTIL_NORETURN __declspec(noreturn)
#else
#   define BSLSTL_STDEXCEPTUTIL_NORETURN
#endif

namespace BloombergLP {

namespace bslstl {

                        //====================
                        // class StdExceptUtil
                        //====================

struct StdExceptUtil {
    // This &#39;struct&#39; provides a namespace for &#39;static&#39; utility functions that
    // throw standard library exceptions.

    // CLASS METHODS
    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwRuntimeError(const char *message);
        // Throw a &#39;std::runtime_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwLogicError(const char *message);
        // Throw a &#39;std::logic_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwDomainError(const char *message);
        // Throw a &#39;std::domain_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwInvalidArgument(const char *message);
        // Throw a &#39;std::invalid_argument&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwLengthError(const char *message);
        // Throw a &#39;std::length_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwOutOfRange(const char *message);
        // Throw a &#39;std::out_of_range&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwRangeError(const char *message);
        // Throw a &#39;std::range_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwOverflowError(const char *message);
        // Throw a &#39;std::overflow_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.

    BSLSTL_STDEXCEPTUTIL_NORETURN
    static void throwUnderflowError(const char *message);
        // Throw a &#39;std::underflow_error&#39; exception supplying the specified
        // &#39;message&#39; as the sole argument to its constructor.
};

}  // close package namespace

#undef BSLSTL_STDEXCEPTUTIL_NORETURN


}  // close enterprise namespace

#endif

// ----------------------------------------------------------------------------
// Copyright 2013 Bloomberg Finance L.P.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ----------------------------- END-OF-FILE ----------------------------------
</pre>
</body>
</html>
