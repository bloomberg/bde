<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: Class ball::AsyncFileObserver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceball.html">ball</a>      </li>
      <li><a class="el" href="classball_1_1AsyncFileObserver.html">ball::AsyncFileObserver</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>ball::AsyncFileObserver Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ball::AsyncFileObserver" --><!-- doxytag: inherits="ball::Observer" -->
<p><code>#include &lt;<a class="el" href="ball__asyncfileobserver_8h_source.html">ball_asyncfileobserver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ball::AsyncFileObserver:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classball_1_1AsyncFileObserver.png" usemap="#ball::AsyncFileObserver_map" alt=""/>
  <map id="ball::AsyncFileObserver_map" name="ball::AsyncFileObserver_map">
<area href="classball_1_1Observer.html" alt="ball::Observer" shape="rect" coords="0,0,149,24"/>
</map>
</div>

<p><a href="classball_1_1AsyncFileObserver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>AsyncRecord</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a4b4561821b19a101e517af95e8b6f4bd">BSLMF_NESTED_TRAIT_DECLARATION</a> (<a class="el" href="classball_1_1AsyncFileObserver.html">AsyncFileObserver</a>, <a class="el" href="structbslma_1_1UsesBslmaAllocator.html">bslma::UsesBslmaAllocator</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a49734d6707fb785397d9b4950aadba3d">AsyncFileObserver</a> (<a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> stdoutThreshold=Severity::e_WARN, <a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *basicAllocator=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#ad39b7180cb57dd4de5c09afca088186d">AsyncFileObserver</a> (<a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> stdoutThreshold, bool publishInLocalTime, <a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *basicAllocator=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#ae566d8136101e6f356cda45a5114e86a">AsyncFileObserver</a> (<a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> stdoutThreshold, bool publishInLocalTime, int maxRecordQueueSize, <a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *basicAllocator=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#ad28bdd16cb6710b0b6e7114b925f316d">AsyncFileObserver</a> (<a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> stdoutThreshold, bool publishInLocalTime, int maxRecordQueueSize, <a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> dropRecordsOnFullQueueThreshold, <a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *basicAllocator=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#aedb2cca0d3bbb77eea621231d692d26c">~AsyncFileObserver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#af99da141aa9a4788708d40460de306dc">disableFileLogging</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a3bc9953065e12d60cb6d5471ca1f1553">disableTimeIntervalRotation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#ad6ba4d67af3dedb732bf0198221f676f">disableSizeRotation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a6883e97f202dd24d9fc60bc5cbd0c6fe">disableStdoutLoggingPrefix</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a40e5124b8623db7e5b818bb37cfc21a1">disablePublishInLocalTime</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a7067c48e9992148d1dbd8e81d8f0f005">enableFileLogging</a> (const char *logFilenamePattern)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a3c0bb8003022082ffec380ae82b39421">enableStdoutLoggingPrefix</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a23388833a2bfb95dd327195acd5e6b6b">enablePublishInLocalTime</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a18b5053aec92a204b3c9a36f6eb00290">publish</a> (const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; const <a class="el" href="classball_1_1Record.html">Record</a> &gt; &amp;record, const <a class="el" href="classball_1_1Context.html">Context</a> &amp;context)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#af30b25e08c5c0a1b04a4f03ce750a762">releaseRecords</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a3e7695e4ad1b0f769af7eccf7a55341f">forceRotation</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#addd99981c1e7712c5cbf715ef51c5817">rotateOnSize</a> (int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#aae02715d762903935812f54d7f4a01c2">rotateOnTimeInterval</a> (const <a class="el" href="classbdlt_1_1DatetimeInterval.html">bdlt::DatetimeInterval</a> &amp;interval)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a9f2d598afd2603fe7f0049e4f163761e">rotateOnTimeInterval</a> (const <a class="el" href="classbdlt_1_1DatetimeInterval.html">bdlt::DatetimeInterval</a> &amp;interval, const <a class="el" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> &amp;referenceStartTime)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a5e7661d3b12f59f2f6e39837e41aa201">setOnFileRotationCallback</a> (const <a class="el" href="classball_1_1FileObserver2.html#a02c20d24e2576f1272ec7dbcbf303664">FileObserver2::OnFileRotationCallback</a> &amp;onRotationCallback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#ada992e3323e08074ef10878e27167124">setStdoutThreshold</a> (<a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> stdoutThreshold)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a2aaec89d1a7061fd4b3f0dbe914d8f59">setLogFormat</a> (const char *logFileFormat, const char *stdoutFormat)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a07616ae8ab6827fb3064c71d38cda5a2">shutdownPublicationThread</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a49c9c34c5d475cdeed9596c11cc3dc8e">startPublicationThread</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#aea8bde1630d460a6874f94ea0f7070c8">stopPublicationThread</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#acc81278a068e5f08499cbf1a00d0fdc3">isFileLoggingEnabled</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a13ff4ecea2c1d64dd0646f517598f125">isFileLoggingEnabled</a> (<a class="el" href="classbsl_1_1basic__string.html">bsl::string</a> *result) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#abacd5aa93f1cd0fde317df372f9c80a2">isStdoutLoggingPrefixEnabled</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a25d03c0ce76834979acb817efc77e3ce">isUserFieldsLoggingEnabled</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a63737e6f605e65e30856074b522fbae5">isPublishInLocalTimeEnabled</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#ac6843bd3d02e35c6e0077eb887fa7549">isPublicationThreadRunning</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a0aac7b25102a41f99146a2fe0f554d36">recordQueueLength</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbdlt_1_1DatetimeInterval.html">bdlt::DatetimeInterval</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a42e4257c4d84b51241d2a861f2fc667e">rotationLifetime</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a64324a9df961dfdffcc1d7646a5cc835">rotationSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#a54eae104fab99b7871177b67f6600e96">stdoutThreshold</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1AsyncFileObserver.html#aa270427415fc22cdf0e428424a73a53f">getLogFormat</a> (const char **logFileFormat, const char **stdoutFormat) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Observer.html#abbc4be4bd050d9922bf23351b40cd314">publish</a> (const <a class="el" href="classball_1_1Record.html">Record</a> &amp;record, const <a class="el" href="classball_1_1Context.html">Context</a> &amp;context)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class implements the <code><a class="el" href="classball_1_1Observer.html">Observer</a></code> protocol. The <code>publish</code> method of this class outputs the log records asynchronously to <code>stdout</code> and optionally to a user-specified file. This class is thread-safe; different threads can operate on this object concurrently. This class is exception-neutral with no guarantee of rollback. In no event is memory leaked. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a49734d6707fb785397d9b4950aadba3d"></a><!-- doxytag: member="ball::AsyncFileObserver::AsyncFileObserver" ref="a49734d6707fb785397d9b4950aadba3d" args="(Severity::Level stdoutThreshold=Severity::e_WARN, bslma::Allocator *basicAllocator=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ball::AsyncFileObserver::AsyncFileObserver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td>
          <td class="paramname"> <em>stdoutThreshold</em> = <code>Severity::e_WARN</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *&nbsp;</td>
          <td class="paramname"> <em>basicAllocator</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a file observer that asynchronously publishes log records both to a log file, and possibly also to <code>stdout</code> if a record's severity us at least as severe as the optionally specified <code>stdoutThreshold</code>. If <code>stdoutThreshold</code> is not specified, log records are published to <code>stdout</code> if their severity is at least as severe as <code><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384a784431e47d4121459476d62efde5b97e" title="a potentially problematic condition">Severity::e_WARN</a></code>. Optionally specify a <code>basicAllocator</code> used to supply memory. If <code>basicAllocator</code> is 0, the currently installed default allocator is used. The timestamp attribute of published records is written in UTC time. Published records are added onto the end of a queue having a maximum length of 8,192 records, and then later published by an independent publication thread. If <code>publish</code> is called when the record queue is full, the published record is discarded (and a warning may be written to <code>stderr</code>). Note that user-defined fields are published to <code>stdout</code> by default. Also note that file logging is initially disabled. </p>

</div>
</div>
<a class="anchor" id="ad39b7180cb57dd4de5c09afca088186d"></a><!-- doxytag: member="ball::AsyncFileObserver::AsyncFileObserver" ref="ad39b7180cb57dd4de5c09afca088186d" args="(Severity::Level stdoutThreshold, bool publishInLocalTime, bslma::Allocator *basicAllocator=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ball::AsyncFileObserver::AsyncFileObserver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td>
          <td class="paramname"> <em>stdoutThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>publishInLocalTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *&nbsp;</td>
          <td class="paramname"> <em>basicAllocator</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a file observer that asynchronously publishes log records both to a log file, and possibly also to <code>stdout</code>, if a record's severity is at least as severe as the specified <code>stdoutThreshold</code>, where the timestamp attribute of each published record is written in local-time if the specified <code>publishInLocalTimeFlag</code> is <code>true</code>, and UTC time otherwise. Optionally specify a <code>basicAllocator</code> used to supply memory. If <code>basicAllocator</code> is 0, the currently installed default allocator is used. Published records are added onto the end of a queue having a maximum length of 8,192 records, and then later published by an independent publication thread. If <code>publish</code> is called when the record queue is full, the published record is discarded (and a warning may be written to <code>stderr</code>). Note that user-defined fields are published to <code>stdout</code> by default. Also note that file logging is initially disabled. </p>

</div>
</div>
<a class="anchor" id="ae566d8136101e6f356cda45a5114e86a"></a><!-- doxytag: member="ball::AsyncFileObserver::AsyncFileObserver" ref="ae566d8136101e6f356cda45a5114e86a" args="(Severity::Level stdoutThreshold, bool publishInLocalTime, int maxRecordQueueSize, bslma::Allocator *basicAllocator=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ball::AsyncFileObserver::AsyncFileObserver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td>
          <td class="paramname"> <em>stdoutThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>publishInLocalTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxRecordQueueSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *&nbsp;</td>
          <td class="paramname"> <em>basicAllocator</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad28bdd16cb6710b0b6e7114b925f316d"></a><!-- doxytag: member="ball::AsyncFileObserver::AsyncFileObserver" ref="ad28bdd16cb6710b0b6e7114b925f316d" args="(Severity::Level stdoutThreshold, bool publishInLocalTime, int maxRecordQueueSize, Severity::Level dropRecordsOnFullQueueThreshold, bslma::Allocator *basicAllocator=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ball::AsyncFileObserver::AsyncFileObserver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td>
          <td class="paramname"> <em>stdoutThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>publishInLocalTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>maxRecordQueueSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td>
          <td class="paramname"> <em>dropRecordsOnFullQueueThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *&nbsp;</td>
          <td class="paramname"> <em>basicAllocator</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a file observer that asynchronously publishes log records by enqueuing them onto a record queue having the specified <code>maxRecordQueue</code> length, where an independent publication thread will later write them both to a log file and possibly also to <code>stdout</code>, if the records's severities are at least as severe as the specified <code>stdoutThreshold</code>, and where the timestamp attribute of each published record is written in local-time if <code>publishInLocalTimeFlag</code> is <code>true</code>, and UTC otherwise. Optionally specify <code>dropRecordsOnFullQueueThreshold</code> indicating the severity threshold below which records published when the queue is full will be discarded (records published above this severity will block the calling thread if the queue is full, until space is available in the queue). If <code>dropRecordsOnFullQueueThreshold</code> is not specified, all records published when the queue is full will be discarded. Optionally specify a <code>basicAllocator</code> used to supply memory. If <code>basicAllocator</code> is 0, the currently installed default allocator is used. Note that user-defined fields are published to <code>stdout</code> by default. Also note that file logging is initially disabled. </p>

</div>
</div>
<a class="anchor" id="aedb2cca0d3bbb77eea621231d692d26c"></a><!-- doxytag: member="ball::AsyncFileObserver::~AsyncFileObserver" ref="aedb2cca0d3bbb77eea621231d692d26c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ball::AsyncFileObserver::~AsyncFileObserver </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close the log file of this async file observer if file logging is enabled, and destroy this async file observer. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4b4561821b19a101e517af95e8b6f4bd"></a><!-- doxytag: member="ball::AsyncFileObserver::BSLMF_NESTED_TRAIT_DECLARATION" ref="a4b4561821b19a101e517af95e8b6f4bd" args="(AsyncFileObserver, bslma::UsesBslmaAllocator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ball::AsyncFileObserver::BSLMF_NESTED_TRAIT_DECLARATION </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classball_1_1AsyncFileObserver.html">AsyncFileObserver</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbslma_1_1UsesBslmaAllocator.html">bslma::UsesBslmaAllocator</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af99da141aa9a4788708d40460de306dc"></a><!-- doxytag: member="ball::AsyncFileObserver::disableFileLogging" ref="af99da141aa9a4788708d40460de306dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::disableFileLogging </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disable file logging for this async file observer. This method has no effect if file logging is not enabled. </p>

</div>
</div>
<a class="anchor" id="a3bc9953065e12d60cb6d5471ca1f1553"></a><!-- doxytag: member="ball::AsyncFileObserver::disableTimeIntervalRotation" ref="a3bc9953065e12d60cb6d5471ca1f1553" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::disableTimeIntervalRotation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disable log file rotation based on periodic time interval for this file observer. This method has no effect if rotation-on-time-interval is not enabled. </p>

</div>
</div>
<a class="anchor" id="ad6ba4d67af3dedb732bf0198221f676f"></a><!-- doxytag: member="ball::AsyncFileObserver::disableSizeRotation" ref="ad6ba4d67af3dedb732bf0198221f676f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::disableSizeRotation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disable log file rotation based on log file size for this file observer. This method has no effect if rotation-on-size is not enabled. </p>

</div>
</div>
<a class="anchor" id="a6883e97f202dd24d9fc60bc5cbd0c6fe"></a><!-- doxytag: member="ball::AsyncFileObserver::disableStdoutLoggingPrefix" ref="a6883e97f202dd24d9fc60bc5cbd0c6fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::disableStdoutLoggingPrefix </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disable this async file observer from using the default long output format when logging to <code>stdout</code>. This method has no effect if the default long output format for <code>stdout</code> logging is not enabled. </p>

</div>
</div>
<a class="anchor" id="a40e5124b8623db7e5b818bb37cfc21a1"></a><!-- doxytag: member="ball::AsyncFileObserver::disablePublishInLocalTime" ref="a40e5124b8623db7e5b818bb37cfc21a1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::disablePublishInLocalTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disable publishing of the timestamp attribute of records in local time by this async file observer. This method has no effect if publishing in local time is not enabled. </p>

</div>
</div>
<a class="anchor" id="a7067c48e9992148d1dbd8e81d8f0f005"></a><!-- doxytag: member="ball::AsyncFileObserver::enableFileLogging" ref="a7067c48e9992148d1dbd8e81d8f0f005" args="(const char *logFilenamePattern)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::AsyncFileObserver::enableFileLogging </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logFilenamePattern</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable logging of all messages published to this async file observer to a file indicated by the specified <code>logFilenamePattern</code>. Return 0 on success, a positive value if file logging is already enabled, and a negative value otherwise. The basename of <code>logFilenamePattern</code> may contain <code>%</code>-escape sequences that are interpreted as follows: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">           %Y - current year (four digits with leading zeros)
           %M - current month (two digits with leading zeros)
           %D - current day (two digits with leading zeros)
           %h - current hour (two digits with leading zeros)
           %m - current minute (two digits with leading zeros)
           %s - current second (two digits with leading zeros)
           %T - current datetime, equivalent to <span class="stringliteral">&quot;%Y%M%D_%h%m%s&quot;</span>
           %p - process Id
</pre></div><p><br/>
<br/>
 Each time a log file is opened by this async file observer (upon a successful call to this method and following each log file rotation) the name of the log file is derived from <code>logFilenamePattern</code> by interpreting the above recognized <code>%</code>-escape sequences. On rotation, the current log file is closed, and a new log-file name is derived. If the newly derived log-file name is the same as that of the current (rotated) log file, the current log file is renamed by appending a timestamp of the form ".%Y%M%D_%h%m%s". Then, the new log file is opened for logging. </p>

</div>
</div>
<a class="anchor" id="a3c0bb8003022082ffec380ae82b39421"></a><!-- doxytag: member="ball::AsyncFileObserver::enableStdoutLoggingPrefix" ref="a3c0bb8003022082ffec380ae82b39421" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::enableStdoutLoggingPrefix </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable this async file observer to use the default long output format when logging to <code>stdout</code>. This method has no effect if the default long output format for <code>stdout</code> logging is already enabled. </p>

</div>
</div>
<a class="anchor" id="a23388833a2bfb95dd327195acd5e6b6b"></a><!-- doxytag: member="ball::AsyncFileObserver::enablePublishInLocalTime" ref="a23388833a2bfb95dd327195acd5e6b6b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::enablePublishInLocalTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enable publishing of the timestamp attribute of records in local time by this async file observer. This method has no effect if publishing in local time is already enabled. </p>

</div>
</div>
<a class="anchor" id="a18b5053aec92a204b3c9a36f6eb00290"></a><!-- doxytag: member="ball::AsyncFileObserver::publish" ref="a18b5053aec92a204b3c9a36f6eb00290" args="(const bsl::shared_ptr&lt; const Record &gt; &amp;record, const Context &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::publish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; const <a class="el" href="classball_1_1Record.html">Record</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classball_1_1Context.html">Context</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process the record referred by the specified shared pointer <code>record</code> by writing the record and the specified <code>context</code> of the record to a file if file logging is enabled for this async file observer, and to <code>stdout</code> if the severity of <code>record</code> is at least as severe as the severity level specified at construction. </p>

<p>Reimplemented from <a class="el" href="classball_1_1Observer.html#a8500c2bf27d837051867c0db6557a072">ball::Observer</a>.</p>

</div>
</div>
<a class="anchor" id="af30b25e08c5c0a1b04a4f03ce750a762"></a><!-- doxytag: member="ball::AsyncFileObserver::releaseRecords" ref="af30b25e08c5c0a1b04a4f03ce750a762" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::releaseRecords </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Discard any shared references to records that have been published but have not yet been written to the log file or <code>stdout</code>. Discarded records will not be published. This method should be called to immediately release the resources managed by the shared pointers supplied to <code>publish</code>. </p>

<p>Reimplemented from <a class="el" href="classball_1_1Observer.html#a12a582bec075f1b2769de6ebe961188b">ball::Observer</a>.</p>

</div>
</div>
<a class="anchor" id="a3e7695e4ad1b0f769af7eccf7a55341f"></a><!-- doxytag: member="ball::AsyncFileObserver::forceRotation" ref="a3e7695e4ad1b0f769af7eccf7a55341f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::forceRotation </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Forcefully perform a log file rotation by this async file observer. Close the current log file, rename the log file if necessary, and open a new log file. See the "Rotated File Naming" section under @DESCRIPTION in the component-level documentation for details on filenames of the rotated log files. This method has no effect if file logging is not enabled. </p>

</div>
</div>
<a class="anchor" id="addd99981c1e7712c5cbf715ef51c5817"></a><!-- doxytag: member="ball::AsyncFileObserver::rotateOnSize" ref="addd99981c1e7712c5cbf715ef51c5817" args="(int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::rotateOnSize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set this async file observer to perform log file rotation when the size of the file exceeds the specified <code>size</code> (in kilo-bytes). This rule replaces any rotation-on-size rule currently in effect. The behavior is undefined unless <code>size &gt; 0</code>. </p>

</div>
</div>
<a class="anchor" id="aae02715d762903935812f54d7f4a01c2"></a><!-- doxytag: member="ball::AsyncFileObserver::rotateOnTimeInterval" ref="aae02715d762903935812f54d7f4a01c2" args="(const bdlt::DatetimeInterval &amp;interval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::rotateOnTimeInterval </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbdlt_1_1DatetimeInterval.html">bdlt::DatetimeInterval</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>interval</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9f2d598afd2603fe7f0049e4f163761e"></a><!-- doxytag: member="ball::AsyncFileObserver::rotateOnTimeInterval" ref="a9f2d598afd2603fe7f0049e4f163761e" args="(const bdlt::DatetimeInterval &amp;interval, const bdlt::Datetime &amp;referenceStartTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::rotateOnTimeInterval </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbdlt_1_1DatetimeInterval.html">bdlt::DatetimeInterval</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>referenceStartTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set this async file observer to perform a periodic log-file rotation at multiples of the specified <code>interval</code>. Optionally, specify <code>referenceStartTime</code> indicating the <em>local</em> datetime to use as the starting point for computing the periodic rotation schedule. <code>referenceStartTime</code> is interpreted using the local-time offset at the time this object was constructred. If <code>referenceStartTime</code> is unspecified, the current time is used. The behavior is undefined unless <code>0 &lt; interval.totalMilliseconds()</code>. This rule replaces any rotation-on-time-interval rule currently in effect. Note that <code>referenceStartTime</code> may be a fixed time in the past. E.g., a reference time of <code>bdlt::Datetime(1, 1, 1)</code> and an interval of 24 hours would configure a periodic rotation at midnight each day. </p>

</div>
</div>
<a class="anchor" id="a5e7661d3b12f59f2f6e39837e41aa201"></a><!-- doxytag: member="ball::AsyncFileObserver::setOnFileRotationCallback" ref="a5e7661d3b12f59f2f6e39837e41aa201" args="(const FileObserver2::OnFileRotationCallback &amp;onRotationCallback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::setOnFileRotationCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classball_1_1FileObserver2.html#a02c20d24e2576f1272ec7dbcbf303664">FileObserver2::OnFileRotationCallback</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>onRotationCallback</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the specified <code>onRotationCallback</code> to be invoked after each time this async file observer attempts perform a log file rotation. The behavior is undefined if the supplied function calls either <code>setOnFileRotationCallback</code>, <code>forceRotation</code>, or <code>publish</code> on this async file observer (i.e., the supplied callback should <em>not</em> attempt to write to the <code>ball</code> log). </p>

</div>
</div>
<a class="anchor" id="ada992e3323e08074ef10878e27167124"></a><!-- doxytag: member="ball::AsyncFileObserver::setStdoutThreshold" ref="ada992e3323e08074ef10878e27167124" args="(Severity::Level stdoutThreshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::setStdoutThreshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a>&nbsp;</td>
          <td class="paramname"> <em>stdoutThreshold</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the minimum severity of messages logged to <code>stdout</code> by this file observer to the specified <code>stdoutThreshold</code> level. Note that if the value of <code>stdoutThreshold</code> is <code><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384a4755c626c511dbd0acc89946b9700c30" title="disable generation of corresponding message">Severity::e_OFF</a></code>, logging to <code>stdout</code> is disabled. </p>

</div>
</div>
<a class="anchor" id="a2aaec89d1a7061fd4b3f0dbe914d8f59"></a><!-- doxytag: member="ball::AsyncFileObserver::setLogFormat" ref="a2aaec89d1a7061fd4b3f0dbe914d8f59" args="(const char *logFileFormat, const char *stdoutFormat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::setLogFormat </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logFileFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>stdoutFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the format of log records written to the log file and to <code>stdout</code> to the specified <code>logFileFormat</code> and <code>stdoutFormat</code>, respectively. If this method is not called, default formats are used when publishing log records. See "Log Record Formatting" under @DESCRIPTION for details of formatting syntax. </p>

</div>
</div>
<a class="anchor" id="a07616ae8ab6827fb3064c71d38cda5a2"></a><!-- doxytag: member="ball::AsyncFileObserver::shutdownPublicationThread" ref="a07616ae8ab6827fb3064c71d38cda5a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::AsyncFileObserver::shutdownPublicationThread </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stop the publication thread without waiting for remaining log records in the record queue to be published. Discard currently queued log records. Return 0 on success, and a non-zero value if there is an error joining the publication thread. </p>

</div>
</div>
<a class="anchor" id="a49c9c34c5d475cdeed9596c11cc3dc8e"></a><!-- doxytag: member="ball::AsyncFileObserver::startPublicationThread" ref="a49c9c34c5d475cdeed9596c11cc3dc8e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::AsyncFileObserver::startPublicationThread </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start a publication thread to asynchronously publish logged records from the record queue. If a publication thread is already active, this operation has no effect. Return 0 on success, and a non-zero value if there is an error creating the publication thread. </p>

</div>
</div>
<a class="anchor" id="aea8bde1630d460a6874f94ea0f7070c8"></a><!-- doxytag: member="ball::AsyncFileObserver::stopPublicationThread" ref="aea8bde1630d460a6874f94ea0f7070c8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::AsyncFileObserver::stopPublicationThread </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stop the publication thread after all the remaining records in the record queue have been published. If there is no publication thread this operation has no effect. Return 0 on success, and a non-zero value if there is an error joining the publication thread. </p>

</div>
</div>
<a class="anchor" id="acc81278a068e5f08499cbf1a00d0fdc3"></a><!-- doxytag: member="ball::AsyncFileObserver::isFileLoggingEnabled" ref="acc81278a068e5f08499cbf1a00d0fdc3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ball::AsyncFileObserver::isFileLoggingEnabled </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a13ff4ecea2c1d64dd0646f517598f125"></a><!-- doxytag: member="ball::AsyncFileObserver::isFileLoggingEnabled" ref="a13ff4ecea2c1d64dd0646f517598f125" args="(bsl::string *result) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ball::AsyncFileObserver::isFileLoggingEnabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1basic__string.html">bsl::string</a> *&nbsp;</td>
          <td class="paramname"> <em>result</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return <code>true</code> if file logging is enabled for this async file observer, and <code>false</code> otherwise. Load the optionally specified <code>result</code> with the name of the current log file if file logging is enabled, and leave <code>result</code> unmodified otherwise. </p>

</div>
</div>
<a class="anchor" id="abacd5aa93f1cd0fde317df372f9c80a2"></a><!-- doxytag: member="ball::AsyncFileObserver::isStdoutLoggingPrefixEnabled" ref="abacd5aa93f1cd0fde317df372f9c80a2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ball::AsyncFileObserver::isStdoutLoggingPrefixEnabled </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return <code>true</code> if this async file observer uses the default output format when writing to <code>stdout</code>, and <code>false</code> otherwise. </p>

</div>
</div>
<a class="anchor" id="a25d03c0ce76834979acb817efc77e3ce"></a><!-- doxytag: member="ball::AsyncFileObserver::isUserFieldsLoggingEnabled" ref="a25d03c0ce76834979acb817efc77e3ce" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ball::AsyncFileObserver::isUserFieldsLoggingEnabled </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return <code>true</code> if the logging of user-defined fields is enabled for this async file observer, and <code>false</code> otherwise. </p>

</div>
</div>
<a class="anchor" id="a63737e6f605e65e30856074b522fbae5"></a><!-- doxytag: member="ball::AsyncFileObserver::isPublishInLocalTimeEnabled" ref="a63737e6f605e65e30856074b522fbae5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ball::AsyncFileObserver::isPublishInLocalTimeEnabled </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return <code>true</code> if this async file observer writes the timestamp attribute of records that it publishes in local time, and <code>false</code> otherwise. </p>

</div>
</div>
<a class="anchor" id="ac6843bd3d02e35c6e0077eb887fa7549"></a><!-- doxytag: member="ball::AsyncFileObserver::isPublicationThreadRunning" ref="ac6843bd3d02e35c6e0077eb887fa7549" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ball::AsyncFileObserver::isPublicationThreadRunning </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return <code>true</code> if the publication thread is running, and <code>false</code> otherwise. </p>

</div>
</div>
<a class="anchor" id="a0aac7b25102a41f99146a2fe0f554d36"></a><!-- doxytag: member="ball::AsyncFileObserver::recordQueueLength" ref="a0aac7b25102a41f99146a2fe0f554d36" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::AsyncFileObserver::recordQueueLength </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the number of log records currently in this observer's log record queue. </p>

</div>
</div>
<a class="anchor" id="a42e4257c4d84b51241d2a861f2fc667e"></a><!-- doxytag: member="ball::AsyncFileObserver::rotationLifetime" ref="a42e4257c4d84b51241d2a861f2fc667e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbdlt_1_1DatetimeInterval.html">bdlt::DatetimeInterval</a> ball::AsyncFileObserver::rotationLifetime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the lifetime of the log file that will trigger a file rotation by this async file observer if rotation-on-lifetime is in effect, and a 0 time interval otherwise. </p>

</div>
</div>
<a class="anchor" id="a64324a9df961dfdffcc1d7646a5cc835"></a><!-- doxytag: member="ball::AsyncFileObserver::rotationSize" ref="a64324a9df961dfdffcc1d7646a5cc835" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::AsyncFileObserver::rotationSize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the size (in kilo-bytes) of the log file that will trigger a file rotation by this async file observer if rotation-on-size is in effect, and 0 otherwise. </p>

</div>
</div>
<a class="anchor" id="a54eae104fab99b7871177b67f6600e96"></a><!-- doxytag: member="ball::AsyncFileObserver::stdoutThreshold" ref="a54eae104fab99b7871177b67f6600e96" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structball_1_1Severity.html#af49f66189615b9475c9cced03afde384">Severity::Level</a> ball::AsyncFileObserver::stdoutThreshold </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the minimum severity of messages that will be logged to <code>stdout</code> by this async file observer. </p>

</div>
</div>
<a class="anchor" id="aa270427415fc22cdf0e428424a73a53f"></a><!-- doxytag: member="ball::AsyncFileObserver::getLogFormat" ref="aa270427415fc22cdf0e428424a73a53f" args="(const char **logFileFormat, const char **stdoutFormat) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::AsyncFileObserver::getLogFormat </td>
          <td>(</td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>logFileFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&nbsp;</td>
          <td class="paramname"> <em>stdoutFormat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Load the format of log records written by this async file observer to the log file into the specified <code>*logFileFormat</code> address and the format of log records written to <code>stdout</code> into the specified <code>*stdoutFormat</code> address. See "Log Record Formatting" under @DESCRIPTION for details of formatting syntax. </p>

</div>
</div>
<a class="anchor" id="abbc4be4bd050d9922bf23351b40cd314"></a><!-- doxytag: member="ball::AsyncFileObserver::publish" ref="abbc4be4bd050d9922bf23351b40cd314" args="(const Record &amp;record, const Context &amp;context)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ball::Observer::publish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classball_1_1Record.html">Record</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classball_1_1Context.html">Context</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>context</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process the specified log <code>record</code> having the specified publishing <code>context</code>.</p>
<p>DEPRECATED: use the alternative <code>publish</code> overload instead. </p>

<p>Reimplemented in <a class="el" href="classball_1_1DefaultObserver.html#a6b6fb2d00afc3ad3c6c33f4376f0eec0">ball::DefaultObserver</a>, <a class="el" href="classball_1_1FileObserver.html#a2ffc6b7caf80384c153ecd77014cc5d6">ball::FileObserver</a>, <a class="el" href="classball_1_1FileObserver2.html#abbcd6d09319d6efd6e16adba02adf94a">ball::FileObserver2</a>, <a class="el" href="classball_1_1MultiplexObserver.html#ab5141d3010f7d2178d63f39e3f0b0839">ball::MultiplexObserver</a>, <a class="el" href="classball_1_1ObserverAdapter.html#a98927134ca904fbf46c3b227641caa19">ball::ObserverAdapter</a>, and <a class="el" href="classball_1_1TestObserver.html#a1763bdf7d38df77fa9c0c30035d06425">ball::TestObserver</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ball__asyncfileobserver_8h_source.html">ball_asyncfileobserver.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:50:00 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
