<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: Class ball::Logger</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespaceball.html">ball</a>      </li>
      <li><a class="el" href="classball_1_1Logger.html">ball::Logger</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<h1>ball::Logger Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ball::Logger" -->
<p><code>#include &lt;<a class="el" href="ball__loggermanager_8h_source.html">ball_loggermanager.h</a>&gt;</code></p>

<p><a href="classball_1_1Logger-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
<a class="el" href="classball_1_1LoggerManagerConfiguration.html#a4b8358fd2e847056b032ed58d4e4b157">LoggerManagerConfiguration::UserFieldsPopulatorCallback</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a16438ded5c7e2186484938ce1baaac74">UserFieldsPopulatorCallback</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef bsl::function&lt; void(<a class="el" href="structball_1_1Transmission.html#a0a918d700a10b34f454db48c83e6b884">Transmission::Cause</a>)&gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a70260402f805db8057b6bedd07a782df">PublishAllTriggerCallback</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classball_1_1Record.html">Record</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a60a17bb89c6b9199685c162d82e1f37c">getRecord</a> (const char *file, int line)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a6b1765b07906af1e1b1c42d945f52424">logMessage</a> (const <a class="el" href="classCategory.html">Category</a> &amp;category, int severity, const char *fileName, int lineNumber, const char *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a106dff920c6b7825be944c15563959b9">logMessage</a> (const <a class="el" href="classCategory.html">Category</a> &amp;category, int severity, <a class="el" href="classball_1_1Record.html">Record</a> *record)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#aaaec1cb5ecc287b6420d555a8add55c7">publish</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a550e2d1d3caadfe9d8c88db068255f63">removeAll</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a431efa6f25eda7d8ea6f2e45a01785cd">obtainMessageBuffer</a> (<a class="el" href="classbslmt_1_1Mutex.html">bslmt::Mutex</a> **mutex, int *bufferSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#ada5ff364cb8ae663f43fb2c1e76184f3">messageBufferSize</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#a6d9f7104e5885373b054d11aa9fcc7fd">numRecordsInUse</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classball_1_1Logger.html#ab315504a6dd6a6c8d2514affb54a9cf2">LoggerManager</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class provides log record management services. Each instance of <code><a class="el" href="classball_1_1Logger.html">Logger</a></code> receives log records from one or more clients, manages the storage of those records, and transmits them to a registered recipient (i.e., an observer) when appropriate. </p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a16438ded5c7e2186484938ce1baaac74"></a><!-- doxytag: member="ball::Logger::UserFieldsPopulatorCallback" ref="a16438ded5c7e2186484938ce1baaac74" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classball_1_1LoggerManagerConfiguration.html#a4b8358fd2e847056b032ed58d4e4b157">LoggerManagerConfiguration::UserFieldsPopulatorCallback</a> <a class="el" href="classball_1_1Logger.html#a16438ded5c7e2186484938ce1baaac74">ball::Logger::UserFieldsPopulatorCallback</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a70260402f805db8057b6bedd07a782df"></a><!-- doxytag: member="ball::Logger::PublishAllTriggerCallback" ref="a70260402f805db8057b6bedd07a782df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bsl::function&lt;void(<a class="el" href="structball_1_1Transmission.html#a0a918d700a10b34f454db48c83e6b884">Transmission::Cause</a>)&gt; <a class="el" href="classball_1_1Logger.html#a70260402f805db8057b6bedd07a782df">ball::Logger::PublishAllTriggerCallback</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><code>PublishAllTriggerCallback</code> is the type of the functor that is invoked with the publication cause to publish all record buffers of all loggers that are allocated by the logger manager. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a60a17bb89c6b9199685c162d82e1f37c"></a><!-- doxytag: member="ball::Logger::getRecord" ref="a60a17bb89c6b9199685c162d82e1f37c" args="(const char *file, int line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classball_1_1Record.html">Record</a>* ball::Logger::getRecord </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the address of a modifiable record having the specified <code>file</code> and <code>line</code> attributes, and retrieved from the object pool managed by this logger. </p>

</div>
</div>
<a class="anchor" id="a6b1765b07906af1e1b1c42d945f52424"></a><!-- doxytag: member="ball::Logger::logMessage" ref="a6b1765b07906af1e1b1c42d945f52424" args="(const Category &amp;category, int severity, const char *fileName, int lineNumber, const char *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::Logger::logMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCategory.html">Category</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lineNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="structball_1_1Log.html">Log</a> a record containing the specified <code>message</code> text, <code>fileName</code>, <code>lineNumber</code>, <code>severity</code>, and the name of the specified <code>category</code>. (See the component-level documentation of <code>ball_record</code> for more information on the additional fields that are logged.) Store the record in the buffer held by this logger if <code>severity</code> is at least as severe as the current "Record" threshold level of <code>category</code>. Pass the record directly to the observer held by this logger if <code>severity</code> is at least as severe as the current "Pass" threshold level of <code>category</code>. Publish the entire contents of the buffer of this logger if <code>severity</code> is at least as severe as the current "Trigger" threshold level of <code>category</code>. Publish the entire contents of all buffers of all active loggers of this logger factory if <code>severity</code> is at least as severe as the current "Trigger-All" threshold level of <code>category</code> (i.e., via the callback supplied at construction). Note that this method will have no effect if <code>severity</code> is less severe than all of the threshold levels of <code>category</code>. The behavior is undefined unless <code>severity</code> is in the range <code>[1 .. 255]</code>. </p>

</div>
</div>
<a class="anchor" id="a106dff920c6b7825be944c15563959b9"></a><!-- doxytag: member="ball::Logger::logMessage" ref="a106dff920c6b7825be944c15563959b9" args="(const Category &amp;category, int severity, Record *record)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::Logger::logMessage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCategory.html">Category</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>severity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classball_1_1Record.html">Record</a> *&nbsp;</td>
          <td class="paramname"> <em>record</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="structball_1_1Log.html">Log</a> the specified <code>*record</code> after setting its category attribute to the name of the specified <code>category</code> and severity attribute to the specified <code>severity</code>. (See the component-level documentation of <code>ball_record</code> for more information on the fields that are logged.) Store the record in the buffer held by this logger if <code>severity</code> is at least as severe as the current "Record" threshold level of <code>category</code>. Pass the record directly to the observer held by this logger if <code>severity</code> is at least as severe as the current "Pass" threshold level of <code>category</code>. Publish the entire contents of the buffer of this logger if <code>severity</code> is at least as severe as the current "Trigger" threshold level of <code>category</code>. Publish the entire contents of all buffers of all active loggers if <code>severity</code> is at least as severe as the current "Trigger-All" threshold level of <code>category</code> (i.e., via the callback supplied at construction). The behavior is undefined unless <code>severity</code> is in the range <code>[1 .. 255]</code>, both <code>fileName</code> and <code>message</code> are null-terminated, and <code>record</code> was previously obtained by a call to <code>getRecord</code> on this logger. Note that this method will have no effect if <code>severity</code> is less severe than all of the threshold levels of <code>category</code>. Also note that <code>record</code> must not be reused after invoking this method. </p>

</div>
</div>
<a class="anchor" id="aaaec1cb5ecc287b6420d555a8add55c7"></a><!-- doxytag: member="ball::Logger::publish" ref="aaaec1cb5ecc287b6420d555a8add55c7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::Logger::publish </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish to the observer held by this logger all records stored in the record buffer of this logger and indicate to the observer that the cause is <code>MANUAL_PUBLISH</code>. </p>

</div>
</div>
<a class="anchor" id="a550e2d1d3caadfe9d8c88db068255f63"></a><!-- doxytag: member="ball::Logger::removeAll" ref="a550e2d1d3caadfe9d8c88db068255f63" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ball::Logger::removeAll </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove all log records from the record buffer of this logger. </p>

</div>
</div>
<a class="anchor" id="a431efa6f25eda7d8ea6f2e45a01785cd"></a><!-- doxytag: member="ball::Logger::obtainMessageBuffer" ref="a431efa6f25eda7d8ea6f2e45a01785cd" args="(bslmt::Mutex **mutex, int *bufferSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* ball::Logger::obtainMessageBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbslmt_1_1Mutex.html">bslmt::Mutex</a> **&nbsp;</td>
          <td class="paramname"> <em>mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>bufferSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Block until access to the buffer of this logger used for formatting messages is available. Return the address of the modifiable buffer to which this thread of execution has exclusive access, load the address of the mutex that protects the buffer into the specified <code>*mutex</code> address, and load the size (in bytes) of the buffer into the specified <code>bufferSize</code> address. The address remains valid, and the buffer remains locked by this thread of execution, until this thread calls <code>mutex-&gt;unlock()</code>. The behavior is undefined if this thread of execution currently holds a lock on the buffer. Note that the buffer is intended to be used <em>only</em> for formatting log messages immediately before calling <code>logMessage</code>; other use may adversely affect performance for the entire program. </p>

</div>
</div>
<a class="anchor" id="ada5ff364cb8ae663f43fb2c1e76184f3"></a><!-- doxytag: member="ball::Logger::messageBufferSize" ref="ada5ff364cb8ae663f43fb2c1e76184f3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::Logger::messageBufferSize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the size, in bytes, of the message buffer managed by this logger. </p>

</div>
</div>
<a class="anchor" id="a6d9f7104e5885373b054d11aa9fcc7fd"></a><!-- doxytag: member="ball::Logger::numRecordsInUse" ref="a6d9f7104e5885373b054d11aa9fcc7fd" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ball::Logger::numRecordsInUse </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a <em>snapshot</em> of number of records that have been dispensed by <code>getRecord</code> but have not yet been supplied (returned) using <code>logRecord</code>. </p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="ab315504a6dd6a6c8d2514affb54a9cf2"></a><!-- doxytag: member="ball::Logger::LoggerManager" ref="ab315504a6dd6a6c8d2514affb54a9cf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classball_1_1LoggerManager.html">LoggerManager</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ball__loggermanager_8h_source.html">ball_loggermanager.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:50:01 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
