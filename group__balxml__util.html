<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: balxml_util Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component balxml_util<br/>
<small>
[<a class="el" href="group__balxml.html">Package balxml</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a suite of common XML utilities.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebalxml.html">balxml</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a suite of common XML utilities. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbalxml_1_1Util.html">balxml::Util</a> </td><td>namespace for common XML utilities  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a namespace, <code><a class="el" href="structbalxml_1_1Util.html">balxml::Util</a></code>, for various XML utilities. Included is a method for extracting the <code>targetNamespace</code> from an XSD schema. Any top-level XSD schema must have a <code>targetNamespace</code> attribute in the <code>&lt;schema&gt;</code> element that identifies the namespace that the XSD schema defines. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that a valid XSD file must have this attribute for the root element <code>&lt;schema&gt;</code> and the only place that the token "targetNamespace" can appear prior to its occurrence as the required attribute is in the comment string(s) before <code>&lt;schema&gt;</code>. And any comments cannot be embedded in other comments or inside a tag. The extraction algorithm relies on these XML facts to jump over any comments prior to the first occurrence of "targetNamespace" and extract the attribute value. It leaves all other validation of <code>xsdSource</code> to a parser. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// &#39;etalon&#39; targetNamespace:</span>
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *targetNs = <span class="stringliteral">&quot;http://localhost:2000/calc.wsdl&quot;</span>;

  <span class="comment">// well-formed and correct XSD:</span>
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> goodSchema[] =
      <span class="stringliteral">&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&quot;</span>
      <span class="stringliteral">&quot; &lt;schema targetNamespace=&#39;http://localhost:2000/calc.wsdl&#39;&quot;</span>
      <span class="stringliteral">&quot;        elementFormDefault=&#39;qualified&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns=&#39;http://www.w3.org/2001/XMLSchema&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:xs=&#39;http://www.w3.org/2001/XMLSchema&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:bdem=&#39;http://bloomberg.com/schemas/bdem&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:m_bascalc=&#39;http://localhost:2000/calc.wsdl&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:tns=&#39;http://localhost:2000/calc.wsdl&#39;&quot;</span>
      <span class="stringliteral">&quot;   &lt;xs:complexType name=&#39;Options&#39;&gt;&quot;</span>
      <span class="stringliteral">&quot;   &lt;xs:sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;      &lt;xs:element name=&#39;MaxDepth&#39; type=&#39;xs:int&#39;&quot;</span>
      <span class="stringliteral">&quot;                  minOccurs=&#39;0&#39; maxOccurs=&#39;1&#39;&quot;</span>
      <span class="stringliteral">&quot;                  default=&#39;32&#39;&quot;</span>
      <span class="stringliteral">&quot;                  bdem:allowsDirectManipulation=&#39;0&#39;&gt;&quot;</span>
      <span class="stringliteral">&quot;      &lt;/xs:element&gt;&quot;</span>
      <span class="stringliteral">&quot;    &lt;/xs:sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;/xs:complexType&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;complexType name=&#39;Configuration&#39;&gt;&quot;</span>
      <span class="stringliteral">&quot;    &lt;sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;      &lt;element name=&#39;Options&#39; type=&#39;m_bascalc:Options&#39;/&gt;&quot;</span>
      <span class="stringliteral">&quot;    &lt;/sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;/complexType&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;element name=&#39;Configuration&#39; type=&#39;m_bascalc:Options&#39;/&gt;&quot;</span>
      <span class="stringliteral">&quot;&lt;/schema&gt;&quot;</span>;

  <span class="comment">// well-formed XSD with no target namespace:</span>
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> badSchema1[] =
      <span class="stringliteral">&quot;&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&quot;</span>
      <span class="stringliteral">&quot;        elementFormDefault=&#39;qualified&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns=&#39;http://www.w3.org/2001/XMLSchema&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:xs=&#39;http://www.w3.org/2001/XMLSchema&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:bdem=&#39;http://bloomberg.com/schemas/bdem&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:m_bascalc=&#39;http://localhost:2000/calc.wsdl&#39;&quot;</span>
      <span class="stringliteral">&quot;        xmlns:tns=&#39;http://localhost:2000/calc.wsdl&#39;&quot;</span>
      <span class="stringliteral">&quot;   &lt;xs:complexType name=&#39;Options&#39;&gt;&quot;</span>
      <span class="stringliteral">&quot;   &lt;xs:sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;      &lt;xs:element name=&#39;MaxDepth&#39; type=&#39;xs:int&#39;&quot;</span>
      <span class="stringliteral">&quot;                  minOccurs=&#39;0&#39; maxOccurs=&#39;1&#39;&quot;</span>
      <span class="stringliteral">&quot;                  default=&#39;32&#39;&quot;</span>
      <span class="stringliteral">&quot;                  bdem:allowsDirectManipulation=&#39;0&#39;&gt;&quot;</span>
      <span class="stringliteral">&quot;      &lt;/xs:element&gt;&quot;</span>
      <span class="stringliteral">&quot;    &lt;/xs:sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;/xs:complexType&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;complexType name=&#39;Configuration&#39;&gt;&quot;</span>
      <span class="stringliteral">&quot;    &lt;sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;      &lt;element name=&#39;Options&#39; type=&#39;m_bascalc:Options&#39;/&gt;&quot;</span>
      <span class="stringliteral">&quot;    &lt;/sequence&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;/complexType&gt;&quot;</span>
      <span class="stringliteral">&quot;  &lt;element name=&#39;Configuration&#39; type=&#39;m_bascalc:Options&#39;/&gt;&quot;</span>
      <span class="stringliteral">&quot;&lt;/schema&gt;&quot;</span>;

  <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> strGood(goodSchema);
  <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> strBad1(badSchema1);

  <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> resultNs;
  <span class="keywordtype">bool</span> rc;

  rc = <a class="code" href="structbalxml_1_1Util.html#ae880acd26359543d062c059744ad5d45">balxml::Util::extractNamespaceFromXsd</a>(strGood, &amp;resultNs);
  assert(rc);
  assert(resultNs == targetNs);

  resultNs.<a class="code" href="group__bslstl__string.html#ga1bade383cf64eed66f1c43ae0aa450a5">clear</a>();
  rc = <a class="code" href="structbalxml_1_1Util.html#ae880acd26359543d062c059744ad5d45">balxml::Util::extractNamespaceFromXsd</a>(strBad1, &amp;resultNs);
  assert(!rc);
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:32 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
