<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">
<html>
<title>BDE 2.23.1 OSS</title>
<html>
<pre>
// bdlt_monthofyear.h                                                 -*-C++-*-
#ifndef INCLUDED_BDLT_MONTHOFYEAR
#define INCLUDED_BDLT_MONTHOFYEAR

#ifndef INCLUDED_BSLS_IDENT
#include &lt;bsls_ident.h&gt;
#endif
BSLS_IDENT(&quot;$Id: $&quot;)

//@PURPOSE: Enumerate the set of month-of-year values.
//
//@CLASSES:
//  bdlt::MonthOfYear: namespace for month-of-year &#39;enum&#39;
//
//@DESCRIPTION: This component provides a namespace for the &#39;enum&#39; type,
// &#39;bdlt::MonthOfYear::Enum&#39;, that enumerates the set of month-of-year values.
//
///Enumerators
///-----------
//..
//  Name                           Description
//  -------------------            ----------------------------------
//  e_JANUARY,   e_JAN             Enumerators representing January
//  e_FEBRUARY,  e_FEB             Enumerators representing February
//  e_MARCH,     e_MAR             Enumerators representing March
//  e_APRIL,     e_APR             Enumerators representing April
//  e_MAY                          Enumerator  representing May
//  e_JUNE,      e_JUN             Enumerators representing June
//  e_JULY,      e_JUL             Enumerators representing July
//  e_AUGUST,    e_AUG             Enumerators representing August
//  e_SEPTEMBER, e_SEP             Enumerators representing September
//  e_OCTOBER,   e_OCT             Enumerators representing October
//  e_NOVEMBER,  e_NOV             Enumerators representing November
//  e_DECEMBER,  e_DEC             Enumerators representing December
//
//  k_NUM_MONTHS                   Number of enumerators in the range
//                                 &#39;[ e_JAN .. e_DEC ]&#39;.
//..
//
///Usage
///-----
// This section illustrates intended use of this component.
//
///Example 1: Basic Syntax
///- - - - - - - - - - - -
// The following snippets of code provide a simple illustration of
// &#39;bdlt::MonthOfYear&#39; usage.
//
// First, we create a variable &#39;value&#39; of type &#39;bdlt::MonthOfYear::Enum&#39; and
// initialize it to the value &#39;bdlt::MonthOfYear::e_APRIL&#39;:
//..
//  bdlt::MonthOfYear::Enum value = bdlt::MonthOfYear::e_APRIL;
//..
// Next, we store a pointer to its ASCII representation in a variable
// &#39;asciiValue&#39; of type &#39;const char *&#39;:
//..
//  const char *asciiValue = bdlt::MonthOfYear::toAscii(value);
//  assert(0 == bsl::strcmp(asciiValue, &quot;APR&quot;));
//..
// Finally, we print the value to &#39;bsl::cout&#39;:
//..
//  bsl::cout &lt;&lt; value &lt;&lt; bsl::endl;
//..
// This statement produces the following output on &#39;stdout&#39;:
//..
//  APR
//..

#ifndef INCLUDED_BDLSCM_VERSION
#include &lt;bdlscm_version.h&gt;
#endif

#ifndef INCLUDED_BSL_IOSFWD
#include &lt;bsl_iosfwd.h&gt;
#endif

namespace BloombergLP {
namespace bdlt {

                        // ==================
                        // struct MonthOfYear
                        // ==================

struct MonthOfYear {
    // This &#39;struct&#39; provides a namespace for enumerating month-of-year
    // values.  See &#39;Enum&#39; in the TYPES sub-section for details.
    //
    // This &#39;struct&#39;:
    //: o supports a complete set of *enumeration* operations
    // For terminology see &#39;bsldoc_glossary&#39;.

  public:
    // TYPES
    enum Enum {
        // Define the list of month-of-year values.

        e_JAN = 1, e_JANUARY   = e_JAN,
        e_FEB,     e_FEBRUARY  = e_FEB,
        e_MAR,     e_MARCH     = e_MAR,
        e_APR,     e_APRIL     = e_APR,
        e_MAY,
        e_JUN,     e_JUNE      = e_JUN,
        e_JUL,     e_JULY      = e_JUL,
        e_AUG,     e_AUGUST    = e_AUG,
        e_SEP,     e_SEPTEMBER = e_SEP,
        e_OCT,     e_OCTOBER   = e_OCT,
        e_NOV,     e_NOVEMBER  = e_NOV,
        e_DEC,     e_DECEMBER  = e_DEC


    };

    enum {
        // Define &#39;k_NUM_MONTHS&#39; to be the number of consecutively valued
        // enumerators in the range &#39;[ e_JAN .. e_DEC ]&#39;.

        k_NUM_MONTHS = e_DEC

    };


    // CLASS METHODS
    template &lt;class STREAM&gt;
    static STREAM&amp; bdexStreamIn(STREAM&amp;            stream,
                                MonthOfYear::Enum&amp; variable,
                                int                version);
        // Assign to the specified &#39;variable&#39; the value read from the specified
        // input &#39;stream&#39; using the specified &#39;version&#39; format, and return a
        // reference to &#39;stream&#39;.  If &#39;stream&#39; is initially invalid, this
        // operation has no effect.  If &#39;version&#39; is not supported, &#39;variable&#39;
        // is unaltered and &#39;stream&#39; is invalidated, but otherwise unmodified.
        // If &#39;version&#39; is supported but &#39;stream&#39; becomes invalid during this
        // operation, &#39;variable&#39; has an undefined, but valid, state.  Note that
        // no version is read from &#39;stream&#39;.  See the &#39;bslx&#39; package-level
        // documentation for more information on BDEX streaming of
        // value-semantic types and containers.

    template &lt;class STREAM&gt;
    static STREAM&amp; bdexStreamOut(STREAM&amp;           stream,
                                 MonthOfYear::Enum value,
                                 int               version);
        // Write the value of the specified &#39;value&#39;, using the specified
        // &#39;version&#39; format, to the specified output &#39;stream&#39;, and return a
        // reference to &#39;stream&#39;.  If &#39;stream&#39; is initially invalid, this
        // operation has no effect.  If &#39;version&#39; is not supported, &#39;stream&#39; is
        // invalidated, but otherwise unmodified.  Note that &#39;version&#39; is not
        // written to &#39;stream&#39;.  See the &#39;bslx&#39; package-level documentation for
        // more information on BDEX streaming of value-semantic types and
        // containers.

    static int maxSupportedBdexVersion(int versionSelector);
        // Return the maximum valid BDEX format version, as indicated by the
        // specified &#39;versionSelector&#39;, to be passed to the &#39;bdexStreamOut&#39;
        // method.  Note that it is highly recommended that &#39;versionSelector&#39;
        // be formatted as &quot;YYYYMMDD&quot;, a date representation.  Also note that
        // &#39;versionSelector&#39; should be a *compile*-time-chosen value that
        // selects a format version supported by both externalizer and
        // unexternalizer.  See the &#39;bslx&#39; package-level documentation for more
        // information on BDEX streaming of value-semantic types and
        // containers.

    static bsl::ostream&amp; print(bsl::ostream&amp;     stream,
                               MonthOfYear::Enum value,
                               int               level          = 0,
                               int               spacesPerLevel = 4);
        // Write the string representation of the specified enumeration &#39;value&#39;
        // to the specified output &#39;stream&#39;, and return a reference to
        // &#39;stream&#39;.  Optionally specify an initial indentation &#39;level&#39;, whose
        // absolute value is incremented recursively for nested objects.  If
        // &#39;level&#39; is specified, optionally specify &#39;spacesPerLevel&#39;, whose
        // absolute value indicates the number of spaces per indentation level
        // for this and all of its nested objects.  If &#39;level&#39; is negative,
        // suppress indentation of the first line.  If &#39;spacesPerLevel&#39; is
        // negative, format the entire output on one line, suppressing all but
        // the initial indentation (as governed by &#39;level&#39;).  See &#39;toAscii&#39; for
        // what constitutes the string representation of a &#39;MonthOfYear::Enum&#39;
        // value.

    static const char *toAscii(MonthOfYear::Enum value);
        // Return the non-modifiable string representation corresponding to the
        // specified enumeration &#39;value&#39;, if it exists, and a unique (error)
        // string otherwise.  The string representation of &#39;value&#39; matches the
        // first 3 characters of its corresponding enumerator name with the
        // &quot;e_&quot; prefix elided.  For example:
        //..
        //  bsl::cout &lt;&lt; bdlt::MonthOfYear::toAscii(
        //                                       bdlt::MonthOfYear::e_JANUARY);
        //..
        // will print the following on standard output:
        //..
        //  JAN
        //..
        // Note that specifying a &#39;value&#39; that does not match any of the
        // enumerators will result in a string representation that is distinct
        // from any of those corresponding to the enumerators, but is otherwise
        // unspecified.

};

// FREE OPERATORS
bsl::ostream&amp; operator&lt;&lt;(bsl::ostream&amp; stream, MonthOfYear::Enum value);
    // Write the string representation of the specified enumeration &#39;value&#39; to
    // the specified output &#39;stream&#39; in a single-line format, and return a
    // reference to &#39;stream&#39;.  See &#39;toAscii&#39; for what constitutes the string
    // representation of a &#39;bdlt::MonthOfYear::Enum&#39; value.  Note that this
    // method has the same behavior as
    //..
    //  bdlt::MonthOfYear::print(stream, value, 0, -1);
    //..

// FREE FUNCTIONS
template &lt;class STREAM&gt;
STREAM&amp; bdexStreamIn(STREAM&amp; stream, MonthOfYear::Enum&amp; variable, int version);
    // Load into the specified &#39;variable&#39; the &#39;MonthOfYear::Enum&#39; value read
    // from the specified input &#39;stream&#39; using the specified &#39;version&#39; format,
    // and return a reference to &#39;stream&#39;.  If &#39;stream&#39; is initially invalid,
    // this operation has no effect.  If &#39;version&#39; is not supported by
    // &#39;MonthOfYear&#39;, &#39;variable&#39; is unaltered and &#39;stream&#39; is invalidated, but
    // otherwise unmodified.  If &#39;version&#39; is supported by &#39;MonthOfYear&#39; but
    // &#39;stream&#39; becomes invalid during this operation, &#39;variable&#39; has an
    // undefined, but valid, state.  The behavior is undefined unless &#39;STREAM&#39;
    // is BDEX-compliant.  Note that no version is read from &#39;stream&#39;.  See the
    // &#39;bslx&#39; package-level documentation for more information on BDEX
    // streaming of value-semantic types and containers.

template &lt;class STREAM&gt;
STREAM&amp; bdexStreamOut(STREAM&amp;                stream,
                      const MonthOfYear::Enum&amp; value,
                      int                    version);
    // Write the specified &#39;value&#39;, using the specified &#39;version&#39; format, to
    // the specified output &#39;stream&#39;, and return a reference to &#39;stream&#39;.  If
    // &#39;stream&#39; is initially invalid, this operation has no effect.  If
    // &#39;version&#39; is not supported by &#39;MonthOfYear&#39;, &#39;stream&#39; is invalidated,
    // but otherwise unmodified.  The behavior is undefined unless &#39;STREAM&#39; is
    // BDEX-compliant.  Note that &#39;version&#39; is not written to &#39;stream&#39;.  See
    // the &#39;bslx&#39; package-level documentation for more information on BDEX
    // streaming of value-semantic types and containers.

int maxSupportedBdexVersion(const MonthOfYear::Enum *, int versionSelector);
    // Return the maximum valid BDEX format version, as indicated by the
    // specified &#39;versionSelector&#39;, to be passed to the &#39;bdexStreamOut&#39; method
    // while streaming an object of the type &#39;MonthOfYear::Enum&#39;.  Note that it
    // is highly recommended that &#39;versionSelector&#39; be formatted as &quot;YYYYMMDD&quot;,
    // a date representation.  Also note that &#39;versionSelector&#39; should be a
    // *compile*-time-chosen value that selects a format version supported by
    // both externalizer and unexternalizer.  See the &#39;bslx&#39; package-level
    // documentation for more information on BDEX streaming of value-semantic
    // types and containers.

// ============================================================================
//                            INLINE DEFINITIONS
// ============================================================================

                             // ------------------
                             // struct MonthOfYear
                             // ------------------

// CLASS METHODS
template &lt;class STREAM&gt;
STREAM&amp; MonthOfYear::bdexStreamIn(STREAM&amp;            stream,
                                  MonthOfYear::Enum&amp; variable,
                                  int                version)
{
    if (stream) {
        switch (version) { // switch on the schema version
          case 1: {
            char newValue;
            stream.getInt8(newValue);
            if (stream &amp;&amp; e_JAN &lt;= newValue &amp;&amp; e_DEC &gt;= newValue) {
                variable = static_cast&lt;MonthOfYear::Enum&gt;(newValue);
            }
            else {
              stream.invalidate();
            }
          } break;
          default: {
            stream.invalidate();  // unrecognized version number
          }
        }
    }
    return stream;
}

template &lt;class STREAM&gt;
inline
STREAM&amp; MonthOfYear::bdexStreamOut(STREAM&amp;           stream,
                                   MonthOfYear::Enum value,
                                   int               version)
{
    if (stream) {
        switch (version) { // switch on the schema version
          case 1: {
            stream.putInt8(static_cast&lt;char&gt;(value));
          }
          default: {
            stream.invalidate();  // unrecognized version number
          }
        }
    }
    return stream;
}

inline
int MonthOfYear::maxSupportedBdexVersion(int /* versionSelector */)
{
    return 1;
}


}  // close package namespace

// FREE OPERATORS
inline
bsl::ostream&amp; bdlt::operator&lt;&lt;(bsl::ostream&amp;           stream,
                               bdlt::MonthOfYear::Enum value)
{
    return bdlt::MonthOfYear::print(stream, value, 0, -1);
}

// FREE FUNCTIONS
template &lt;class STREAM&gt;
STREAM&amp; bdlt::bdexStreamIn(STREAM&amp;                  stream,
                           bdlt::MonthOfYear::Enum&amp; variable,
                           int                      version)
{
    return bdlt::MonthOfYear::bdexStreamIn(stream, variable, version);
}

template &lt;class STREAM&gt;
STREAM&amp; bdlt::bdexStreamOut(STREAM&amp;                        stream,
                            const bdlt::MonthOfYear::Enum&amp; value,
                            int                            version)
{
    return bdlt::MonthOfYear::bdexStreamOut(stream, value, version);
}

inline
int bdlt::maxSupportedBdexVersion(const bdlt::MonthOfYear::Enum *,
                                  int                          versionSelector)
{
    return bdlt::MonthOfYear::maxSupportedBdexVersion(versionSelector);
}


}  // close enterprise namespace

#endif

// ----------------------------------------------------------------------------
// Copyright 2014 Bloomberg Finance L.P.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// ----------------------------- END-OF-FILE ----------------------------------
</pre>
</body>
</html>
