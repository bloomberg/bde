<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: baltzo_zoneinfo Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component baltzo_zoneinfo<br/>
<small>
[<a class="el" href="group__baltzo.html">Package baltzo</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a value type to represent a time zone.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebaltzo.html">baltzo</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1"><code>baltzo::ZoneinfoTransition</code></a> </li>
<li>
<a href="#3.2"><code>baltzo::Zoneinfo</code></a> </li>
<li>
<a href="#3.3">Zoneinfo Database</a> </li>
<li>
<a href="#3.4">Usage</a> <ul>
<li>
<a href="#3.4.1">Example 1: Populate a <code>baltzo::Zoneinfo</code></a> </li>
<li>
<a href="#3.4.2">Example 2: Converting UTC to Local Time</a> </li>
</ul>
</li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a value type to represent a time zone. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a> </td><td>information about a time zone  </td></tr>
<tr>
<td><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a> </td><td>attributes representing a time transition  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__baltzo__localtimedescriptor.html" title="Provide an attribute class for characterizing local time values.">Component baltzo_localtimedescriptor</a>, <a class="el" href="group__baltzo__zoneinfoutil.html" title="Provide utility operations on baltzo::Zoneinfo objects.">Component baltzo_zoneinfoutil</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides a <em>value</em> <em>semantic</em> type, <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code>, that represents the information about a specific time zone contained in the Zoneinfo database. In addition, this component provides an unconstrained <em>in-core</em> <em>value-semantic</em> type <code><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a></code> that can be used to characterize a transition for time zones. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="baltzo~3A~3Azoneinfotransition"></a> <a class="anchor" id="description.baltzo~3A~3Azoneinfotransition"></a> <a class="anchor" id="baltzo"></a> <a class="anchor" id="description.baltzo"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>baltzo::ZoneinfoTransition: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>A <code><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a></code> contains: <br/>
<br/>
<div class="fragment"><pre class="fragment">  Name        Type
  ----------  --------------------------
  utcTime     <a class="code" href="structbdlt_1_1EpochUtil.html#aba3efca2d258e16871da8623f5922e86">bdlt::EpochUtil::TimeT64</a>
  descriptor  <a class="code" href="classbaltzo_1_1LocalTimeDescriptor.html">baltzo::LocalTimeDescriptor</a>
</pre></div><br/>
<br/>
 <ul>
<li>
<code>utcTime</code>: UTC time when a transition occurs  </li>
<li>
<code>descriptor</code>: local time value corresponding to the time transition  </li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd>For example, in New York on March 14, 2011, at the instant 1 a.m., clocks are set forward by an hour to mark the transition from Eastern Standard Time to Eastern Daylight Time. This change can be represented by a <code><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a></code> object whose <code>utcTime</code> refers to March 14, 2011, 1am and whose <code>descriptor</code> describes Eastern Daylight Time (i.e., description is "EDT", <code>dstInEffectFlag</code> is <code>true</code>, and <code>utcOffsetInSeconds</code> is -14,400 (-4 * 60 * 60)). </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="baltzo~3A~3Azoneinfo"></a> <a class="anchor" id="description.baltzo~3A~3Azoneinfo"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>baltzo::Zoneinfo: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>A <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> contains: </dd></dl>
<dl class="user"><dt><b></b></dt><dd><ul>
<li>
the time zone identifier (e.g., "America/New_York" or "Asia/Tokyo")  </li>
<li>
the ordered sequence of <code><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a></code> objects, representing the various transitions from UTC for this time zone.  </li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd>A <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> object also provides the method <code>findTransitionForUtcTime</code> that allows a client to find, in the sequence of transitions, the appropriate transition whose local-time descriptor describes the properties of local time, at a specified UTC time, for the time zone in question. Note that, even though this information is sufficient for converting local date and time, to their corresponding values in other time zones, clients are encouraged to use the utilities provided in <code>baltzo_timezoneutil</code>. Also note that, <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> objects are typically populated by the client through the <code><a class="el" href="classbaltzo_1_1Loader.html">baltzo::Loader</a></code> protocol, and not directly. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="zoneinfo_database"></a> <a class="anchor" id="description.zoneinfo_database"></a> <a class="anchor" id="3.3"></a> </dd></dl>
<dl class="user"><dt><b>Zoneinfo Database: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This database, also referred to as either the TZ database or the Olson database (after its creator, Arthur Olson), is a standard, public-domain time-zone information distribution used by many software systems (including a number of Unix variants and the Java Runtime Environment). Information about the Zoneinfo database -- including the time zone rules for the supported time zones, and source code for the <code>zic</code> compiler (for compiling those rules into the binary representation used by this component) -- can be found online at <code><a href="http://www.twinsun.com/tz/tz-link.htm">http://www.twinsun.com/tz/tz-link.htm</a></code>. This time-zone information can be used to perform the conversion of dates and times from UTC to their corresponding dates and times in a given time zone and vice-versa. (See <code>baltzo_zoneinfobinaryreader</code> for more information about the binary file format.) </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.4"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following usage examples illustrate how to populate a <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> object and use it to transform a UTC time into a local time. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_populate_a_baltzo~3A~3Azoneinfo"></a> <a class="anchor" id="usage.example_1~3A_populate_a_baltzo~3A~3Azoneinfo"></a> <a class="anchor" id="description.usage.example_1~3A_populate_a_baltzo~3A~3Azoneinfo"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.4.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Populate a baltzo::Zoneinfo: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Suppose we want to represent the time-zone information for New York, in 2010 using a <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> object. In order to do so, we need to provide the UTC date-times (transitions) after which the time zone changes its offset from UTC, or daylight-saving Time starts or ends. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, we define two times "Mar 14, 2010 6:00 AM" and "Nov 07, 2010 7:00 AM" representing respectively the UTC time at which New York transitions to Eastern Daylight-saving Time (EDT) and Eastern Standard Time (EST) in 2010: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> edtDatetime(2010, 03, 14, 2, 0);
  <a class="code" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> estDatetime(2010, 11, 07, 2, 0);
</pre></div><br/>
<br/>
 Then, we create two local-time descriptors that hold the offset from UTC and DST status for EST and EDT in New York in 2010, in terms of their <code>offsetFromUtcInSeconds</code>, <code>dstInEffectFlag</code> and <code>description</code> attributes: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">const</span> <a class="code" href="classbaltzo_1_1LocalTimeDescriptor.html">baltzo::LocalTimeDescriptor</a> est(-5 * 60 * 60, <span class="keyword">false</span>, <span class="stringliteral">&quot;EST&quot;</span>);
  <span class="keyword">const</span> <a class="code" href="classbaltzo_1_1LocalTimeDescriptor.html">baltzo::LocalTimeDescriptor</a> edt(-4 * 60 * 60, <span class="keyword">true</span>,  <span class="stringliteral">&quot;EDT&quot;</span>);
</pre></div><br/>
<br/>
 Note that these descriptors will be associated with the created transition times, to reflect how local time in New York changes its offset from UTC and DST status after specific times. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Next, we create an empty <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> object that will be populated with the information necessary to describe the time zone for New York: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a> newYorkTimeZone;
</pre></div><br/>
<br/>
 Then, before being able to associate the transition times with their corresponding descriptors, we need translate the transition times to <code><a class="el" href="structbdlt_1_1EpochUtil.html#aba3efca2d258e16871da8623f5922e86">bdlt::EpochUtil::TimeT64</a></code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="structbdlt_1_1EpochUtil.html#aba3efca2d258e16871da8623f5922e86">bdlt::EpochUtil::TimeT64</a> edtTransitionTime =
                              <a class="code" href="structbdlt_1_1EpochUtil.html#ad2deb9a4b28c2ea9a6f72de238f7298b">bdlt::EpochUtil::convertToTimeT64</a>(edtDatetime);
  <a class="code" href="structbdlt_1_1EpochUtil.html#aba3efca2d258e16871da8623f5922e86">bdlt::EpochUtil::TimeT64</a> estTransitionTime =
                              <a class="code" href="structbdlt_1_1EpochUtil.html#ad2deb9a4b28c2ea9a6f72de238f7298b">bdlt::EpochUtil::convertToTimeT64</a>(estDatetime);
</pre></div><br/>
<br/>
 Now, we associate the created descriptors with the transitions we indicated previously and add them to <code>newYorkTimeZone</code> using the <code>addTransition</code> method: <br/>
<br/>
<div class="fragment"><pre class="fragment">  newYorkTimeZone.<a class="code" href="classbaltzo_1_1Zoneinfo.html#a88adb8085067b19e1eca4298ffd1ef4d">addTransition</a>(edtTransitionTime, edt);
  newYorkTimeZone.<a class="code" href="classbaltzo_1_1Zoneinfo.html#a88adb8085067b19e1eca4298ffd1ef4d">addTransition</a>(estTransitionTime, est);
</pre></div><br/>
<br/>
 Note that this insertion operation maintains the transitions in order of transition time, and therefore inserting transitions out-of-order, while not illegal, is very inefficient. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Finally we verify that the <code>newYorkTimeZone</code> contains the transitions we indicated: <br/>
<br/>
<div class="fragment"><pre class="fragment">  {
      <a class="code" href="classbaltzo_1_1Zoneinfo.html#a8dea54525e5ac399cbdb3800fb40aa54">baltzo::Zoneinfo::TransitionConstIterator</a> it =
                                          newYorkTimeZone.<a class="code" href="classbaltzo_1_1Zoneinfo.html#a21063bd9ec84f083217aa2c11fae8536">beginTransitions</a>();

      assert(it-&gt;utcTime()    == edtTransitionTime);
      assert(it-&gt;descriptor() == edt);
      ++it;
      assert(it-&gt;utcTime()    == estTransitionTime);
      assert(it-&gt;descriptor() == est);
  }
</pre></div><br/>
<br/>
 Notice that the iterator refers to a <code><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a></code> object. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_2~3A_converting_utc_to_local_time"></a> <a class="anchor" id="usage.example_2~3A_converting_utc_to_local_time"></a> <a class="anchor" id="description.usage.example_2~3A_converting_utc_to_local_time"></a> <a class="anchor" id="example_2"></a> <a class="anchor" id="usage.example_2"></a> <a class="anchor" id="description.usage.example_2"></a> <a class="anchor" id="3.4.2"></a> </dd></dl>
<dl class="user"><dt><b>Example 2: Converting UTC to Local Time: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Suppose that we want to program a function, <code>utcToLocalTime</code> to perform the conversion from a UTC time value to the corresponding local time value, in a given time zone, and return the computed local time: </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First we declare the function <code>utcToLocalTime</code> and its contract: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">static</span> <a class="code" href="classbdlt_1_1DatetimeTz.html">bdlt::DatetimeTz</a> utcToLocalTime(<span class="keyword">const</span> <a class="code" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a>&amp;   utcTime,
                                        <span class="keyword">const</span> <a class="code" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a>&amp; timeZone)
  {
      <span class="comment">// Return the &#39;bdlt::DatetimeTz&#39; value representing the date, time and</span>
      <span class="comment">// offset from UTC (rounded to the minute) value of the local time,</span>
      <span class="comment">// corresponding to the specified &#39;utcTime&#39; in the specified</span>
      <span class="comment">// &#39;timeZone&#39;.  The behavior is undefined if the &#39;utcTime&#39; precedes the</span>
      <span class="comment">// time of the first transition contained in &#39;timeZone&#39; and</span>
      <span class="comment">// &#39;0 &lt; timeZone.numTransitions()&#39;.</span>
</pre></div><br/>
<br/>
 Then, we check the precondition of <code>utcToLocalTime</code>, by checking that <code>timeZone</code> contains at least one transitions and comparing <code>utcTime</code> to the first transition time in <code>timeZone</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">      <a class="code" href="bsls__assert_8h.html#a1d80716f3bc5018941bcaf0856d93a1b">BSLS_ASSERT</a>(0 &lt; timeZone.<a class="code" href="classbaltzo_1_1Zoneinfo.html#a36f23ed62554dbcad962ec69890d9548">numTransitions</a>());
      <a class="code" href="bsls__assert_8h.html#a1d80716f3bc5018941bcaf0856d93a1b">BSLS_ASSERT</a>(timeZone.<a class="code" href="classbaltzo_1_1Zoneinfo.html#ac03253166799ab8739034bce2672e249">firstTransition</a>().utcTime() &lt;=
                                 <a class="code" href="structbdlt_1_1EpochUtil.html#ad2deb9a4b28c2ea9a6f72de238f7298b">bdlt::EpochUtil::convertToTimeT64</a>(utcTime));
</pre></div><br/>
<br/>
 Next, we obtain the appropriate <code><a class="el" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a></code> object, invoking the method <code>findTransitionForUtcTime</code> on <code>timeZone</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">      <a class="code" href="classbaltzo_1_1Zoneinfo.html#a8dea54525e5ac399cbdb3800fb40aa54">baltzo::Zoneinfo::TransitionConstIterator</a> it =
                                  timeZone.<a class="code" href="classbaltzo_1_1Zoneinfo.html#a9a8f1611e330d343308efea944016c32">findTransitionForUtcTime</a>(utcTime);
</pre></div><br/>
<br/>
 Then, we access the descriptor associated with the transition to which <code>it</code> refers, and calculate the offset from UTC rounded to the minute: <br/>
<br/>
<div class="fragment"><pre class="fragment">      <span class="keyword">const</span> <a class="code" href="classbaltzo_1_1ZoneinfoTransition.html">baltzo::ZoneinfoTransition</a>&amp; transition = *it;
      <span class="keyword">const</span> <span class="keywordtype">int</span> offsetInMinutes =
                           transition.<a class="code" href="classbaltzo_1_1ZoneinfoTransition.html#aad05375f93a21335a4ed39723ddb957b">descriptor</a>().utcOffsetInSeconds() / 60;
</pre></div><br/>
<br/>
 Now, we apply the obtained <code>offsetInMinutes</code> to the originally specified <code>utcTime</code> obtaining the corresponding local time in the specified <code>timeZone</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">      <a class="code" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> temp(utcTime);
      temp.addMinutes(offsetInMinutes);
</pre></div><br/>
<br/>
 Finally, return the local time value together with its offset from UTC: <br/>
<br/>
<div class="fragment"><pre class="fragment">      <span class="keywordflow">return</span> <a class="code" href="namespacebdet.html#a256ffa59734fb90452d48f9a3ae1919a">bdlt::DatetimeTz</a>(temp, offsetInMinutes);
  }
</pre></div><br/>
<br/>
 Suppose, now, we want to convert UTC time to the corresponding local time in New York. We can do so using the previously defined function <code>utcToLocalTime</code> and reusing the <code><a class="el" href="classbaltzo_1_1Zoneinfo.html">baltzo::Zoneinfo</a></code> object, <code>newYorkTimeZone</code> of Example 1. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>First, we define <code><a class="el" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a></code> object representing the UTC time "Apr 10,
 2010 12:00": <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> utcDatetime(2010, 04, 10, 12, 0, 0);
</pre></div><br/>
<br/>
 Then, we invoke <code>utcToLocalTime</code> passing <code>newYorkTimeZone</code> as a time zone and save the result: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="classbdlt_1_1DatetimeTz.html">bdlt::DatetimeTz</a> nyDatetime = utcToLocalTime(utcDatetime, newYorkTimeZone);
</pre></div><br/>
<br/>
 Finally, we compute the New York local time corresponding to <code>utcDatetime</code>, verify that "April 10, 2010 8:00" is the computed time: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">const</span> <a class="code" href="classbdlt_1_1Datetime.html">bdlt::Datetime</a> expectedTime(2010, 4, 10, 8, 0, 0);
  assert(-4 * 60      == nyDatetime.<a class="code" href="classbdlt_1_1DatetimeTz.html#ae8ef8eb16e1ce5ffba6354f9935c61b4">offset</a>());
  assert(expectedTime == nyDatetime.<a class="code" href="classbdlt_1_1DatetimeTz.html#a54b9d6329ad4d98edf845a6c5cfe5321">localDatetime</a>());
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:30 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
