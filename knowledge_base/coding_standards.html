

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>BDE C++ Coding Standards &mdash; BDE Documentation  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/bde.css" type="text/css" />

  
  

  
  

  
    <link rel="canonical" href="https://bloomberg.github.io/knowledge_base/coding_standards.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Resources By Topic" href="resources_by_topic.html" />
    <link rel="prev" title="BDE 3.6.0: Production Release" href="../release_notes/BDE_3.6.0.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> BDE Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Library Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../library_information/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_information/build.html">Build Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_information/source_code.html">Source Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_information/supported_platforms.html">Supported Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes/release_notes.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Knowledge Base</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">BDE C++ Coding Standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">1 Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#units-of-release">2 Units of Release</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#package-groups">2.1 Package Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standalone-packages">2.2 Standalone Packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#components">3 Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#physical-design">3.1 Physical Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#logical-design">3.2 Logical Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#namespaces">3.3 Namespaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-naming-conventions">3.4 General Naming Conventions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#header-files">4 Header Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-organization">4.1 General Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prologue">4.2 Prologue</a></li>
<li class="toctree-l3"><a class="reference internal" href="#include-directives">4.3 Include Directives</a></li>
<li class="toctree-l3"><a class="reference internal" href="#declarations">4.4 Declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#inline-definitions">4.5 Inline Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#epilogue">4.6 Epilogue</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#implementation-files">5 Implementation Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-definitions">6 Class Definitions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-form">6.1 General Form</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sections">6.2 Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#types-sections">6.3 Types Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#types-section-rules-specific-to-enumerations">6.4 Types Section Rules Specific to Enumerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-section">6.5 Data Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="#friends-section">6.6 Friends Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="#method-sections">6.7 Method Sections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#method-definitions">6.8 Method Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#free-operators">6.9 Free Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hidden-friends">6.10 Hidden Friends</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#method-design-and-implementation">7 Method Design and Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#naming-conventions">7.1 Naming Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#interface-conventions">7.2 Interface Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-signatures">7.3 Function Signatures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#special-rules-for-creators">7.4 Special Rules for Creators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#component-level-documentation">8 Component-Level Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#comment-fields">8.1 Comment Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">8.2 Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">8.3 Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#class-level-documentation">9 Class-Level Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#class-nomenclature">9.1 Class Nomenclature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thread-safety">9.2 Thread Safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exception-safety">9.3 Exception Safety</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alias-safety">9.4 Alias Safety</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#function-level-documentation">10 Function-Level Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-the-function-does">10.1 What the Function Does</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-the-function-returns">10.2 What the Function Returns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#more-about-essential-behavior">10.3 More About Essential Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="#undefined-behavior">10.4 Undefined Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="#note-that">10.5 Note That</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#typographical-conventions">11 Typographical Conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#source-file-mechanics">11.1 Source File Mechanics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variable-declarations">11.2 Variable Declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alignment-for-variable-declarations">11.3 Alignment for Variable Declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#variable-documentation">11.4 Variable Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preprocessor-usage">11.5 Preprocessor Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mid-function-returns">11.6 Mid-Function Returns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#formatting-logical-statements">11.7 Formatting Logical Statements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#markup">12 Markup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#markdown-support">12.1 Markdown Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-blocks">12.2 Code Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#headings">12.3 Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#links">12.4 Links</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#deprecation">13 Deprecation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-meaning">13.1 General Meaning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#section-13-2">13.2 Markup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-1-obsolete-rules">14 Appendix 1: Obsolete Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#appendix-2-rationale">15 Appendix 2: Rationale</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#r-3-4-rationale-template-parameters">R.3.4 Rationale: Template Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r-4-4-rationale-using-includes-rather-than-forward-declarations">R.4.4 Rationale: Using Includes Rather Than Forward Declarations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r-6-10-rationale-hidden-friends">R.6.10 Rationale: Hidden Friends</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r-7-3-rationale-function-signatures">R.7.3 Rationale: Function Signatures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="resources_by_topic.html">Resources By Topic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../white_papers/index.html">White Papers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../articles/index.html">Articles</a></li>
<li class="toctree-l1"><a class="reference external" href="https://bloomberg.github.io/bde-resources/pdfs/BDETypeTaxonomy.pdf">Taxonomy</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">BDE FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../articles/fuzz_testing.html">Fuzz Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to BDE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://bloomberg.github.io/bde-tools">BBS Build System</a></li>
<li class="toctree-l1"><a class="reference external" href="https://bloomberg.github.io/bde-tools/misc/sim_cpp11_features.html">Simulating Variadic Templates</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BDE Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>BDE C++ Coding Standards</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="resources_by_topic.html" class="btn btn-neutral float-right" title="Resources By Topic" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="../release_notes/BDE_3.6.0.html" class="btn btn-neutral float-left" title="BDE 3.6.0: Production Release" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bde-c-coding-standards">
<span id="bde-coding-standards-top"></span><h1><a class="toc-backref" href="#id5">BDE C++ Coding Standards</a><a class="headerlink" href="#bde-c-coding-standards" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
<div class="line-block">
<div class="line"><em>October 1, 2024</em></div>
</div>
</div>
</div></blockquote>
<p>Download PDF version of <a class="reference external" href="/bde-resources/pdfs/CodingStandards.pdf">BDE C++ Coding Standards</a></p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bde-c-coding-standards" id="id5">BDE C++ Coding Standards</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id6">1 Introduction</a></p></li>
<li><p><a class="reference internal" href="#units-of-release" id="id7">2 Units of Release</a></p>
<ul>
<li><p><a class="reference internal" href="#package-groups" id="id8">2.1 Package Groups</a></p></li>
<li><p><a class="reference internal" href="#standalone-packages" id="id9">2.2 Standalone Packages</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#components" id="id10">3 Components</a></p>
<ul>
<li><p><a class="reference internal" href="#physical-design" id="id11">3.1 Physical Design</a></p></li>
<li><p><a class="reference internal" href="#logical-design" id="id12">3.2 Logical Design</a></p></li>
<li><p><a class="reference internal" href="#namespaces" id="id13">3.3 Namespaces</a></p></li>
<li><p><a class="reference internal" href="#general-naming-conventions" id="id14">3.4 General Naming Conventions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#header-files" id="id15">4 Header Files</a></p>
<ul>
<li><p><a class="reference internal" href="#general-organization" id="id16">4.1 General Organization</a></p></li>
<li><p><a class="reference internal" href="#prologue" id="id17">4.2 Prologue</a></p></li>
<li><p><a class="reference internal" href="#include-directives" id="id18">4.3 Include Directives</a></p></li>
<li><p><a class="reference internal" href="#declarations" id="id19">4.4 Declarations</a></p></li>
<li><p><a class="reference internal" href="#inline-definitions" id="id20">4.5 Inline Definitions</a></p></li>
<li><p><a class="reference internal" href="#epilogue" id="id21">4.6 Epilogue</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#implementation-files" id="id22">5 Implementation Files</a></p></li>
<li><p><a class="reference internal" href="#class-definitions" id="id23">6 Class Definitions</a></p>
<ul>
<li><p><a class="reference internal" href="#general-form" id="id24">6.1 General Form</a></p></li>
<li><p><a class="reference internal" href="#sections" id="id25">6.2 Sections</a></p></li>
<li><p><a class="reference internal" href="#types-sections" id="id26">6.3 Types Sections</a></p></li>
<li><p><a class="reference internal" href="#types-section-rules-specific-to-enumerations" id="id27">6.4 Types Section Rules Specific to Enumerations</a></p></li>
<li><p><a class="reference internal" href="#data-section" id="id28">6.5 Data Section</a></p></li>
<li><p><a class="reference internal" href="#friends-section" id="id29">6.6 Friends Section</a></p></li>
<li><p><a class="reference internal" href="#method-sections" id="id30">6.7 Method Sections</a></p></li>
<li><p><a class="reference internal" href="#method-definitions" id="id31">6.8 Method Definitions</a></p></li>
<li><p><a class="reference internal" href="#free-operators" id="id32">6.9 Free Operators</a></p></li>
<li><p><a class="reference internal" href="#hidden-friends" id="id33">6.10 Hidden Friends</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#method-design-and-implementation" id="id34">7 Method Design and Implementation</a></p>
<ul>
<li><p><a class="reference internal" href="#naming-conventions" id="id35">7.1 Naming Conventions</a></p></li>
<li><p><a class="reference internal" href="#interface-conventions" id="id36">7.2 Interface Conventions</a></p></li>
<li><p><a class="reference internal" href="#function-signatures" id="id37">7.3 Function Signatures</a></p></li>
<li><p><a class="reference internal" href="#special-rules-for-creators" id="id38">7.4 Special Rules for Creators</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#component-level-documentation" id="id39">8 Component-Level Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#comment-fields" id="id40">8.1 Comment Fields</a></p></li>
<li><p><a class="reference internal" href="#description" id="id41">8.2 Description</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id42">8.3 Usage</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#class-level-documentation" id="id43">9 Class-Level Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#class-nomenclature" id="id44">9.1 Class Nomenclature</a></p></li>
<li><p><a class="reference internal" href="#thread-safety" id="id45">9.2 Thread Safety</a></p></li>
<li><p><a class="reference internal" href="#exception-safety" id="id46">9.3 Exception Safety</a></p></li>
<li><p><a class="reference internal" href="#alias-safety" id="id47">9.4 Alias Safety</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#function-level-documentation" id="id48">10 Function-Level Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#what-the-function-does" id="id49">10.1 What the Function Does</a></p></li>
<li><p><a class="reference internal" href="#what-the-function-returns" id="id50">10.2 What the Function Returns</a></p></li>
<li><p><a class="reference internal" href="#more-about-essential-behavior" id="id51">10.3 More About Essential Behavior</a></p></li>
<li><p><a class="reference internal" href="#undefined-behavior" id="id52">10.4 Undefined Behavior</a></p></li>
<li><p><a class="reference internal" href="#note-that" id="id53">10.5 Note That</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#typographical-conventions" id="id54">11 Typographical Conventions</a></p>
<ul>
<li><p><a class="reference internal" href="#source-file-mechanics" id="id55">11.1 Source File Mechanics</a></p></li>
<li><p><a class="reference internal" href="#variable-declarations" id="id56">11.2 Variable Declarations</a></p></li>
<li><p><a class="reference internal" href="#alignment-for-variable-declarations" id="id57">11.3 Alignment for Variable Declarations</a></p></li>
<li><p><a class="reference internal" href="#variable-documentation" id="id58">11.4 Variable Documentation</a></p></li>
<li><p><a class="reference internal" href="#preprocessor-usage" id="id59">11.5 Preprocessor Usage</a></p></li>
<li><p><a class="reference internal" href="#mid-function-returns" id="id60">11.6 Mid-Function Returns</a></p></li>
<li><p><a class="reference internal" href="#formatting-logical-statements" id="id61">11.7 Formatting Logical Statements</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#markup" id="id62">12 Markup</a></p>
<ul>
<li><p><a class="reference internal" href="#markdown-support" id="id63">12.1 Markdown Support</a></p></li>
<li><p><a class="reference internal" href="#code-blocks" id="id64">12.2 Code Blocks</a></p></li>
<li><p><a class="reference internal" href="#headings" id="id65">12.3 Headings</a></p></li>
<li><p><a class="reference internal" href="#links" id="id66">12.4 Links</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#deprecation" id="id67">13 Deprecation</a></p>
<ul>
<li><p><a class="reference internal" href="#general-meaning" id="id68">13.1 General Meaning</a></p></li>
<li><p><a class="reference internal" href="#section-13-2" id="id69">13.2 Markup</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#appendix-1-obsolete-rules" id="id70">14 Appendix 1: Obsolete Rules</a></p></li>
<li><p><a class="reference internal" href="#appendix-2-rationale" id="id71">15 Appendix 2: Rationale</a></p>
<ul>
<li><p><a class="reference internal" href="#r-3-4-rationale-template-parameters" id="id72">R.3.4 Rationale: Template Parameters</a></p></li>
<li><p><a class="reference internal" href="#r-4-4-rationale-using-includes-rather-than-forward-declarations" id="id73">R.4.4 Rationale: Using Includes Rather Than Forward Declarations</a></p></li>
<li><p><a class="reference internal" href="#r-6-10-rationale-hidden-friends" id="id74">R.6.10 Rationale: Hidden Friends</a></p></li>
<li><p><a class="reference internal" href="#r-7-3-rationale-function-signatures" id="id75">R.7.3 Rationale: Function Signatures</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<span id="section-1"></span><h2><a class="toc-backref" href="#id6">1 Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<dl id="rule-1-1">
<dt><em>1.1</em></dt><dd><p>This document specifies the coding standards to be used for C++ written at
Bloomberg. All newly developed C++ software must adhere to these standards.</p>
<blockquote>
<div><p><strong>Note:</strong>  Adoption of a set of coding standards is done to promote code
quality and improve maintainability. A regular and consistent form for the
production of code provides benefit to the author, to those who must
maintain the code, and to the users of the code who can come to learn how
to use new APIs in a predictable manner. Coding standards may also improve
portability across platforms, by ensuring that issues are carefully
documented for those who may not be aware of issues specific to a platform.</p>
<p><strong>Note:</strong>  Although these standards may be usefully adopted when modifying
so-called “legacy” code, there is no requirement that existing code be
revised to conform.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-1-2">
<dt><em>1.2</em></dt><dd><p>This document is organized into a set of enumerated <em>rules</em>, each of which
may specify a definition, a requirement, or a recommendation. To signify the
meaning of a rule, specific key words are used. In particular,</p>
<blockquote>
<div><p><em>The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”,
“SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY” and “OPTIONAL” are to be
interpreted as described in IETF RFC 2119
(http://www.ietf.org/rfc/rfc2119.txt).</em></p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-1-3">
<dt><em>1.3</em></dt><dd><p>A rule shall be denoted by a rule number, relative to the section in which it
is defined, and prefixed by the section number. Tools developed to promote
conformance with this coding standard must use these rule numbers when
reporting a violation.</p>
<blockquote>
<div><p><strong>Example:</strong>  This rule is Rule <a class="reference internal" href="#rule-1-3"><span class="std std-ref">1.3</span></a> , part of Section
<a class="reference internal" href="#section-1"><span class="std std-ref">1</span></a>.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-1-4">
<dt><em>1.4</em></dt><dd><p>Corrections and omissions will be recorded in a separate errata.
Periodically, the accumulated errata will be incorporated into a revised
version of this document. Rules may be renumbered only with the release of a
revised version. Though every attempt will be made to keep rule numbers
stable across such versions of this document, this cannot be guaranteed.</p>
</dd>
</dl>
<dl id="rule-1-5">
<dt><em>1.5</em></dt><dd><p>A rule may be accompanied by supplemental notes and/or examples. This
supplemental text is non-normative; that is, it is not considered part of the
rule.</p>
<blockquote>
<div><p><strong>Example:</strong>  Both this example and the note in Rule <a class="reference internal" href="#rule-1-1"><span class="std std-ref">1.1</span></a>
are non-normative.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-1-6">
<dt><em>1.6</em></dt><dd><p>All code that complies with these standards shall first comply with the C++
2003 standard (ISO/IEC 14882:2003).</p>
</dd>
</dl>
<dl class="simple" id="rule-1-7">
<dt><em>1.7</em></dt><dd><p>English shall be the language used for all text in code complying with these
standards (see Section <a class="reference internal" href="#rule-3-4-0"><span class="std std-ref">3.4.0</span></a>).</p>
</dd>
</dl>
</div>
<div class="section" id="units-of-release">
<span id="section-2"></span><h2><a class="toc-backref" href="#id7">2 Units of Release</a><a class="headerlink" href="#units-of-release" title="Permalink to this headline">¶</a></h2>
<div class="section" id="package-groups">
<span id="section-2-1"></span><h3><a class="toc-backref" href="#id8">2.1 Package Groups</a><a class="headerlink" href="#package-groups" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-2-1-1">
<dt><em>2.1.1</em></dt><dd><p>A <em>unit of release</em> (UOR) is either a package group or a standalone
package. A <em>package group</em> is a broad-based, cohesive grouping of packages
that share a common envelope of physical dependencies. A <em>package</em> is a
collection of components that are logically and physically related. Every
component must belong to some package.</p>
</dd>
</dl>
<dl class="simple" id="rule-2-1-2">
<dt><em>2.1.2</em></dt><dd><p>A package group must be designated by a name that is exactly three letters
long, and must be unique within the enterprise.</p>
</dd>
</dl>
<dl id="rule-2-1-3">
<dt><em>2.1.3</em></dt><dd><p>The name of a package belonging to a package group is formed by the
concatenation of the package group name and a one-to-three-letter mnemonic
that identifies the specific package in the package group.</p>
<blockquote>
<div><p><strong>Example:</strong>  The <code class="docutils literal notranslate"><span class="pre">bdl</span></code> package group contains packages named <code class="docutils literal notranslate"><span class="pre">bdls</span></code>,
<code class="docutils literal notranslate"><span class="pre">bdlma</span></code>, <code class="docutils literal notranslate"><span class="pre">bdlt</span></code>, and so on.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="standalone-packages">
<span id="section-2-2"></span><h3><a class="toc-backref" href="#id9">2.2 Standalone Packages</a><a class="headerlink" href="#standalone-packages" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-2-2-1">
<dt><em>2.2.1</em></dt><dd><p>A <em>standalone package</em> is a package that does not belong to any package
group.</p>
</dd>
</dl>
<dl class="simple" id="rule-2-2-2">
<dt><em>2.2.2</em></dt><dd><p>The package name of a standalone package must begin with a prefix
indicating the type of standalone package, followed by an underscore,
followed by the rest of the package name. The prefixes to use are
beyond the scope of this document.</p>
</dd>
</dl>
<dl class="simple" id="rule-2-2-3">
<dt><em>2.2.3</em></dt><dd><p>An application package is a standalone package that implements an
executable and defines a <code class="docutils literal notranslate"><span class="pre">main</span></code> function. No other package may depend
on an application package.</p>
</dd>
</dl>
<dl id="rule-2-2-4">
<dt><em>2.2.4</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">main</span></code> function of an application package must
reside in a separate file that is not rendered as a component. This
file must use the suffix <code class="docutils literal notranslate"><span class="pre">.m.cpp</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.m.cpp</span></code> file must contain only</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>the relevant <code class="docutils literal notranslate"><span class="pre">#include</span></code> directives</p></li>
<li><p>the definition of the main function</p></li>
<li><p>definitions of other entities that do not have external linkage</p></li>
</ol>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="components">
<span id="section-3"></span><h2><a class="toc-backref" href="#id10">3 Components</a><a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<div class="section" id="physical-design">
<span id="section-3-1"></span><h3><a class="toc-backref" href="#id11">3.1 Physical Design</a><a class="headerlink" href="#physical-design" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-3-1-1">
<dt><em>3.1.1</em></dt><dd><p>A <em>component</em> is the smallest unit of physical design.  All source code in a
unit of release (other than the <code class="docutils literal notranslate"><span class="pre">main</span></code> entrypoint of an application; Rule
<a class="reference internal" href="#rule-2-2-4"><span class="std std-ref">2.2.4</span></a>) must reside in one or more components.</p>
</dd>
</dl>
<dl class="simple" id="rule-3-1-2">
<dt><em>3.1.2</em></dt><dd><p>The <em>base name</em> of a component is a unique character sequence that
distinguishes the component from all other components in the same package.
The base name should be the same as the name of the principal class of the
component if it has one; otherwise, it should be any distinctive name that
characterizes the content of the component.</p>
</dd>
</dl>
<dl id="rule-3-1-3">
<dt><em>3.1.3</em></dt><dd><p>The name of a component is formed by the concatenation of the package name
and the lowercased base name of the component, separated by an underscore
(_).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Principal Class</p></th>
<th class="head"><p>Component Name</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bdex::TestOutStreamFormatter</p></td>
<td><p>bdex_testoutstreamformatter</p></td>
</tr>
<tr class="row-odd"><td><p>bdlt::Date</p></td>
<td><p>bdlt_date</p></td>
</tr>
<tr class="row-even"><td><p>ball::LoggerManager</p></td>
<td><p>ball_loggermanager</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-3-1-4">
<dt><em>3.1.4</em></dt><dd><p>A component consists of a header file (<code class="docutils literal notranslate"><span class="pre">.h</span></code>) and an implementation file
(<code class="docutils literal notranslate"><span class="pre">.cpp</span></code>) and has an associated test driver (<code class="docutils literal notranslate"><span class="pre">.t.cpp</span></code>). Each file is named
using the component name and the appropriate suffix. All three files must
reside in the directory of the package to which the component belongs.</p>
</dd>
</dl>
<dl id="rule-3-1-5">
<dt><em>3.1.5</em></dt><dd><p>A component must conform to the following rules:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> file must include the corresponding <code class="docutils literal notranslate"><span class="pre">.h</span></code> file as its
first substantive line of code (Rule <a class="reference internal" href="#rule-5-5"><span class="std std-ref">5.5</span></a>).</p></li>
<li><p>All constructs with external linkage defined in a <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> file must be
declared in the corresponding <code class="docutils literal notranslate"><span class="pre">.h</span></code> file.</p></li>
<li><p>All constructs with external linkage declared in a <code class="docutils literal notranslate"><span class="pre">.h</span></code> file must be
defined within the component, if defined at all.</p></li>
<li><p>A component’s functionality must be accessed only via a <code class="docutils literal notranslate"><span class="pre">#include</span></code> of
its header, and never via a forward (<code class="docutils literal notranslate"><span class="pre">extern</span></code>) declaration.</p></li>
</ol>
</div></blockquote>
</dd>
</dl>
<dl id="rule-3-1-6">
<dt><em>3.1.6</em></dt><dd><p>A component that directly uses another component must explicitly include the
header for that component. A component is said to <em>directly use</em> another
component if some construct within the using component makes use of some
entity declared in the used component, and the using component needs to see
the <em>definition</em> of that entity in order to compile. A component must not
rely on transitive inclusion of headers for components on which it directly
depends.</p>
<blockquote>
<div><p><strong>Note:</strong>  Note that when using a derived class, it is not necessary to
include the component that defines the base class, as the component
defining the derived class must have already included the component
defining the base class.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-3-1-7">
<dt><em>3.1.7</em></dt><dd><p>A component <em>b</em> is said to depend on another component <em>a</em> if component <em>b</em>
includes the header of component <em>a</em>. A package <em>q</em> is said to depend on
another package <em>r</em> if package <em>q</em> contains a component that depends on any
component contained by package <em>r</em>.</p>
</dd>
</dl>
<dl id="rule-3-1-8">
<dt><em>3.1.8</em></dt><dd><p>The graph of dependencies among components, packages, and
package groups must be acyclic. That is, there shall be no cycles</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>among components within packages</p></li>
<li><p>among packages within a package group</p></li>
<li><p>across package groups</p></li>
</ol>
<p><strong>Note:</strong>  These rules ensure that the graph of dependencies among UORs,
packages within a group, and components within a package are all acyclic.
Such graphs can be sorted topologically by their distance to external
nodes.  These distance numbers are referred to as “hierarchical levels”;
hierarchies without cycles are said to be “levelizable”.  Levelizable
software implies that there exists at least one ordering in which every
component can be tested thoroughly depending only on other components
that have already been tested thoroughly.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="logical-design">
<span id="section-3-2"></span><h3><a class="toc-backref" href="#id12">3.2 Logical Design</a><a class="headerlink" href="#logical-design" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-3-2-1">
<dt><em>3.2.1</em></dt><dd><p>Throughout this document, the term <em>class</em> shall be used to refer to types
declared using either the <code class="docutils literal notranslate"><span class="pre">class</span></code> or <code class="docutils literal notranslate"><span class="pre">struct</span></code> keywords.</p>
</dd>
</dl>
<dl id="rule-3-2-2">
<dt><em>3.2.2</em></dt><dd><p>Each externally usable class defined in the package-level namespace must be
rendered as a separate component, with only the following exceptions:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>to avoid logical encapsulation spanning physical boundaries (i.e.  “no
long-distance friendship”) (Rule <a class="reference internal" href="#rule-3-2-3"><span class="std std-ref">3.2.3</span></a>)</p></li>
<li><p>to avoid cyclic dependencies across component boundaries (Rule
<a class="reference internal" href="#rule-3-1-8"><span class="std std-ref">3.1.8</span></a>)</p></li>
<li><p>for peer entities that individually provide no useful purpose, but
together provide a cohesive solution (i.e., “single solution”)</p></li>
<li><p>for an entity that provides a tiny amount of cohesive functionality atop
a substantial class (i.e., “flea on an elephant”).</p></li>
</ol>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-3-2-3">
<dt><em>3.2.3</em></dt><dd><p>Friendship must not be granted to entities defined in another component. For
friend declarations in the same component, see Section
<a class="reference internal" href="#section-6-6"><span class="std std-ref">6.6</span></a>.</p>
</dd>
</dl>
<dl id="rule-3-2-4">
<dt><em>3.2.4</em></dt><dd><p>Functionality provided to assist the principal class defined in a component
that can be implemented efficiently using only the public interface is known
as <em>non-primitive</em> functionality. Non-primitive functionality should be
provided in a utility class with the same name as the principal class plus
the added suffix <code class="docutils literal notranslate"><span class="pre">Util</span></code>. Such a utility class should be defined in a
separate component.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ZoneInfo</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span><span class="w"></span>

<span class="c1">/// This `struct` provides a namespace for utility operations</span>
<span class="c1">/// using a `ZoneInfo` object.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">ZoneInfoUtil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">// ...</span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-3-2-5">
<dt><em>3.2.5</em></dt><dd><p>A <em>local definition</em> is a definition that is needed by the implementation of
the component but is not part of the public interface of the component. Local
definitions must be placed in the anonymous namespace in the implementation
file (Rule <a class="reference internal" href="#rule-5-9"><span class="std std-ref">5.9</span></a>), with a possible exception for local
classes (Rule <a class="reference internal" href="#rule-3-2-6"><span class="std std-ref">3.2.6</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="rule-3-2-5-1">
<dt><em>3.2.5.1</em></dt><dd><p>While classes, functions, variables, and enums used only within an
implementation file must be defined in the unnamed namespace, they may be
defined within a namespace <code class="docutils literal notranslate"><span class="pre">u</span></code> within the unnamed namespace.  Thus, when
the reader encounters the use of an identifier preceded by <code class="docutils literal notranslate"><span class="pre">u::</span></code>, they will
know where to find the definition.</p>
</dd>
</dl>
<dl class="simple" id="rule-3-2-6">
<dt><em>3.2.6</em></dt><dd><p>A <em>local class</em> is a class intended for use only by the implementation. A
local class must not be used outside of the component in which it is defined.
For implementation reasons, the definition of a local class may be placed in
a component’s header file; otherwise, it must be placed in the anonymous
namespace in the implementation file.</p>
</dd>
</dl>
<dl id="rule-3-2-7">
<dt><em>3.2.7</em></dt><dd><p>The name of a local class shall be formed by the concatenation of the
component base name and a descriptive type name (first letter uppercased),
separated by an underscore.</p>
<blockquote>
<div><p><strong>Note:</strong> For implementation reasons, the definition of a local class may
need to be placed in a component’s header file, where it cannot be given
internal linkage. To avoid conflicts, therefore, the name of the local
class is prefixed by the component name. For consistency, this is also done
for local classes that are defined only in the anonymous namespace of the
implementation file.</p>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This `struct` implements the storage required for a linked list</span>
<span class="c1">/// of elements.</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_TYPE</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">LinkedList_Link</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="n">bsls</span><span class="o">::</span><span class="n">ObjectBuffer</span><span class="o">&lt;</span><span class="n">t_TYPE</span><span class="o">&gt;</span><span class="w">  </span><span class="n">d_data</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">LinkedList_Link</span><span class="w">            </span><span class="o">*</span><span class="n">d_next_p</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">LinkedList_Link</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">t_TYPE</span><span class="o">&amp;</span><span class="w">       </span><span class="n">value</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="n">LinkedList_Link</span><span class="w">    </span><span class="o">*</span><span class="n">next</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="n">bslma</span><span class="o">::</span><span class="n">Allocator</span><span class="w">   </span><span class="o">*</span><span class="n">basicAllocator</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">d_data</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">allocator</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="n">d_next_p</span><span class="p">(</span><span class="n">next</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="namespaces">
<span id="section-3-3"></span><h3><a class="toc-backref" href="#id13">3.3 Namespaces</a><a class="headerlink" href="#namespaces" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-3-3-1">
<dt><em>3.3.1</em></dt><dd><p>All logical entities must be defined within the enterprise-wide namespace
named <code class="docutils literal notranslate"><span class="pre">BloombergLP</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="rule-3-3-2">
<dt><em>3.3.2</em></dt><dd><p>All logical entities must also be declared within a second namespace, known
as the <em>package namespace</em>, named after the package containing the component.
The package namespace must be enclosed by the enterprise-wide namespace.</p>
</dd>
</dl>
<dl id="rule-3-3-3">
<dt><em>3.3.3</em></dt><dd><p>Only the following entities may be declared directly within a package
namespace:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>classes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swap</span></code> functions</p></li>
<li><p>free operators</p></li>
</ol>
</div></blockquote>
<p>All other entities must be declared within a class contained within the
package namespace.</p>
</dd>
</dl>
<dl id="rule-3-3-4">
<dt><em>3.3.4</em></dt><dd><p>When using the name of an entity belonging to a package other than the one
for the current component, the name must be qualified with the other
package’s namespace. Conversely, when using the name of an entity belonging
to the current package, the name must not be qualified by the package
namespace.</p>
<blockquote>
<div><p><strong>Example:</strong>  In the following code, <code class="docutils literal notranslate"><span class="pre">Calendar</span></code> does not need to be (and
must not be) qualified because it already belongs to the <code class="docutils literal notranslate"><span class="pre">bdlt</span></code>
namespace, but <code class="docutils literal notranslate"><span class="pre">ostream</span></code> must be qualified with the <code class="docutils literal notranslate"><span class="pre">bsl</span></code> namespace.
Similarly, <code class="docutils literal notranslate"><span class="pre">Date</span></code> must be qualified with the <code class="docutils literal notranslate"><span class="pre">bdlt</span></code> namespace. (See
also Section <a class="reference internal" href="#section-6-9"><span class="std std-ref">6.9</span></a> for more about free operators).</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span><span class="nn">bdlt</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="c1">/// ...</span>
<span class="n">bsl</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span><span class="w">   </span><span class="n">stream</span><span class="p">,</span><span class="w"></span>
<span class="w">                         </span><span class="k">const</span><span class="w"> </span><span class="n">Calendar</span><span class="o">&amp;</span><span class="w"> </span><span class="n">calendar</span><span class="p">);</span><span class="w"></span>

<span class="c1">/// ...</span>
<span class="kr">inline</span><span class="w"></span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">Calendar::isBusinessDay</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="n">date</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Note:</strong>  The name of the component containing a particular qualified name
can be derived from its usage by replacing the namespace scope operator
with an underscore, and lowercasing the concatenated name.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-3-3-5">
<dt><em>3.3.5</em></dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">using</span> <span class="pre">namespace</span></code> clause must not be used except in the following cases:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>within test drivers</p></li>
<li><p>within the <code class="docutils literal notranslate"><span class="pre">.m.cpp</span></code> source file (Rule <a class="reference internal" href="#rule-2-2-4"><span class="std std-ref">2.2.4</span></a>)</p></li>
<li><p>within the block scope of a function when using <code class="docutils literal notranslate"><span class="pre">bdlf::PlaceHolders</span></code>
(refer to the component documentation for more information)</p></li>
</ol>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="general-naming-conventions">
<span id="section-3-4"></span><h3><a class="toc-backref" href="#id14">3.4 General Naming Conventions</a><a class="headerlink" href="#general-naming-conventions" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-3-4-0">
<dt><em>3.4.0</em></dt><dd><p>All text in source code shall be in English, with the appropriate
application-specific jargon allowed when the meaning is unambiguous (though
note that the use of abbreviations should always be limited, see Section
<a class="reference internal" href="#rule-3-4-3"><span class="std std-ref">3.4.3</span></a>).   This includes all names, documentation,
comments, log messages, and internal error messages.  This does not include
string constants needed for essential behavior (including those used by test
drivers to test behavior).</p>
</dd>
</dl>
<dl class="simple" id="rule-3-4-1">
<dt><em>3.4.1</em></dt><dd><p>The name of a logical entity should clearly describe the role of the entity.
The name of a type or a variable should be a noun. Additionally, the name of
a type should indicate capability, not purpose. The name of a variable should
indicate purpose, not structure. In general, the name of a method should be a
verb phrase (but see also Section <a class="reference internal" href="#section-7-1"><span class="std std-ref">7.1</span></a>).</p>
</dd>
</dl>
<dl id="rule-3-4-2">
<dt><em>3.4.2</em></dt><dd><p>The name of a logical entity may be a compound word. If so, all words other
than the first must be capitalized. The case of the first character in the
name depends on the entity type. The first character of a type name must be
an uppercase letter. The first character of a function or variable name must
be a lowercase letter.</p>
<blockquote>
<div><p><strong>Example:</strong> Consider the following function declaration, which
illustrates a type name, a function name, and a variable name:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="w"> </span><span class="nf">getNextBusinessDay</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="n">initialDate</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-3-4-3">
<dt><em>3.4.3</em></dt><dd><p>Entity names, other than names with block scope declared in the bodies of
functions, must not use abbreviations, except those adopted as a group
convention within a particular development group. The following abbreviations
may be used (for the prescribed meaning) anywhere.</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Abbreviation</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cb</span></code></p></td>
<td><p>callback</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dst</span></code></p></td>
<td><p>destination</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
<td><p>identifier (not “identity”)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">init</span></code></p></td>
<td><p>initializ(e,er)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">iter</span></code></p></td>
<td><p>iterator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">max</span></code></p></td>
<td><p>maximum</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">min</span></code></p></td>
<td><p>minimum</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">msg</span></code></p></td>
<td><p>message</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">num</span></code></p></td>
<td><p>number</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pos</span></code></p></td>
<td><p>position</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ptr</span></code></p></td>
<td><p>pointer</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ref</span></code></p></td>
<td><p>reference</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">src</span></code></p></td>
<td><p>source</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tmp</span></code></p></td>
<td><p>temporary</p></td>
</tr>
</tbody>
</table>
<p>Note that acronyms, where they are well-understood in the domain in
which they are being used, may also be used.</p>
<p><strong>Example:</strong> The following are all legal uses of abbreviations:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">CalendarBusinessDayConstIter</span><span class="p">;</span><span class="w"></span>

<span class="kt">int</span><span class="w"> </span><span class="n">numConnections</span><span class="p">,</span><span class="w"> </span><span class="n">srcIndex</span><span class="p">,</span><span class="w"> </span><span class="n">dstIndex</span><span class="p">;</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">Type</span><span class="o">&amp;</span><span class="w"> </span><span class="n">elementRef</span><span class="p">;</span><span class="w"></span>
<span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">typeId</span><span class="p">;</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">Type</span><span class="w"> </span><span class="o">*</span><span class="n">elementPtr</span><span class="p">;</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">convertUtcToLocalTime</span><span class="p">(</span><span class="w"></span>
<span class="w">     </span><span class="n">bdlt</span><span class="o">::</span><span class="n">DatetimeTz</span><span class="w">                          </span><span class="o">*</span><span class="n">resultTime</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">baltzo</span><span class="o">::</span><span class="n">Zoneinfo</span><span class="o">::</span><span class="n">TransitionConstIterator</span><span class="w"> </span><span class="o">*</span><span class="n">resultTransition</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Datetime</span><span class="o">&amp;</span><span class="w">                      </span><span class="n">utcTime</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="k">const</span><span class="w"> </span><span class="n">baltzo</span><span class="o">::</span><span class="n">Zoneinfo</span><span class="o">&amp;</span><span class="w">                    </span><span class="n">timeZone</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-3-4-4">
<dt><em>3.4.4</em></dt><dd><p>The name of a template parameter must start with <code class="docutils literal notranslate"><span class="pre">t_</span></code>, with one or more
following words in uppercase, separated by underscores.  If only a single
word is used, it must not consist of a single letter (e.g., <code class="docutils literal notranslate"><span class="pre">t_T</span></code>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_VALUE_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">t_SIZE</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">array</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-3-4-4-rationale"><span class="std std-ref">[rationale]</span></a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="header-files">
<span id="section-4"></span><h2><a class="toc-backref" href="#id15">4 Header Files</a><a class="headerlink" href="#header-files" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-organization">
<span id="section-4-1"></span><h3><a class="toc-backref" href="#id16">4.1 General Organization</a><a class="headerlink" href="#general-organization" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-4-1-1">
<dt><em>4.1.1</em></dt><dd><p>If a component defines or implements a logical entity having external
linkage, then that entity must be declared within that component’s header
file, and only within that component’s header file. The corresponding
definition must be in the <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> file unless the entity is an inline
function, a template, or both.</p>
</dd>
</dl>
<dl id="rule-4-1-2">
<dt><em>4.1.2</em></dt><dd><p>The organization of a header file must follow the sequence specified here:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>a prologue (Section <a class="reference internal" href="#section-4-2"><span class="std std-ref">4.2</span></a>)</p></li>
<li><p>component-level documentation (Section <a class="reference internal" href="#section-8"><span class="std std-ref">8</span></a>)</p></li>
<li><p>include directives (Section <a class="reference internal" href="#section-4-3"><span class="std std-ref">4.3</span></a>)</p></li>
<li><p>forward declarations (Rule <a class="reference internal" href="#rule-4-4-2"><span class="std std-ref">4.4.2</span></a>)</p></li>
<li><p>class definitions, including associated free operator declarations
(Section <a class="reference internal" href="#section-6"><span class="std std-ref">6</span></a>)</p></li>
<li><p>inline function and function template definitions (Section
<a class="reference internal" href="#section-4-5"><span class="std std-ref">4.5</span></a>)</p></li>
<li><p>inline free operator and free operator template definitions
(Section <a class="reference internal" href="#section-6-9"><span class="std std-ref">6.9</span></a>)</p></li>
<li><p>trait specializations</p></li>
<li><p>an epilogue (Section <a class="reference internal" href="#section-4-6"><span class="std std-ref">4.6</span></a>)</p></li>
</ol>
</div></blockquote>
<p>All but the prologue, the epilogue, and the component-level documentation are
optional.</p>
</dd>
</dl>
</div>
<div class="section" id="prologue">
<span id="section-4-2"></span><h3><a class="toc-backref" href="#id17">4.2 Prologue</a><a class="headerlink" href="#prologue" title="Permalink to this headline">¶</a></h3>
<dl id="rule-4-2-1">
<dt><em>4.2.1</em></dt><dd><p>The prologue consists of</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>an initial comment stating the filename and language tag</p></li>
<li><p>the include guard for the file</p></li>
</ol>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// mypackagemyclass.h                                  -*-C++-*-</span>
<span class="cp">#ifndef INCLUDED_MYPACKAGE_MYCLASS</span>
<span class="cp">#define INCLUDED_MYPACKAGE_MYCLASS</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-4-2-2">
<dt><em>4.2.2</em></dt><dd><p>The language tag for C++ is <code class="docutils literal notranslate"><span class="pre">-*-C++-*-</span></code>. It must appear in the first line
of the source file, right-justified to the 79th column.</p>
</dd>
</dl>
<dl class="simple" id="rule-4-2-3">
<dt><em>4.2.3</em></dt><dd><p>The name of the include guard macro is formed by the concatenation of the
prefix <code class="docutils literal notranslate"><span class="pre">INCLUDED</span></code> and the uppercased component name (Rule
<a class="reference internal" href="#rule-3-1-3"><span class="std std-ref">3.1.3</span></a>), separated by an underscore.</p>
</dd>
</dl>
</div>
<div class="section" id="include-directives">
<span id="section-4-3"></span><h3><a class="toc-backref" href="#id18">4.3 Include Directives</a><a class="headerlink" href="#include-directives" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-4-3-1">
<dt><em>4.3.1</em></dt><dd><p>Include directives must immediately follow the component-level documentation
(Section <a class="reference internal" href="#section-8"><span class="std std-ref">8</span></a>). The header file for each component used
directly must be included by an explicit include directive (Rule
<a class="reference internal" href="#rule-3-1-6"><span class="std std-ref">3.1.6</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="rule-4-3-2">
<dt><em>4.3.2</em></dt><dd><p><strong>OBSOLETE</strong> (Rule <a class="reference internal" href="#rule-14-1"><span class="std std-ref">14.1</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="rule-4-3-3">
<dt><em>4.3.3</em></dt><dd><p><strong>OBSOLETE</strong> (Rule <a class="reference internal" href="#rule-14-2"><span class="std std-ref">14.2</span></a>)</p>
</dd>
</dl>
<dl class="simple" id="rule-4-3-4">
<dt><em>4.3.4</em></dt><dd><p>All include directives must use angle brackets (i.e., <code class="docutils literal notranslate"><span class="pre">'&lt;</span> <span class="pre">&gt;'</span></code>); the
quoted form must not be used.</p>
</dd>
</dl>
<dl id="rule-4-3-5">
<dt><em>4.3.5</em></dt><dd><p>Include directives must be divided into three groups:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>components in the same package as this component</p></li>
<li><p>components from other packages</p></li>
<li><p>other required headers that are not components (e.g. third-party or
platform-specific)</p></li>
</ol>
</div></blockquote>
<p>Include directives for each non-empty groups must appear in the order shown.
Within each group, the include groups should be ordered alphabetically.
Headers belonging to the third group may require a specific, non-alphabetic
ordering.</p>
<blockquote>
<div><p><strong>Note:</strong>  Where avoidable, expensive standard library headers should not
be included in a header file. For example, It is usually possible to
include <code class="docutils literal notranslate"><span class="pre">&lt;bsl_iosfwd.h&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&lt;bsl_iostream.h&gt;</span></code> . For components
defining class templates with <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code> , however, it will be
necessary to include <code class="docutils literal notranslate"><span class="pre">&lt;bsl_iostream.h&gt;</span></code> directly in the header file.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-4-3-6">
<dt><em>4.3.6</em></dt><dd><p>Where available, the <code class="docutils literal notranslate"><span class="pre">bsl</span></code> standard headers must be used in place of the
STL headers.</p>
</dd>
</dl>
</div>
<div class="section" id="declarations">
<span id="section-4-4"></span><h3><a class="toc-backref" href="#id19">4.4 Declarations</a><a class="headerlink" href="#declarations" title="Permalink to this headline">¶</a></h3>
<dl id="rule-4-4-1">
<dt><em>4.4.1</em></dt><dd><p>Everything following the include directives and prior to the epilogue must be
placed inside the enterprise-wide namespace (Rule <a class="reference internal" href="#rule-3-3-1"><span class="std std-ref">3.3.1</span></a>)
(except forward declarations for third-party entities, as necessary).
Moreover, class definitions and inline member function definitions must be
placed in the package namespace (Rule <a class="reference internal" href="#rule-3-3-2"><span class="std std-ref">3.3.2</span></a>). In the
header file, the following layout must be used to achieve this placement:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="p">...</span><span class="w"> </span><span class="c1">// forward declarations for non-enterprise entities go here</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">BloombergLP</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="p">...</span><span class="w"> </span><span class="c1">// forward declarations for entities within this unit of release</span>
<span class="p">...</span><span class="w"> </span><span class="c1">// but outside of this package go here</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// forward declarations are *not* used for entities outside the</span>
<span class="p">...</span><span class="w"> </span><span class="c1">// current unit of release - use the corresponding `#include`</span>
<span class="p">...</span><span class="w"> </span><span class="c1">// instead</span>

<span class="k">namespace</span><span class="w"> </span><span class="o">*</span><span class="nn">package</span><span class="o">*</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="p">...</span><span class="w"> </span><span class="c1">// forward declarations for entities in the same package go here</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// class definitions, including associated free operator</span>
<span class="w">      </span><span class="c1">// declarations, go here</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// inline member function definitions go here</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close package namespace</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// inline free (operator) definitions go here</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// trait specializations go here</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close enterprise namespace</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that inline free (operator) <em>definitions</em> are placed outside of the
package namespace, with no separate banner or category tag (Section
<a class="reference internal" href="#section-6-9"><span class="std std-ref">6.9</span></a>). Note also that package is to be replaced with the
component’s package name. Finally, note that there must be two spaces
preceding the trailing comments, and that blank lines should be used as shown
to separate the sections; however, if there are no free operator definitions
or trait specializations, there should be no blank line between the lines
that close the namespaces.</p>
</dd>
</dl>
<dl id="rule-4-4-2">
<dt><em>4.4.2</em></dt><dd><p>Per Rule <a class="reference internal" href="#rule-3-1-5"><span class="std std-ref">3.1.5</span></a>, if a component uses an entity having
external linkage, then it must include that component’s header file.</p>
<p>When using a class, even if the class definition is not needed for
compilation (i.e., no size or layout information is needed), the component
should include the component’s header file, unless the entity is located
in the same unit-of-release (UOR).  Even within the same UOR, includes should
be preferred over forward declarations absent a reason to use the forward
declaration.  (see rationale for <em>4.4.3</em>).</p>
</dd>
</dl>
<dl class="simple" id="rule-4-4-3">
<dt><em>4.4.3</em></dt><dd><p>Forward declarations for classes defined in other packages must not be used.
The corresponding <cite>#include</cite> statement should be used instead.</p>
</dd>
</dl>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-4-4-3-rationale"><span class="std std-ref">[rationale]</span></a></p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="rule-4-4-4">
<dt><em>4.4.4</em></dt><dd><p>Forward declarations for classes defined in the same package as the current
component must appear immediately after the package namespace is opened. If
there are multiple declarations, each declaration should appear on its own
line, sorted alphabetically.  These forward declarations should only be used
to avoid cycles - otherwise, include statements should be used.</p>
</dd>
</dl>
<dl class="simple" id="rule-4-4-5">
<dt><em>4.4.5</em></dt><dd><p>Forward declarations for classes defined in the current component, if any,
must appear after all other forward declarations, in the order in which they
are defined in the source file.</p>
</dd>
</dl>
</div>
<div class="section" id="inline-definitions">
<span id="section-4-5"></span><h3><a class="toc-backref" href="#id20">4.5 Inline Definitions</a><a class="headerlink" href="#inline-definitions" title="Permalink to this headline">¶</a></h3>
<dl id="rule-4-5-1">
<dt><em>4.5.1</em></dt><dd><p>Inline function definitions having external linkage must appear in the header
file in a separate section that follows the class definitions but is still
inside the package namespace. The section must begin with the comment banner
shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// =======================================================================</span>
<span class="c1">//                          INLINE DEFINITIONS</span>
<span class="c1">// =======================================================================</span>
</pre></div>
</div>
</div></blockquote>
<p>The banner must extend to the 79th column. The initial <code class="docutils literal notranslate"><span class="pre">I</span></code> in <code class="docutils literal notranslate"><span class="pre">INLINE</span></code>
must begin at the 29th column. (Note that the above illustration is not shown
with the correct number of columns, due to typesetting constraints).</p>
</dd>
</dl>
<dl id="rule-4-5-2">
<dt><em>4.5.2</em></dt><dd><p>Inline functions are defined exactly as regular member functions are defined
in an implementation file (Section <a class="reference internal" href="#section-6-8"><span class="std std-ref">6.8</span></a>), except that
each function definition must include the keyword <code class="docutils literal notranslate"><span class="pre">inline</span></code> on a line by
itself immediately preceding the rest of the function definition. In
particular, the rules concerning grouping, ordering, and the appearance of
the class-specific implementation comment banner must all be followed (
Section <a class="reference internal" href="#section-6-7"><span class="std std-ref">6.7</span></a>, Rule <a class="reference internal" href="#rule-6-8-3"><span class="std std-ref">6.8.3</span></a>, and Rule
<a class="reference internal" href="#rule-6-1-3"><span class="std std-ref">6.1.3</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// CLASS METHODS</span>

<span class="kr">inline</span><span class="w"></span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">baltzo::LocalTimeDescriptor::isValidUtcOffsetInSeconds</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">-86399</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">86399</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="epilogue">
<span id="section-4-6"></span><h3><a class="toc-backref" href="#id21">4.6 Epilogue</a><a class="headerlink" href="#epilogue" title="Permalink to this headline">¶</a></h3>
<dl id="rule-4-6-1">
<dt><em>4.6.1</em></dt><dd><p>The epilogue consists of</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">#endif</span></code> of the opening include guard</p></li>
<li><p>the copyright notice</p></li>
</ol>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">#endif</span></code> directive must not be followed by a comment.</p>
</dd>
</dl>
<dl id="rule-4-6-2">
<dt><em>4.6.2</em></dt><dd><p>Unless the files are published for open source (Rule
<a class="reference internal" href="#rule-4-6-3"><span class="std std-ref">4.6.3</span></a>), the copyright notice must appear exactly as
shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// --------------------------------------------------------------</span>
<span class="c1">// NOTICE:</span>
<span class="c1">// Copyright 2012 Bloomberg Finance L.P. All rights reserved.</span>
<span class="c1">// Property of Bloomberg Finance L.P. (BFLP)</span>
<span class="c1">// This software is made available solely pursuant to the</span>
<span class="c1">// terms of a BFLP license agreement which governs its use.</span>
<span class="c1">// ----------------------- END-OF-FILE --------------------------</span>
</pre></div>
</div>
</div></blockquote>
<p>The year specified in the copyright notice must be the year in which the
source file was first created.</p>
<blockquote>
<div><p><strong>Note:</strong>  If you create a new source file, even if it incorporates
previously written code, use the current year in the copyright notice
because this new, derivative work did not exist earlier. If the code is
subsequently modified, the copyright date should be left as is, because
that is the year the work was first published.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-4-6-3">
<dt><em>4.6.3</em></dt><dd><p>For open source files, the copyright notice must appear exactly as shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ----------------------------------------------------------------------------</span>
<span class="c1">// Copyright 2013 Bloomberg Finance L.P.</span>
<span class="c1">//</span>
<span class="c1">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c1">// you may not use this file except in compliance with the License.</span>
<span class="c1">// You may obtain a copy of the License at</span>
<span class="c1">//</span>
<span class="c1">//     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c1">//</span>
<span class="c1">// Unless required by applicable law or agreed to in writing, software</span>
<span class="c1">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c1">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c1">// See the License for the specific language governing permissions and</span>
<span class="c1">// limitations under the License.</span>
<span class="c1">// ----------------------------- END-OF-FILE ----------------------------------</span>
</pre></div>
</div>
</div></blockquote>
<p>As in the previous rule Rule <a class="reference internal" href="#rule-4-6-2"><span class="std std-ref">4.6.2</span></a>, the year specified in
the copyright notice must be the year in which the source file was first
created.</p>
<blockquote>
<div><p><strong>Note:</strong>  As in the previous rule Rule <a class="reference internal" href="#rule-4-6-2"><span class="std std-ref">4.6.2</span></a>, if you
create a new source file, even if it incorporates previously written code,
use the current year in the copyright notice because this new, derivative
work did not exist earlier. If the code is subsequently modified, the
copyright date should be left as is, because that is the year the work was
first published.</p>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="implementation-files">
<span id="section-5"></span><h2><a class="toc-backref" href="#id22">5 Implementation Files</a><a class="headerlink" href="#implementation-files" title="Permalink to this headline">¶</a></h2>
<dl class="simple" id="rule-5-1">
<dt><em>5.1</em></dt><dd><p>An implementation file (<code class="docutils literal notranslate"><span class="pre">.cpp</span></code>) must exist for each component (Rule
<a class="reference internal" href="#rule-3-1-4"><span class="std std-ref">3.1.4</span></a>).</p>
</dd>
</dl>
<dl id="rule-5-2">
<dt><em>5.2</em></dt><dd><p>The organization of an implementation file must follow the sequence specified
here:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>a prologue (Rule <a class="reference internal" href="#rule-5-3"><span class="std std-ref">5.3</span></a>)</p></li>
<li><p>implementation notes (Rule <a class="reference internal" href="#rule-5-4"><span class="std std-ref">5.4</span></a>)</p></li>
<li><p>include directives (Rule <a class="reference internal" href="#rule-5-5"><span class="std std-ref">5.5</span></a>)</p></li>
<li><p>local definitions (Rule <a class="reference internal" href="#rule-3-2-5"><span class="std std-ref">3.2.5</span></a>)</p></li>
<li><p>non-inline function definitions (Section <a class="reference internal" href="#section-6-8"><span class="std std-ref">6.8</span></a>)</p></li>
<li><p>non-inline free operators (Section <a class="reference internal" href="#section-6-9"><span class="std std-ref">6.9</span></a>)</p></li>
<li><p>the copyright notice (Section <a class="reference internal" href="#section-4-6"><span class="std std-ref">4.6</span></a>)</p></li>
</ol>
</div></blockquote>
<p>All but the prologue, the include directive for the component’s own header
file, and the copyright notice are optional.</p>
</dd>
</dl>
<dl class="simple" id="rule-5-3">
<dt><em>5.3</em></dt><dd><p>The prologue consists of an initial comment stating the filename and language
tag. This is the same as for the header prologue (Section
<a class="reference internal" href="#section-4-2"><span class="std std-ref">4.2</span></a>), except that there is no include guard.</p>
</dd>
</dl>
<dl id="rule-5-4">
<dt><em>5.4</em></dt><dd><p>Implementation notes may be provided if the component’s implementation
deserves some explanation, statement of invariants, or discussion of possible
design and implementation choices.  Implementation notes should be placed in
the <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> file even if the implementation being described is largely
inlined or template-based (and thus placed mostly in the header).</p>
<p>If implementation notes are included, they must follow the prologue and begin
as shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Implementation Notes</span>
<span class="c1">// --------------------</span>
<span class="c1">// ... notes go here</span>
</pre></div>
</div>
</div></blockquote>
<p>Implementation notes may use the Markdown notation (Section
<a class="reference internal" href="#section-12"><span class="std std-ref">12</span></a>) as desired.</p>
<p><strong>Note:</strong>  Implementation notes do not overlap with other component
documentation.  They are intended for the developers and maintainers of the
component itself. They should clarify implementation issues encountered,
considered, and even rejected, as well as the particulars of the
implementation chosen. The length of the implementation notes should be
proportional to the complexity of the implementation. It is not necessary to
discuss straightforward or trivial implementations.</p>
</dd>
</dl>
<dl id="rule-5-5">
<dt><em>5.5</em></dt><dd><p>The first substantive line of code in the implementation file of a component
must be an <code class="docutils literal notranslate"><span class="pre">#include</span></code> directive that includes the header file of the
component (Rule <a class="reference internal" href="#rule-3-1-5"><span class="std std-ref">3.1.5</span></a>).</p>
<blockquote>
<div><p><strong>Note:</strong>  By following this rule, successful compilation of the
implementation file confirms that the header file is entirely
self-contained.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-5-6">
<dt><em>5.6</em></dt><dd><p>Other include directives are specified, as needed, following the required
include of the component’s own header file. The order of these other include
directives should follow the same ordering scheme as is used in header files
(Rule <a class="reference internal" href="#rule-4-3-5"><span class="std std-ref">4.3.5</span></a>).</p>
</dd>
</dl>
<p id="rule-5-6-1"><em>5.6.1</em></p>
<blockquote>
<div><p>Any include directives used by the test driver that refer to components in
the same package and <em>not</em> otherwise used by the component itself must appear
in the component’s implementation file and appended with the comment:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// for testing only</span>
</pre></div>
</div>
</div></blockquote>
<p>The for-testing-only include directives must <em>not</em> introduce any cycle of
physical dependency into the package (see Rule <a class="reference internal" href="#rule-3-1-8"><span class="std std-ref">3.1.8</span></a>) and
must be sorted alphabetically with include directives of other components
from the component’s package, if any (Rule <a class="reference internal" href="#rule-4-3-5"><span class="std std-ref">4.3.5</span></a>).</p>
<p><strong>Note:</strong> To maximize the potential for re-use, component authors should aim
for a component to have as small a set of dependencies as can be reasonably
achieved, including for-testing-only dependencies.  The <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">for</span> <span class="pre">testing</span>
<span class="pre">only</span></code> comment serves to highlight when additional dependencies are added to
a component through testing.</p>
</div></blockquote>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-5-6-1-rationale"><span class="std std-ref">[rationale]</span></a></p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="rule-5-7">
<dt><em>5.7</em></dt><dd><p>Redundant include guards must not be used in the implementation file.</p>
</dd>
</dl>
<dl id="rule-5-8">
<dt><em>5.8</em></dt><dd><p>Everything following the include directives and prior to the copyright notice
must be placed inside the enterprise-wide namespace. Moreover, all
definitions, other than those for non-inline, non-template free operators
declared in the header, must be placed in the package namespace as well. The
structure that must be used to achieve this is shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span><span class="nn">BloombergLP</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="k">namespace</span><span class="w"> </span><span class="o">*</span><span class="nn">package</span><span class="o">*</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="p">...</span><span class="w"> </span><span class="c1">// anonymous namespace for local definitions goes here</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// non-inline function definitions go here</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close package namespace</span>

<span class="p">...</span><span class="w"> </span><span class="c1">// non-inline free operator definitions go here</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close enterprise namespace</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that package should be replaced with the component’s package name.  Note
also that there must be no blank line between the opening of the enterprise
and package namespaces. There must also be no blank line between the closing
of the package and enterprise namespaces if and only if there are no free
operator definitions.</p>
</dd>
</dl>
<dl id="rule-5-9">
<dt><em>5.9</em></dt><dd><p>Local definitions (Rule <a class="reference internal" href="#rule-3-2-5"><span class="std std-ref">3.2.5</span></a>) that appear in an
implementation file must be placed inside an anonymous namespace. The
anonymous namespace should appear just after the package namespace is opened.</p>
<blockquote>
<div><p><strong>Example</strong>  The following layout must be used:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="p">...</span><span class="w"> </span><span class="c1">// local definitions go here</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close unnamed namespace</span>
</pre></div>
</div>
</div></blockquote>
<p>The ordering of local definitions in the anonymous namespace may be
determined by the needs of the implementation. Where a specific ordering is
not required, placing local functions before local class definitions is
preferred.</p>
</dd>
</dl>
<dl id="rule-5-10">
<dt><em>5.10</em></dt><dd><p>A <em>local function</em> is a free function that is not part of any class in the
component. Local functions must be defined <code class="docutils literal notranslate"><span class="pre">static</span></code> in the implementation
file, inside the anonymous namespace.</p>
<blockquote>
<div><p><strong>Note:</strong>  The use of the <code class="docutils literal notranslate"><span class="pre">static</span></code> storage specifier for a local function
is technically not necessary for a definition inside the anonymous
namespace. The function will be given internal linkage regardless. The use
of the explicit storage specifier, however, has an ancillary benefit of
making prominent that the definition is local, and on some platforms, it is
known to reduce the symbol space consumed in the object file and executable
image.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="class-definitions">
<span id="section-6"></span><h2><a class="toc-backref" href="#id23">6 Class Definitions</a><a class="headerlink" href="#class-definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-form">
<span id="section-6-1"></span><h3><a class="toc-backref" href="#id24">6.1 General Form</a><a class="headerlink" href="#general-form" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-6-1-1">
<dt><em>6.1.1</em></dt><dd><p>Class definitions may appear in a header file or in an implementation file.
An externally usable class (Rule <a class="reference internal" href="#rule-3-2-2"><span class="std std-ref">3.2.2</span></a>) must be placed in
the header file. A local class definition may be placed in the header file or
in the implementation file (Rule <a class="reference internal" href="#rule-3-2-5"><span class="std std-ref">3.2.5</span></a>).  Regardless of
where a class definition appears, it must conform to the rules specified in
this section.</p>
</dd>
</dl>
<dl id="rule-6-1-2">
<dt><em>6.1.2</em></dt><dd><p>A class definition must be immediately preceded by a class definition banner
and immediately followed by associated free operator <em>declarations</em>, if any
(Section <a class="reference internal" href="#section-6-9"><span class="std std-ref">6.9</span></a>). Class-level documentation (Section
<a class="reference internal" href="#section-9"><span class="std std-ref">9</span></a>) must appear before the class definition.</p>
<p><strong>Example:</strong></p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">                    </span><span class="c1">// ===============</span>
<span class="w">                    </span><span class="c1">// class ClassName</span>
<span class="w">                    </span><span class="c1">// ===============</span>

<span class="c1">/// Class-level documentation goes here.</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ClassName</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">  </span><span class="p">...</span><span class="w"> </span><span class="c1">// member declarations go here</span>

<span class="p">};</span><span class="w"></span>

<span class="p">...</span><span class="w"> </span><span class="c1">// free operator declarations go here</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-6-1-3">
<dt><em>6.1.3</em></dt><dd><p>The class definition banner may be centered, or indented by 25 spaces if the
class name is shorter than 20 characters. The class definition banner uses
double-dashed lines. There must be exactly as many dashes as required to
ensure that the banner lines are flush with the class name.</p>
</dd>
</dl>
<dl id="rule-6-1-4">
<dt><em>6.1.4</em></dt><dd><p>Each entity within a class, as well as each associated free operator, must be
fully documented at the point of its declaration. The form and content of the
documentation varies depending on the entity type.</p>
<blockquote>
<div><p><strong>Note:</strong>  The individual entity specifications, along with the more general
class-level documentation, and broad component-level documentation, are
intended to provide three layers of documentation that together provide a
complete description of a component, including all essential information
required to use the component as well as information about how it is
intended to be used.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="sections">
<span id="section-6-2"></span><h3><a class="toc-backref" href="#id25">6.2 Sections</a><a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h3>
<dl id="rule-6-2-1">
<dt><em>6.2.1</em></dt><dd><p>The body of a class definition is divided into public and private
sections using the <code class="docutils literal notranslate"><span class="pre">public:</span></code> and <code class="docutils literal notranslate"><span class="pre">private:</span></code> labels. These labels
must appear on lines by themselves, indented exactly two spaces, and
preceded by a blank line.</p>
<blockquote>
<div><p><strong>Note:</strong>  The use of <code class="docutils literal notranslate"><span class="pre">protected:</span></code> sections is discouraged. It is
permitted only for a compelling and explicitly documented reason, usually
linked to structural inheritance. In general, all members are either public
or private.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-6-2-2">
<dt><em>6.2.2</em></dt><dd><p>Each access control section is further divided into one or more categories,
based on the kind of declaration that appears there. Each category is
preceded by an identifying tag, like TYPES or ACCESSORS. In order of
appearance, the access control sections and their common sub-categories (with
identification tag), appear as follows:</p>
<blockquote>
<div><p><strong>(optional) public section</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>public declarations/definitions that are needed by the private section (Section <a class="reference internal" href="#section-6-3"><span class="std std-ref">6.3</span></a>)</p></li>
</ul>
</div></blockquote>
<p><strong>private section</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PRIVATE</span> <span class="pre">TYPES</span></code>: private type definitions used to declare private members (Section <a class="reference internal" href="#section-6-3"><span class="std std-ref">6.3</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[CLASS]</span> <span class="pre">DATA</span></code>: static and non-static data member declarations (Section <a class="reference internal" href="#section-6-5"><span class="std std-ref">6.5</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FRIENDS</span></code>: friend declarations (Section <a class="reference internal" href="#section-6-6"><span class="std std-ref">6.6</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PRIVATE</span> <span class="pre">(CLASS</span> <span class="pre">METHODS|CREATORS|MANIPULATORS|ACCESSORS)</span></code>: declarations of private methods (Section <a class="reference internal" href="#section-6-7"><span class="std std-ref">6.7</span></a>) in the order: class methods, then creators, then manipulators, then accessors</p></li>
</ul>
</div></blockquote>
<p><strong>(optional) private section</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">IMPLEMENTED</span></code>: optional disabled declarations (Rule <a class="reference internal" href="#rule-6-7-4"><span class="std std-ref">6.7.4</span></a>), tag always immediately preceded by <code class="docutils literal notranslate"><span class="pre">private:</span></code>, even when redundant.</p></li>
</ul>
</div></blockquote>
<p><strong>public section</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TYPES</span></code>: type definitions used in the public interface (Section <a class="reference internal" href="#section-6-3"><span class="std std-ref">6.3</span></a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TRAITS</span></code>: nested trait declarations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(CLASS</span> <span class="pre">METHODS|CREATORS|MANIPULATORS|ACCESSORS)</span></code>: declarations of public methods (Section <a class="reference internal" href="#section-6-7"><span class="std std-ref">6.7</span></a>) in the order: class methods, then creators, then manipulators, then accessors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HIDDEN</span> <span class="pre">FRIENDS</span></code>: definitions of hidden friends (Section <a class="reference internal" href="#section-6-10"><span class="std std-ref">6.10</span></a>)</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<p>Sections should not be included if they contain no declarations. Note that
the optional disabled declarations are always placed in their own separately
marked <code class="docutils literal notranslate"><span class="pre">private</span></code> section, even if otherwise contiguous with the previous
private section.</p>
</dd>
</dl>
<dl id="rule-6-2-3">
<dt><em>6.2.3</em></dt><dd><p>Each category must be preceded by a tag comment that identifies the
category. The tag must appear immediately before the first declaration
in that category, with an intervening blank line. A tag must not be used
if the category is otherwise empty.</p>
<p>The following tags are defined:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Tag</p></th>
<th class="head"><p>Usage</p></th>
<th class="head"><p>Default Access</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">TYPES</span></code></p></td>
<td><p>type and constant declarations</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">CLASS</span> <span class="pre">DATA</span></code></p></td>
<td><p>static data members</p></td>
<td><p>private</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">DATA</span></code></p></td>
<td><p>non-static data members</p></td>
<td><p>private</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">FRIENDS</span></code></p></td>
<td><p>friendship declarations</p></td>
<td><p>private</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">NOT</span> <span class="pre">IMPLEMENTED</span></code></p></td>
<td><p>unimplemented standard methods</p></td>
<td><p>private</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">TRAITS</span></code></p></td>
<td><p>nested traits</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">CLASS</span> <span class="pre">METHODS</span></code></p></td>
<td><p>static methods</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">CREATORS</span></code></p></td>
<td><p>constructors and destructors</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">MANIPULATORS</span></code></p></td>
<td><p>non-<code class="docutils literal notranslate"><span class="pre">const</span></code> methods</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">ACCESSORS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">const</span></code> methods</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">HIDDEN</span> <span class="pre">FRIENDS</span></code></p></td>
<td><p>hidden friend definitions</p></td>
<td><p>public</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">FREE</span> <span class="pre">OPERATORS</span></code></p></td>
<td><p>free operators</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>When a tag is used in a section whose access specification does not match
the default access specification listed above, the access specification
should be prefixed to the tag.  For example, the <code class="docutils literal notranslate"><span class="pre">TYPES</span></code> tag (default
“public”) in a private section should appear as <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">PRIVATE</span> <span class="pre">TYPES</span></code>,
similarly <code class="docutils literal notranslate"><span class="pre">CLASS</span> <span class="pre">DATA</span></code> (default “private”) in a public section would
appear as <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">PUBLIC</span> <span class="pre">CLASS</span> <span class="pre">DATA</span></code>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ExampleClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>

<span class="w">    </span><span class="c1">// TYPES</span>

<span class="w">  </span><span class="k">private</span><span class="o">:</span><span class="w"></span>

<span class="w">    </span><span class="c1">// PRIVATE TYPES</span>

<span class="w">    </span><span class="c1">// CLASS DATA</span>

<span class="w">    </span><span class="c1">// DATA</span>

<span class="w">    </span><span class="c1">// FRIENDS</span>

<span class="w">    </span><span class="c1">// PRIVATE MANIPULATORS</span>

<span class="w">  </span><span class="k">private</span><span class="o">:</span><span class="w"></span>

<span class="w">    </span><span class="c1">// NOT IMPLEMENTED</span>

<span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>

<span class="w">    </span><span class="c1">// TRAITS</span>

<span class="w">    </span><span class="c1">// CLASS METHODS</span>

<span class="w">    </span><span class="c1">// CREATORS</span>

<span class="w">    </span><span class="c1">// MANIPULATORS</span>

<span class="w">    </span><span class="c1">// ACCESSORS</span>

<span class="w">    </span><span class="c1">// HIDDEN FRIENDS</span>
<span class="p">};</span><span class="w"></span>

<span class="c1">// FREE OPERATORS</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="types-sections">
<span id="section-6-3"></span><h3><a class="toc-backref" href="#id26">6.3 Types Sections</a><a class="headerlink" href="#types-sections" title="Permalink to this headline">¶</a></h3>
<dl id="rule-6-3-1">
<dt><em>6.3.1</em></dt><dd><p>Type definitions used to declare private members are the first definitions
that appear in the body of a class. These type definitions may be further
divided into two sections: those that are also intended to be part of the
public interface, and those that are needed only to declare private members.
Note that public types needed only for the declaration of public methods are
declared just prior to the sections for the declaration of public methods.
Each such section should be introduced with an appropriate access control
label and section tag as shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// TYPES</span>
<span class="w">  </span><span class="p">...</span><span class="w"> </span><span class="c1">// public types needed for private members go here</span>

<span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// PRIVATE TYPES</span>
<span class="w">  </span><span class="p">...</span><span class="w"> </span><span class="c1">// private types needed for private members go here</span>

<span class="w">  </span><span class="p">...</span><span class="w"> </span><span class="c1">// all other non-public class member declarations</span>

<span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// TYPES</span>
<span class="w">  </span><span class="p">...</span><span class="w"> </span><span class="c1">// public types needed only for public methods go here</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-6-3-2">
<dt><em>6.3.2</em></dt><dd><p>The documentation for a <code class="docutils literal notranslate"><span class="pre">typedef</span></code> precedes the declaration.  The
documentation should (1) clearly state that the typedef is intended as an
alias, and (2) describe the semantics provided by the alias, that is, how the
alias is intended to be used.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// `SizeType` is an alias for an unsigned value, representing</span>
<span class="c1">/// the size of an object or the number of elements in a range.</span>
<span class="c1">/// `SizeType` occupies one machine word on the underlying platform.</span>
<span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">SizeType</span><span class="p">;</span><span class="w"></span>

<span class="c1">/// Invoked as a result of any non-buffered read method, `ReadCallback`</span>
<span class="c1">/// is an alias for a callback function object (functor) that takes as</span>
<span class="c1">/// an argument an integer status indicating success (0), an incomplete</span>
<span class="c1">/// read (&gt;0), or an error (&lt;0).</span>
<span class="k">typedef</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span><span class="kt">void</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ReadCallback</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="types-section-rules-specific-to-enumerations">
<span id="section-6-4"></span><h3><a class="toc-backref" href="#id27">6.4 Types Section Rules Specific to Enumerations</a><a class="headerlink" href="#types-section-rules-specific-to-enumerations" title="Permalink to this headline">¶</a></h3>
<dl id="rule-6-4-1">
<dt><em>6.4.1</em></dt><dd><p>The recommended name for an enumeration within an enumeration component is
<code class="docutils literal notranslate"><span class="pre">Enum</span></code>. (An enumeration component is a component dedicated to that
enumeration, with public methods that deal only with the mecahnics of the
enumeration such as printing and streaming.) The enumeration component itself
is a <code class="docutils literal notranslate"><span class="pre">struct</span></code> that provides the namespace for the enumeration and follows the
same naming rules as other components (Rule <a class="reference internal" href="#rule-3-1-3"><span class="std std-ref">3.1.3</span></a>).</p>
<p>Otherwise, enumerations within components should be named appropriately, as
defined by convention (Rule <a class="reference internal" href="#rule-3-4-1"><span class="std std-ref">3.4.1</span></a>). An enumeration
existing solely for defining manifest constants within a component need not
be named at all.</p>
</dd>
</dl>
<dl id="rule-6-4-2">
<dt><em>6.4.2</em></dt><dd><p>The name of an enumerator may be prefixed with <code class="docutils literal notranslate"><span class="pre">e_</span></code> or <code class="docutils literal notranslate"><span class="pre">k_</span></code>, and then
shall consist of one or more uppercase words separated by an underscore.  The
<code class="docutils literal notranslate"><span class="pre">e_</span></code> prefix is to be used when the enumerator is part of a related set. The
<code class="docutils literal notranslate"><span class="pre">k_</span></code> prefix is to be used when the enumerator is an architecturally
significant constant (that is, publicly visible in a header file or defined
and used extensively within an implementation file).</p>
<p>An exception may be made for an enumerator which defines the result of a
template metafunction. Following the example of the C++ standard, the
enumerator may be named <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Enumeration component dedicated to `Membership`.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Membership</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">Enum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">e_ATTENDING</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_FORMER</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_LIFETIME</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_RETIRED</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_STUDENT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_SUPPORTING</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">k_NUM_MEMBERSHIP_TYPES</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="c1">/// Component defining several enumerations used in its interface.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">FileOperations</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">OpenMode</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">e_READ</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_WRITE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_APPEND</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>

<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">PermissionClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">e_USER</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_GROUP</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_OTHER</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="c1">/// Enumeration defining a set of manifest constants.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">MagicNumbers</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">k_ELF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f000000</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;E&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;L&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">&#39;F&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">k_GIF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;G&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;I&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;F&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">&#39;8&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">k_JPG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xFFD8FFE0</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">k_PS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;%&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;!&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;P&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">&#39;S&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">k_PDF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;%&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;P&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="sc">&#39;D&#39;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="sc">&#39;F&#39;</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="c1">/// Template metafunction.</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="w"> </span><span class="n">t_INDEX</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Fibonacci</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Fibonacci</span><span class="o">&lt;</span><span class="n">t_INDEX</span><span class="mi">-1</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Fibonacci</span><span class="o">&lt;</span><span class="n">t_INDEX</span><span class="mi">-2</span><span class="o">&gt;::</span><span class="n">value</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Fibonacci</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Fibonacci</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-6-4-3">
<dt><em>6.4.3</em></dt><dd><p>Enumerators should be assigned a value explicitly only if the default
initialization is not appropriate. However, if at least one enumerator is
assigned a value, all enumerators in a given enumeration should be assigned a
value.</p>
</dd>
</dl>
<dl class="simple" id="rule-6-4-4">
<dt><em>6.4.4</em></dt><dd><p>The documentation for an <code class="docutils literal notranslate"><span class="pre">enum</span></code> precedes the declaration.</p>
</dd>
</dl>
<dl class="simple" id="rule-6-4-5">
<dt><em>6.4.5</em></dt><dd><p>The documentation for an <code class="docutils literal notranslate"><span class="pre">enum</span></code> should begin with the phrase “Enumeration
used to …”.</p>
</dd>
</dl>
<dl id="rule-6-4-6">
<dt><em>6.4.6</em></dt><dd><p>Additional documentation may be given for each item in an enumeration.  If
given, it must follow the same form as is used for documenting data members
(Section <a class="reference internal" href="#section-11-3"><span class="std std-ref">11.3</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Pattern</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">/// Enumeration used to distinguish among different stroke</span>
<span class="w">    </span><span class="c1">/// patterns.</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">Enum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">e_SOLID</span><span class="p">,</span><span class="w">     </span><span class="c1">// (___________) solid line</span>
<span class="w">        </span><span class="n">e_DOT</span><span class="p">,</span><span class="w">       </span><span class="c1">// (. . . . . .) dotted line</span>
<span class="w">        </span><span class="n">e_DASH</span><span class="p">,</span><span class="w">      </span><span class="c1">// (_ _ _ _ _ _) dashed line</span>
<span class="w">        </span><span class="n">e_DASHDOT</span><span class="p">,</span><span class="w">   </span><span class="c1">// (_ . _ . _ .) line with dash-dot pattern</span>
<span class="w">        </span><span class="n">e_DASHDOTDOT</span><span class="w"> </span><span class="c1">// (_ . . _ . .) line with dash-dot-dot pattern</span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-6-4-7">
<dt><em>6.4.7</em></dt><dd><p>If there is only one item in an enumeration, the entire declaration may be
written on a single line. If there is more than one item, each item must be
written on a separate line.</p>
<p>Classes and functions are documented with complete sentences. Comments on
data members, similar to the comment on k_DEFAULTCHUNKSIZE, often are not.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Layout</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">k_DEFAULTCHUNKSIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="c1">// brief doc goes here</span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">Type</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">/// General documentation goes here.</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">Enum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">e_INT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_DOUBLE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_STRING</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_LIST</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">e_TABLE</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="data-section">
<span id="section-6-5"></span><h3><a class="toc-backref" href="#id28">6.5 Data Section</a><a class="headerlink" href="#data-section" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-6-5-1">
<dt><em>6.5.1</em></dt><dd><p>Declarations of data members in a class definition must appear in a private
section following the section for type definitions, if any. Each data member
must be documented according to the rules for variable documentation (Section
<a class="reference internal" href="#section-11-4"><span class="std std-ref">11.4</span></a>).</p>
</dd>
</dl>
<dl id="rule-6-5-2">
<dt><em>6.5.2</em></dt><dd><p>Data member declarations may be further divided into sections for static and
non-static data members. The section for static data members, if present,
must appear before the section for non-static data members. The static data
member section must be introduced with the <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">CLASS</span> <span class="pre">DATA</span></code> section comment;
the non-static data member section must be introduced with the <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">DATA</span></code>
section comment. Within each section, the layout must follow the rules for
the layout of variable declarations (Section <a class="reference internal" href="#section-11-3"><span class="std std-ref">11.3</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// CLASS DATA</span>

<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s_staticMember</span><span class="p">;</span><span class="w"> </span><span class="c1">// this is a static member</span>

<span class="w">  </span><span class="c1">// DATA</span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">d_nonStaticMember</span><span class="p">;</span><span class="w">     </span><span class="c1">// this is a non-static member</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-6-5-3">
<dt><em>6.5.3</em></dt><dd><p>In addition to the general naming conventions for all entities (Rule
<a class="reference internal" href="#rule-3-4-1"><span class="std std-ref">3.4.1</span></a>), data members must use the following additional
conventions:</p>
<blockquote>
<div><ul class="simple">
<li><p>Non-static data members begin with the prefix <code class="docutils literal notranslate"><span class="pre">d_</span></code>.</p></li>
<li><p>Static data members begin with the prefix <code class="docutils literal notranslate"><span class="pre">s_</span></code>.</p></li>
<li><p>Any data member that is a pointer ends with the suffix <code class="docutils literal notranslate"><span class="pre">_p</span></code>.</p></li>
</ul>
</div></blockquote>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">_p</span></code> suffix is to be used only for raw pointers. Types such
as <code class="docutils literal notranslate"><span class="pre">ManagedPtr</span></code> and <code class="docutils literal notranslate"><span class="pre">SharedPtr</span></code> are not raw pointers, and data members
having these types should not use the <code class="docutils literal notranslate"><span class="pre">_p</span></code> suffix.</p>
</dd>
</dl>
<dl id="rule-6-5-4">
<dt><em>6.5.4</em></dt><dd><p>If there is a data member to hold a supplied allocator, it should be
declared as the last data member in the class, and must be given the
name <code class="docutils literal notranslate"><span class="pre">d_allocator_p</span></code>.</p>
<blockquote>
<div><p><strong>Note:</strong>  The placement is by convention. Singling the allocator data
member out for special placement seems reasonable because whether or not a
class allocates memory is a very general division, and knowing where to
look to see if there is an allocator data member removes an unnecessary
degree of freedom. Making it <strong>last</strong> forces developers not to rely on it
being initialized. So, in the initialization of other data members that
take allocators, we pass the incoming allocator argument rather than the
<code class="docutils literal notranslate"><span class="pre">d_allocator_p</span></code> data member. If this data member exists but is not placed
last, the reason must be documented.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-6-5-5">
<dt><em>6.5.5</em></dt><dd><p>If a data member is a pointer, the comment text should include a
parenthetical phrase indicating ownership when it is not clear from context.
The parenthetical phrases that may be used are “owned” and “not owned”.</p>
<blockquote>
<div><p><strong>Note:</strong>  In short, if you own a bare pointer, document its lifecycle. If
you do not own a bare pointer, you had better make it clear that the object
pointed to by the bare pointer must have a lifespan that equals or exceeds
the object holding the pointer.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="friends-section">
<span id="section-6-6"></span><h3><a class="toc-backref" href="#id29">6.6 Friends Section</a><a class="headerlink" href="#friends-section" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-6-6-1">
<dt><em>6.6.1</em></dt><dd><p>Declarations of friends that are not hidden friends (Section
<a class="reference internal" href="#section-6-10"><span class="std std-ref">6.10</span></a>) appear following the section for data members,
and must be introduced with the <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">FRIENDS</span></code> section tag.</p>
</dd>
</dl>
<dl class="simple" id="rule-6-6-2">
<dt><em>6.6.2</em></dt><dd><p>Friend declarations must always be private, and must refer only to classes
and functions declared in the same component (Rule
<a class="reference internal" href="#rule-3-2-3"><span class="std std-ref">3.2.3</span></a>).</p>
</dd>
</dl>
</div>
<div class="section" id="method-sections">
<span id="section-6-7"></span><h3><a class="toc-backref" href="#id30">6.7 Method Sections</a><a class="headerlink" href="#method-sections" title="Permalink to this headline">¶</a></h3>
<dl id="rule-6-7-1">
<dt><em>6.7.1</em></dt><dd><p>Within each access control section, methods are divided into separate
categories for</p>
<blockquote>
<div><ul class="simple">
<li><p>static methods (<code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">CLASS</span> <span class="pre">METHODS</span></code>)</p></li>
<li><p>constructors and destructors (<code class="docutils literal notranslate"><span class="pre">//CREATORS</span></code>)</p></li>
<li><p>manipulators (<code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">MANIPULATORS</span></code>)</p></li>
<li><p>accessors (<code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">ACCESSORS</span></code>)</p></li>
</ul>
</div></blockquote>
<p>in that order. Each category for which there is at least one method declared
must begin with the appropriate tag. The tag must be prefixed with
<code class="docutils literal notranslate"><span class="pre">PRIVATE</span></code> when used in a private section.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// PRIVATE CLASS METHODS</span>

<span class="w">  </span><span class="c1">// ...</span>

<span class="w">  </span><span class="c1">// PRIVATE MANIPULATORS</span>

<span class="w">  </span><span class="c1">// ...</span>

<span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// TYPES</span>

<span class="w">  </span><span class="p">...</span><span class="w">  </span><span class="c1">// types used only in the public interface go here</span>

<span class="w">  </span><span class="c1">// CLASS METHODS</span>

<span class="w">  </span><span class="p">...</span><span class="w"></span>

<span class="w">  </span><span class="c1">// CREATORS</span>

<span class="w">  </span><span class="p">...</span><span class="w"></span>

<span class="w">  </span><span class="c1">// MANIPULATORS</span>

<span class="w">  </span><span class="p">...</span><span class="w"></span>

<span class="w">  </span><span class="c1">// ACCESSORS</span>

<span class="w">  </span><span class="p">...</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-6-7-2">
<dt><em>6.7.2</em></dt><dd><p>The section for constructors and destructors, labeled <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">CREATORS</span></code>,
comprises the default constructor, other user-defined constructors, the copy
constructor, and the destructor, in that order. Any or all of these may be
omitted. (See Section <a class="reference internal" href="#section-7-4"><span class="std std-ref">7.4</span></a>.)</p>
</dd>
</dl>
<dl class="simple" id="rule-6-7-3">
<dt><em>6.7.3</em></dt><dd><p>If the assignment operator is defined, it must appear as the first
declaration in the section for manipulators. Other member operators may
follow, prior to any non-operator methods.</p>
</dd>
</dl>
<dl id="rule-6-7-4">
<dt><em>6.7.4</em></dt><dd><p>If the copy constructor and assignment operator are to be disabled, they must
be declared in a separate private section labeled with the tag <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">NOT</span>
<span class="pre">IMPLEMENTED</span></code>, with no other documentation and no parameter names.  For code
that is only required to comply with the C++ 2011 standard or later, the
<code class="docutils literal notranslate"><span class="pre">BSLS_KEYWORD_DELETED</span></code> macro may be replaced by ‘= deleted’.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">  </span><span class="c1">// NOT IMPLEMENTED</span>

<span class="w">  </span><span class="n">MyClass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="n">BSLS_KEYWORD_DELETED</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="n">BSLS_KEYWORD_DELETED</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="method-definitions">
<span id="section-6-8"></span><h3><a class="toc-backref" href="#id31">6.8 Method Definitions</a><a class="headerlink" href="#method-definitions" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-6-8-1">
<dt><em>6.8.1</em></dt><dd><p>If defined at all, the definition for a method must appear in the component
in which it is declared (Rule <a class="reference internal" href="#rule-3-1-5"><span class="std std-ref">3.1.5</span></a>). The definition may
appear in the header file (Section <a class="reference internal" href="#section-4-5"><span class="std std-ref">4.5</span></a>) or in the
implementation file (Section <a class="reference internal" href="#section-5"><span class="std std-ref">5</span></a>).</p>
</dd>
</dl>
<dl class="simple" id="rule-6-8-2">
<dt><em>6.8.2</em></dt><dd><p>Methods, whether public or private, must not be <em>defined</em> inside the
text of a class definition, except for hidden friends (Section
<a class="reference internal" href="#section-6-10"><span class="std std-ref">6.10</span></a>) or within a local class definition.</p>
</dd>
</dl>
<dl class="simple" id="rule-6-8-3">
<dt><em>6.8.3</em></dt><dd><p>Method definitions for a particular class must be grouped together following
a class implementation banner. The class implementation banner is indented
just as for a class definition banner (Rule <a class="reference internal" href="#rule-6-1-3"><span class="std std-ref">6.1.3</span></a>);
however, the class implementation banner uses single-dashed lines, rather
than the double-dashed lines used for the class definition.</p>
</dd>
</dl>
<dl id="rule-6-8-4">
<dt><em>6.8.4</em></dt><dd><p>Following the class implementation banner, the method definitions must be
separated into categories and demarcated by category tags, just as is done
for declarations in the class definition (Section <a class="reference internal" href="#section-6-7"><span class="std std-ref">6.7</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">                             </span><span class="c1">// -------------</span>
<span class="w">                             </span><span class="c1">// class MyClass</span>
<span class="w">                             </span><span class="c1">// -------------</span>

<span class="c1">// CREATORS</span>

<span class="p">...</span><span class="w">  </span><span class="c1">// creator method definitions go here</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-6-8-5">
<dt><em>6.8.5</em></dt><dd><p>Each method must be defined in the same relative order in which it was
declared in the class definition.</p>
</dd>
</dl>
<dl id="rule-6-8-6">
<dt><em>6.8.6</em></dt><dd><p>A method must be defined using the same parameter and type names with
which it was declared, except when the parameter is unused in the
implementation, in which case the parameter name should be omitted in
the signature of the definition.</p>
<blockquote>
<div><p><strong>Note:</strong>  The omission of parameter names when they are not used will
avoid compiler warnings of unused variables on some platforms.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="free-operators">
<span id="section-6-9"></span><h3><a class="toc-backref" href="#id32">6.9 Free Operators</a><a class="headerlink" href="#free-operators" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-6-9-1">
<dt><em>6.9.1</em></dt><dd><p>A component may define a free operator only when a type defined in the
same component is used as the type of a parameter in the function
signature. (Note that the return type is not part of the signature.)
These operators are said to be <em>associated</em> with the class. They are
typically comparison and output operators, but sometimes also arithmetic
operators.</p>
</dd>
</dl>
<dl id="rule-6-9-2">
<dt><em>6.9.2</em></dt><dd><p>If a class has associated free operators, the following rules apply, except
in the case of free operators that are defined as hidden friends (Section
<a class="reference internal" href="#section-6-10"><span class="std std-ref">6.10</span></a>):</p>
<blockquote>
<div><ul class="simple">
<li><p>The free operators must be <em>declared</em> in a section immediately
following the class definition.</p></li>
<li><p>If they are to be inlined, the free operators must be <em>defined</em> in a
section immediately following the close of the package namespace.</p></li>
<li><p>The category tag for free operators is <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">FREE</span> <span class="pre">OPERATORS</span></code>.</p></li>
</ul>
<p><strong>Note:</strong>  Inline free operators are defined outside of the package
namespace in order to prevent inadvertent self-declaration.</p>
<p><strong>Example:</strong>  The example below illustrates this pattern:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span><span class="w"> </span><span class="nn">BloombergLP</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="k">namespace</span><span class="w"> </span><span class="nn">mypkg</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="c1">/// This `class` ...</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyClass</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="c1">// FREE OPERATORS</span>

<span class="c1">/// Return `true` if ...</span>
<span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span><span class="w"></span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close package namespace</span>

<span class="c1">// FREE OPERATORS</span>
<span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">mypkg</span><span class="o">::</span><span class="k">operator</span><span class="o">!=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">MyClass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="p">(</span><span class="n">lhs</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">}</span><span class="w">  </span><span class="c1">// close enterprise namespace</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="hidden-friends">
<span id="section-6-10"></span><h3><a class="toc-backref" href="#id33">6.10 Hidden Friends</a><a class="headerlink" href="#hidden-friends" title="Permalink to this headline">¶</a></h3>
<dl id="rule-6-10-1">
<dt><em>6.10.1</em></dt><dd><p>A <em>hidden friend</em> is a <code class="docutils literal notranslate"><span class="pre">friend</span></code> function (possibly templated) whose
definition appears inline within a class definition and that is not declared
anywhere else.</p>
<p>A <em>customization point function</em> is a non-member function that is overloaded
in order to implement functionality specific to a type.  Non-member
overloaded operators (e.g., <code class="docutils literal notranslate"><span class="pre">operator==</span></code>), <code class="docutils literal notranslate"><span class="pre">hashAppend</span></code>, and non-member
<code class="docutils literal notranslate"><span class="pre">swap</span></code> are examples of customization point functions.</p>
<p>Customization point functions may be (but are not required to be) defined as
hidden friends.  Functions other than customization point functions shall not
be defined as hidden friends.</p>
<p><strong>Note:</strong>  Friend functions that are not hidden friends shall not be defined
within the class definition.</p>
</dd>
</dl>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-6-10-1-rationale"><span class="std std-ref">[rationale]</span></a></p></td>
</tr>
</tbody>
</table>
<dl class="simple" id="rule-6-10-2">
<dt><em>6.10.2</em></dt><dd><p>Hidden friend definitions must always be in the public section and must be
introduced with the <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">HIDDEN</span> <span class="pre">FRIENDS</span></code> section comment, following the
section for public methods.</p>
</dd>
</dl>
<dl id="rule-6-10-3">
<dt><em>6.10.3</em></dt><dd><p>A hidden friend defined in a class <code class="docutils literal notranslate"><span class="pre">C</span></code> shall have at least one function
parameter that has <code class="docutils literal notranslate"><span class="pre">C</span></code> as an associated type.  Typically, this requirement
is met by having at least one parameter of type <code class="docutils literal notranslate"><span class="pre">C</span></code> or reference to <code class="docutils literal notranslate"><span class="pre">C</span></code>.</p>
<p><strong>Example:</strong>  The definition of class <code class="docutils literal notranslate"><span class="pre">C</span></code> may contain a definition of
<code class="docutils literal notranslate"><span class="pre">bsl::ostream&amp;</span> <span class="pre">operator&lt;&lt;(bsl::ostream&amp;,</span> <span class="pre">const</span> <span class="pre">C&amp;)</span></code> as a hidden friend.</p>
<p><strong>Note:</strong> A hidden friend that does not satisfy this requirement is invisible
to name lookup, and, therefore, is impossible to call.</p>
</dd>
</dl>
<dl id="rule-6-10-4">
<dt><em>6.10.4</em></dt><dd><p>Because hidden friends are always defined within the class definition, they
are not subject to Rule <a class="reference internal" href="#rule-6-8-2"><span class="std std-ref">6.8.2</span></a>.  However, to minimize
deviation from that rule, the body of a hidden friend definition should have
one of the following forms.</p>
<blockquote>
<div><ul class="simple">
<li><p>Delegation to a function with the same signature, passing all arguments
to that function unchanged and returning the result of that function
unchanged, except for idiomatic adjustments (e.g., implementing
<code class="docutils literal notranslate"><span class="pre">operator!=</span></code> by applying <code class="docutils literal notranslate"><span class="pre">!</span></code> to the result of a function that is used
to implement <code class="docutils literal notranslate"><span class="pre">operator==</span></code>); see
<a class="reference internal" href="#rule-6-10-4-rationale"><span class="std std-ref">rationale</span></a>.  If private access is not
needed to implement the hidden friend, this function should be in a
utility class; otherwise, it should be a private member.</p></li>
<li><p>Trivial (e.g. being empty or returning a constant).</p></li>
<li><p>An idiomatic implementation for the particular customization point that
is being implemented.</p></li>
</ul>
</div></blockquote>
<p>In all cases, delegation should be preferred over having an implementation
whose length interferes with the readability of the class definition.</p>
<p><strong>Note:</strong> A hidden friend is still a declaration in addition to being a
definition, and thus must be documented in accordance with Section
<a class="reference internal" href="#section-10"><span class="std std-ref">10</span></a>.</p>
<p><strong>Example 1:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Point</span><span class="p">;</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">PointUtil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">/// Store into the specified `p` a `Point` value read from the</span>
<span class="w">    </span><span class="c1">/// specified stream `is`.  On failure, the value of `p` is</span>
<span class="w">    </span><span class="c1">/// unspecified.</span>
<span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_TYPE</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">readFromStream</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">istream</span><span class="o">&amp;</span><span class="w"> </span><span class="n">is</span><span class="p">,</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">);</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_TYPE</span><span class="o">&gt;</span><span class="w"></span>
<span class="k">class</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="c1">// DATA</span>

<span class="w">    </span><span class="n">t_TYPE</span><span class="w"> </span><span class="n">d_x</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">t_TYPE</span><span class="w"> </span><span class="n">d_y</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="c1">// MANIPULATORS</span>

<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// ACCESSORS</span>

<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="n">bsl</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span><span class="w"> </span><span class="n">os</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="kt">int</span><span class="w">           </span><span class="n">level</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="kt">int</span><span class="w">           </span><span class="n">spacesPerLevel</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// HIDDEN FRIENDS</span>

<span class="w">    </span><span class="c1">/// Exchange the values of the specified `lhs` and `rhs`.</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">swap</span><span class="p">(</span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// idiomatic invocation of &#39;swap&#39; (via argument-dependent lookup)</span>
<span class="w">        </span><span class="c1">// on all salient members</span>
<span class="w">        </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">swap</span><span class="p">(</span><span class="n">lhs</span><span class="p">.</span><span class="n">d_x</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">d_x</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">swap</span><span class="p">(</span><span class="n">lhs</span><span class="p">.</span><span class="n">d_y</span><span class="p">,</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">d_y</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="c1">/// Return `true` if the specified `lhs` and `rhs` are equal, and</span>
<span class="w">    </span><span class="c1">/// `false` otherwise.</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// conjunction of applying &#39;==&#39; to all salient members</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">lhs</span><span class="p">.</span><span class="n">d_x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">d_x</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">.</span><span class="n">d_y</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">rhs</span><span class="p">.</span><span class="n">d_y</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="c1">/// Write the value of the specified `p` to the specified stream</span>
<span class="w">    </span><span class="c1">/// `os` in a single-line format, and return a non-`const`</span>
<span class="w">    </span><span class="c1">/// reference to `os`.</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">ostream</span><span class="o">&amp;</span><span class="w"> </span><span class="n">os</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// idiomatic use of pre-existing public method</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">os</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">-1</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="c1">/// Store into the specified `p` a `Point` value read from the</span>
<span class="w">    </span><span class="c1">/// specified stream `is`, and return a non-`const` reference to</span>
<span class="w">    </span><span class="c1">/// `is`.  On failure, the value of `p` is unspecified.</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">istream</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">&gt;&gt;</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">istream</span><span class="o">&amp;</span><span class="w"> </span><span class="n">is</span><span class="p">,</span><span class="w"> </span><span class="n">Point</span><span class="o">&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// delegation to a utility class method with the same parameter</span>
<span class="w">        </span><span class="c1">// types</span>
<span class="w">        </span><span class="n">PointUtil</span><span class="o">::</span><span class="n">readFromStream</span><span class="p">(</span><span class="n">is</span><span class="p">,</span><span class="w"> </span><span class="n">p</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">is</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Example 2:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">BigNum</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">private</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="c1">// DATA</span>

<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// PRIVATE MANIPULATORS</span>

<span class="w">    </span><span class="c1">/// Add to `*this` the value of the specified `rhs`.</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">BigNum</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="k">public</span><span class="o">:</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>

<span class="w">    </span><span class="c1">// HIDDEN FRIENDS</span>

<span class="w">    </span><span class="c1">/// Return the sum of the specified `lhs` and `rhs`.</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="n">BigNum</span><span class="w"> </span><span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">BigNum</span><span class="o">&amp;</span><span class="w"> </span><span class="n">lhs</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">BigNum</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rhs</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// idiomatic implementation of binary &#39;operator+&#39;</span>
<span class="w">        </span><span class="n">BigNum</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lhs</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">result</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">rhs</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</dd>
</dl>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-6-10-4-rationale"><span class="std std-ref">[rationale]</span></a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="method-design-and-implementation">
<span id="section-7"></span><h2><a class="toc-backref" href="#id34">7 Method Design and Implementation</a><a class="headerlink" href="#method-design-and-implementation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="naming-conventions">
<span id="section-7-1"></span><h3><a class="toc-backref" href="#id35">7.1 Naming Conventions</a><a class="headerlink" href="#naming-conventions" title="Permalink to this headline">¶</a></h3>
<dl id="rule-7-1-1">
<dt><em>7.1.1</em></dt><dd><p>Manipulators must be named using a verb phrase.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// MANIPULATORS</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">removeAll</span><span class="p">();</span><span class="w"></span>

<span class="c1">// ACCESSORS</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">loadHolidays</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*</span><span class="n">businessDays</span><span class="p">,</span><span class="w"></span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w">        </span><span class="n">firstDate</span><span class="p">,</span><span class="w"></span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w">        </span><span class="n">lastDate</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-1-2">
<dt><em>7.1.2</em></dt><dd><p>Accessors may be named without a verb phrase if they meet the following
criteria:</p>
<blockquote>
<div><ul class="simple">
<li><p>they do not alter any observable state</p></li>
<li><p>they are relatively inexpensive to invoke</p></li>
</ul>
</div></blockquote>
<p>Such methods must take only non-modifiable parameters. Methods that do
not modify any observable state may still use a verb phrase to suggest a
non-trivial cost.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="w"> </span><span class="nf">firstDate</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>

<span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="w"> </span><span class="nf">lastDate</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>

<span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="w"> </span><span class="nf">getNextBusinessDay</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="n">initialDate</span><span class="p">,</span><span class="w"></span>
<span class="w">                              </span><span class="kt">int</span><span class="w">               </span><span class="n">numDays</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ... uses a verb phrase because of its non-trivial const</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-1-3">
<dt><em>7.1.3</em></dt><dd><p>Methods that access attribute values must use the attribute name alone.
Methods that set attribute values must be prefixed with <code class="docutils literal notranslate"><span class="pre">set</span></code>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// MANIPULATORS</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setCategory</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">category</span><span class="p">);</span><span class="w"></span>

<span class="c1">// ACCESSORS</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">category</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-1-4">
<dt><em>7.1.4</em></dt><dd><p>Methods that access an attribute whose value can be one of multiple
types determined at runtime may begin with the prefix <code class="docutils literal notranslate"><span class="pre">the</span></code>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Choice</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="o">&amp;</span><span class="w">        </span><span class="nf">theBool</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="o">&amp;</span><span class="w">         </span><span class="nf">theInt</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="nf">theString</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="interface-conventions">
<span id="section-7-2"></span><h3><a class="toc-backref" href="#id36">7.2 Interface Conventions</a><a class="headerlink" href="#interface-conventions" title="Permalink to this headline">¶</a></h3>
<dl id="rule-7-2-1">
<dt><em>7.2.1</em></dt><dd><p>Function arguments are categorized as one of the following:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>outputs</strong></p></td>
<td><dl class="simple">
<dt>arguments that are potentially</dt><dd><p>modified to hold results, or that
indicate some information about
the output; this includes in/out
arguments</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><strong>inputs</strong></p></td>
<td><dl class="simple">
<dt>arguments that contain data to be</dt><dd><p>processed</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><strong>parameters</strong></p></td>
<td><dl class="simple">
<dt>arguments that control <em>how</em> data</dt><dd><p>is to be processed</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-2-2">
<dt><em>7.2.2</em></dt><dd><p>Arguments in a function signature must be specified in the following order:
outputs, inputs, then parameters.</p>
<blockquote>
<div><p><strong>Note:</strong>  A canonical form for function signatures limits arbitrary
freedom in the specification of a function, and increases predictability in
usage.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-7-2-3">
<dt><em>7.2.3</em></dt><dd><p>Inputs and parameters should be passed by value for fundamental, enumerated,
and pointer types, and by non-modifiable reference otherwise. An argument
must be passed by pointer if its address is retained beyond the end of the
function call.</p>
</dd>
</dl>
<dl class="simple" id="rule-7-2-4">
<dt><em>7.2.4</em></dt><dd><p>Outputs must be passed by pointer, never by modifiable reference (except
where required for consistency with an externally-defined API).</p>
</dd>
</dl>
<dl id="rule-7-2-5">
<dt><em>7.2.5</em></dt><dd><p>Optional arguments follow required arguments in the same relative order.</p>
<blockquote>
<div><p><strong>Example:</strong>  This example, showing the inclusion of optional arguments, is
from <code class="docutils literal notranslate"><span class="pre">bcec::TimeQueue</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">popLE</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">TimeQueueItem</span><span class="o">&lt;</span><span class="n">TYPE</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w">          </span><span class="c1">// output</span>
<span class="w">           </span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">TimeInterval</span><span class="o">&amp;</span><span class="w">          </span><span class="n">time</span><span class="p">,</span><span class="w">            </span><span class="c1">// param</span>
<span class="w">           </span><span class="kt">int</span><span class="w">                                </span><span class="n">maxTimers</span><span class="p">,</span><span class="w">       </span><span class="c1">// param</span>
<span class="w">           </span><span class="kt">int</span><span class="w">                               </span><span class="o">*</span><span class="n">newLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="c1">// opt.out</span>
<span class="w">           </span><span class="n">bdlt</span><span class="o">::</span><span class="n">TimeInterval</span><span class="w">                </span><span class="o">*</span><span class="n">newMinTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// opt.out</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-2-6">
<dt><em>7.2.6</em></dt><dd><p>Arguments that are tightly bound to the output may be treated as output
arguments, rather than parameters, even though they are not modified.</p>
<blockquote>
<div><p><strong>Example:</strong>  The <code class="docutils literal notranslate"><span class="pre">dstIndex</span></code> parameter below is a parameter that
specifies which portion of this queue will be overwritten; it is therefore
treated as an output argument.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="kt">int</span><span class="w">                </span><span class="n">dstIndex</span><span class="p">,</span><span class="w">      </span><span class="c1">// output</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="n">Queue</span><span class="o">&lt;</span><span class="n">TYPE</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">srcQueue</span><span class="p">,</span><span class="w">      </span><span class="c1">// input</span>
<span class="w">            </span><span class="kt">int</span><span class="w">                </span><span class="n">srcIndex</span><span class="p">,</span><span class="w">      </span><span class="c1">// input</span>
<span class="w">            </span><span class="kt">int</span><span class="w">                </span><span class="n">numElements</span><span class="p">);</span><span class="w">  </span><span class="c1">// parameter</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-2-7">
<dt><em>7.2.7</em></dt><dd><p>The optional allocator parameter must be passed in the last position (except
in the case of function templates having overloads that take a variable
number of generic arguments, in which case the allocator should be the first
argument and made optional by an additional overload).</p>
<blockquote>
<div><p><strong>Example:</strong>  The allocator in its preferred position:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Queue</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">Queue</span><span class="p">(</span><span class="n">bslma</span><span class="o">::</span><span class="n">Allocator</span><span class="w"> </span><span class="o">*</span><span class="n">basicAllocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">Queue</span><span class="p">(</span><span class="kt">int</span><span class="w">               </span><span class="n">initialLength</span><span class="p">,</span><span class="w"></span>
<span class="w">                   </span><span class="n">bslma</span><span class="o">::</span><span class="n">Allocator</span><span class="w"> </span><span class="o">*</span><span class="n">basicAllocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">Queue</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">initialLength</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TYPE</span><span class="o">&amp;</span><span class="w">  </span><span class="n">initialValue</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">bslma</span><span class="o">::</span><span class="n">Allocator</span><span class="w">               </span><span class="o">*</span><span class="n">basicAllocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Example:</strong>  The allocator is the first argument here to avoid overloading
ambiguity that would otherwise result:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">BindUtil</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">/// ...</span>
<span class="w">    </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_FUNC</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"></span>
<span class="w">    </span><span class="n">ReturnTypeUnspecified</span><span class="w"> </span><span class="n">bindA</span><span class="p">(</span><span class="n">bslma</span><span class="o">::</span><span class="n">Allocator</span><span class="w"> </span><span class="o">*</span><span class="n">basicAllocator</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="n">t_FUNC</span><span class="p">);</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="function-signatures">
<span id="section-7-3"></span><h3><a class="toc-backref" href="#id37">7.3 Function Signatures</a><a class="headerlink" href="#function-signatures" title="Permalink to this headline">¶</a></h3>
<dl id="rule-7-3-1">
<dt><em>7.3.1</em></dt><dd><p>A function signature, including all of its parameters, must be written on a
single line if possible (Rule <a class="reference internal" href="#rule-11-1-3"><span class="std std-ref">11.1.3</span></a>), but see the
exception for overloaded functions (Rule <a class="reference internal" href="#rule-7-3-5"><span class="std std-ref">7.3.5</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">loadBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-3-2">
<dt><em>7.3.2</em></dt><dd><p>If a function signature cannot fit on a single line, then it must be
written with one parameter per line. The parameters must be written
following the rule for when declarations appear on consecutive lines
(Section <a class="reference internal" href="#section-11-3"><span class="std std-ref">11.3</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">loadBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w">                </span><span class="o">*</span><span class="n">result</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="kt">int</span><span class="w">                 </span><span class="n">index</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w">  </span><span class="n">attribute</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-3-3">
<dt><em>7.3.3</em></dt><dd><p>The first parameter in a multi-line parameter list should be written on the
same line as the function name. If the function name or the parameter is too
long, then the first parameter may be started on a separate line, indented
such that the longest line in the parameter list is right-justified to the
79th column.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">bdlat</span><span class="o">::</span><span class="n">AttributeInfo</span><span class="w"> </span><span class="o">*</span><span class="nf">lookupAttributeInfo</span><span class="p">(</span><span class="w"></span>
<span class="w">                                                   </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"></span>
<span class="w">                                                   </span><span class="kt">int</span><span class="w">         </span><span class="n">nameLength</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-3-4">
<dt><em>7.3.4</em></dt><dd><p>If the combination of the return type, class name, and function name are
too long to fit on one line, they may be written on separate lines with
no indentation.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_STREAM_BUF</span><span class="o">&gt;</span><span class="w"></span>
<span class="kr">inline</span><span class="w"></span>
<span class="n">GenericByteInStream</span><span class="o">&lt;</span><span class="n">t_STREAM_BUF</span><span class="o">&gt;&amp;</span><span class="w"></span>
<span class="n">GenericByteInStream</span><span class="o">&lt;</span><span class="n">t_STREAM_BUF</span><span class="o">&gt;::</span><span class="n">getInt40</span><span class="p">(</span><span class="n">bsls</span><span class="o">::</span><span class="n">Types</span><span class="o">::</span><span class="n">Int64</span><span class="o">&amp;</span><span class="w"> </span><span class="n">variable</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-3-5">
<dt><em>7.3.5</em></dt><dd><p>When multiple function overloads share the same function documentation, and
at least one of the overloads requires a multi-line parameter list, all of
the functions in the group must be written using a multi-line parameter list,
and aligned accordingly.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">loadBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w">                </span><span class="o">*</span><span class="n">result</span><span class="p">);</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loadBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w">                </span><span class="o">*</span><span class="n">result</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="kt">int</span><span class="w">                 </span><span class="n">index</span><span class="p">);</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loadBuffer</span><span class="p">(</span><span class="kt">int</span><span class="w">                </span><span class="o">*</span><span class="n">result</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="kt">int</span><span class="w">                 </span><span class="n">index</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w">  </span><span class="n">attribute</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-3-6">
<dt><em>7.3.6</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">virtual</span></code> keyword must be used only for declarations of <em>new</em> virtual
functions.  A function overriding a virtual function from a base class must
be marked with <code class="docutils literal notranslate"><span class="pre">BSLS_KEYWORD_OVERRIDE</span></code> immediately after the member
function declarator.  For code that is only required to comply with the C++
2011 standard or later, the <code class="docutils literal notranslate"><span class="pre">override</span></code> specifier may be used instead of
<code class="docutils literal notranslate"><span class="pre">BSLS_KEYWORD_OVERRIDE</span></code>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Acceptor</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">listen</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">port</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">isListening</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">class</span><span class="w"> </span><span class="nc">SampleAcceptor</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Acceptor</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">listen</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">port</span><span class="p">)</span><span class="w"> </span><span class="n">BSLS_KEYWORD_OVERRIDE</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">isListening</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">BSLS_KEYWORD_OVERRIDE</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-7-3-6-rationale"><span class="std std-ref">[rationale]</span></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="special-rules-for-creators">
<span id="section-7-4"></span><h3><a class="toc-backref" href="#id38">7.4 Special Rules for Creators</a><a class="headerlink" href="#special-rules-for-creators" title="Permalink to this headline">¶</a></h3>
<dl id="rule-7-4-1">
<dt><em>7.4.1</em></dt><dd><p>The parameter of a copy constructor must be called <code class="docutils literal notranslate"><span class="pre">original</span></code>. See also
Rule <a class="reference internal" href="#rule-10-1-6"><span class="std std-ref">10.1.6</span></a> for the standard function-level
documentation for a copy constructor.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">Date</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="n">original</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-4-2">
<dt><em>7.4.2</em></dt><dd><p>All constructors (other than copy constructors) callable with exactly one
parameter must be declared <code class="docutils literal notranslate"><span class="pre">explicit</span></code>, unless there is a compelling reason
to do otherwise. If there is such a reason, it must be documented in the
function-level documentation (e.g., using “Note that…”), and marked with an
<code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">IMPLICIT</span></code> comment, as shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">StringRef</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">);</span><span class="w"> </span><span class="c1">// IMPLICIT</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-7-4-3">
<dt><em>7.4.3</em></dt><dd><p>All constructors of a class that requires dynamic allocation must have a
parameter of type pointer to <code class="docutils literal notranslate"><span class="pre">bslma::Allocator</span></code> in the final position.
(See Rule <a class="reference internal" href="#rule-7-2-7"><span class="std std-ref">7.2.7</span></a> for more about placement, and Rule
<a class="reference internal" href="#rule-10-1-4"><span class="std std-ref">10.1.4</span></a> for more about documenting it.) The argument may
accept a value of 0 to indicate that the default allocator should be used.
This value may be supplied as a default for the argument.</p>
</dd>
</dl>
<dl id="rule-7-4-4">
<dt><em>7.4.4</em></dt><dd><p>The declarations (and definitions) for certain methods may be omitted to
allow the compiler to generate them as needed. This choice is visibly
documented by adding to the function signature a <code class="docutils literal notranslate"><span class="pre">//!</span></code> prefix and a <code class="docutils literal notranslate"><span class="pre">=</span>
<span class="pre">default</span></code> suffix. If the signature spans more than one line, the entire
declaration must be commented out using the aforementioned special prefix.</p>
<blockquote>
<div><p><strong>Note:</strong>  The <code class="docutils literal notranslate"><span class="pre">//!</span></code> prefix comments out the signature, but leaves it
there for documentation purposes. The suggested suffix is inspired by the
default constructor syntax defined in the C++ 2011 standard.</p>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Destroy this object.</span>
<span class="c1">//! ~MyClass() = default;</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-7-4-5">
<dt><em>7.4.5</em></dt><dd><p>Compiler-generated methods that should be omitted in regular and optimized
builds may be conditionally declared for safe-mode builds.</p>
<blockquote>
<div><p><strong>Example:</strong>  A destructor that checks invariants can be enabled only in a
safe-build mode.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#if defined(BSLS_ASSERT_SAFE_IS_ACTIVE)</span>
<span class="w">    </span><span class="c1">// The following destructor is generated by the compiler, except</span>
<span class="w">    </span><span class="c1">// in ``SAFE`` build modes to enable the checking of class</span>
<span class="w">    </span><span class="c1">// invariants.</span>

<span class="w">    </span><span class="c1">/// Destroy this object.</span>
<span class="w">    </span><span class="o">~</span><span class="n">MyClass</span><span class="p">();</span><span class="w"></span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-7-4-6">
<dt><em>7.4.6</em></dt><dd><p>Constructors must initialize members using an initialization list if at all
possible to do so. Assignment should not be used.</p>
</dd>
</dl>
<dl id="rule-7-4-7">
<dt><em>7.4.7</em></dt><dd><p>Constructors must list member initializers in the same order in which they
were declared. A constructor should not rely on the order of the declarations
of data members for initialization; specifically, a constructor should not
use the value of one initialized member to initialize another member without
a compelling reason.</p>
<blockquote>
<div><p><strong>Note:</strong>  Data members are initialized in the order in which they are
declared, regardless of the order in which they appear in the
initialization list.  Using one data member to initialize another can cause
hard-to-detect bugs should the members subsequently be reordered.</p>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="component-level-documentation">
<span id="section-8"></span><h2><a class="toc-backref" href="#id39">8 Component-Level Documentation</a><a class="headerlink" href="#component-level-documentation" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Component-level documentation appears in the header file, immediately
following the prologue (Rule <a class="reference internal" href="#rule-4-1-2"><span class="std std-ref">4.1.2</span></a>). Component-level
documentation should describe the component in sufficient detail to make its
purpose, functionality, and usage clear.</p>
</div></blockquote>
<div class="section" id="comment-fields">
<span id="section-8-1"></span><h3><a class="toc-backref" href="#id40">8.1 Comment Fields</a><a class="headerlink" href="#comment-fields" title="Permalink to this headline">¶</a></h3>
<dl id="rule-8-1-1">
<dt><em>8.1.1</em></dt><dd><p>Component-level documentation is organized as a sequence of tagged comment
fields. The following comment tags must be used to introduce each of the
comment fields:</p>
<p><code class="docutils literal notranslate"><span class="pre">//&#64;PURPOSE:</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//&#64;CLASSES:</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//&#64;MACROS:</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//&#64;SEE_ALSO:</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//&#64;DESCRIPTION:</span></code></p>
<p>All fields other than <code class="docutils literal notranslate"><span class="pre">&#64;SEE_ALSO</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;MACROS</span></code> are required, and must
appear in the order shown above.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@PURPOSE: ...</span>
<span class="c1">//</span>
<span class="c1">//@CLASSES:</span>
<span class="c1">//  MyClass: ...</span>
<span class="c1">// ...</span>
<span class="c1">//</span>
<span class="c1">//@SEE_ALSO: another_component</span>
<span class="c1">//</span>
<span class="c1">//@DESCRIPTION: ...</span>
<span class="c1">// ...</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-8-1-2">
<dt><em>8.1.2</em></dt><dd><p>Each comment field must be introduced with the indicated tag and formatted as
specified in the following rules. Each tag must begin on a new line and,
other than for the first tag, must be preceded by a commented blank line
(i.e., a line with only a comment prefix).</p>
</dd>
</dl>
<dl id="rule-8-1-3">
<dt><em>8.1.3</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">&#64;PURPOSE</span></code> field should provide a succinct description of the component
as a whole. The purpose must be written as an imperative sentence, with the
first letter capitalized and ending with a period.  The purpose must fit on a
single line. For class-specific nomenclature, see Rule <a class="reference internal" href="#rule-9-1"><span class="std std-ref">9.1</span></a>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@PURPOSE: Provide an efficient repository of holiday data.</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-8-1-4">
<dt><em>8.1.4</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">&#64;CLASSES</span></code> field must provide a list of only the externally visible
classes in the component. Each class must be listed in the order in which it
is declared in the file. Each item in the list consists of the name of the
class, followed by a colon, followed by a brief description of the class. The
description is written as a noun phrase, without capitalization or a final
period. Each item in the list must appear on its own line and be indented two
spaces.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@CLASSES:</span>
<span class="c1">//  bdlt::Date: value-semantic Gregorian date type consistent with Unix</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-8-1-5">
<dt><em>8.1.5</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">&#64;MACROS</span></code> field is used only when a major feature of the component is
used via macros. The format of a <code class="docutils literal notranslate"><span class="pre">&#64;MACROS</span></code> field mirrors that of the
<code class="docutils literal notranslate"><span class="pre">&#64;CLASSES</span></code> field, where the macro name is given in the place of the class
name. The presence of a <code class="docutils literal notranslate"><span class="pre">&#64;MACROS</span></code> field does not obviate the need of the
<code class="docutils literal notranslate"><span class="pre">&#64;CLASSES</span></code> field; the <code class="docutils literal notranslate"><span class="pre">&#64;CLASSES</span></code> field is required even if it is empty.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@CLASSES:</span>
<span class="c1">//</span>
<span class="c1">//@MACROS:</span>
<span class="c1">//  BSLMF_ASSERT: compile-time assert macro</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-8-1-6">
<dt><em>8.1.6</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">&#64;SEE_ALSO</span></code> field may be used to provide the names of related
components. The component names should be given in alphabetical order and
separated by commas. The field may span multiple lines, but subsequent lines
must be indented by two spaces.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@SEE_ALSO: bdlt_date, bdlt_packedcalendar</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="description">
<span id="section-8-2"></span><h3><a class="toc-backref" href="#id41">8.2 Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h3>
<dl id="rule-8-2-1">
<dt><em>8.2.1</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">&#64;DESCRIPTION</span></code> field must provide an overview of the functionality of
the component as a whole, with sufficient detail to explain when and how the
component would best be used. The description need not be exhaustive. The
text of the description must begin on the same line as the tag, following the
colon and a single space. Subsequent lines are indented one space. Additional
paragraphs are separated by a commented blank line.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@DESCRIPTION: This component provides a single, simply constrained</span>
<span class="c1">// attribute class, `baltzo::LocalTimeDescriptor`, that is used to</span>
<span class="c1">// characterize subsets of local time values within time zones. Note</span>
<span class="c1">// that this class is consistent with the &quot;local-time types&quot; found in</span>
<span class="c1">// the &quot;ZoneInfo&quot; representation of a time zone.</span>
</pre></div>
</div>
<p><strong>Note:</strong> The description is, to a certain extent, introductory, and serves
to aid the user in selecting and understanding the component in the context
of the user’s own needs. The full contract is described at the function
level.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-8-2-2">
<dt><em>8.2.2</em></dt><dd><p>The description field may have subsections that describe specific features of
the component or specific aspects of the problem domain addressed by the
component. The author should add subsections as needed for clarity.
Subsection headings should be indicated using the markup described in Rule
<a class="reference internal" href="#rule-12-3-1"><span class="std std-ref">12.3.1</span></a>.</p>
<blockquote>
<div><p><strong>Example:</strong>  Possible subsection headings might be as general as
<code class="docutils literal notranslate"><span class="pre">Performance</span></code> or <code class="docutils literal notranslate"><span class="pre">Thread</span> <span class="pre">Safety</span></code> , or specific to the particular
component, such as <code class="docutils literal notranslate"><span class="pre">Allocators</span> <span class="pre">Versus</span> <span class="pre">Pools</span></code>.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="usage">
<span id="section-8-3"></span><h3><a class="toc-backref" href="#id42">8.3 Usage</a><a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-8-3-1">
<dt><em>8.3.1</em></dt><dd><p>A description must include a usage subsection. The usage subsection must be
the last subsection in the description. The usage subsection should provide
example code fragments and output to illustrate typical usage and behavior of
the component.</p>
</dd>
</dl>
<dl id="rule-8-3-2">
<dt><em>8.3.2</em></dt><dd><p>The paragraph following the usage subsection header must read as follows:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// This section illustrates intended use of this component.</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-8-3-3">
<dt><em>8.3.3</em></dt><dd><p>Each usage example must be given in a separate sub-subsection of the usage
subsection. Each example heading must begin with <code class="docutils literal notranslate"><span class="pre">Example</span> <span class="pre">N</span></code>, where N is
the example number, starting at 1. The example number must be followed by a
colon, then the title of the example.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">///Usage</span>
<span class="c1">///-----</span>
<span class="c1">// This section illustrates intended use of this component.</span>
<span class="c1">//</span>
<span class="c1">///Example 1: Converting Between UTC and Local Times</span>
<span class="c1">///- - - - - - - - - - - - - - - - - - - - - - - - -</span>
<span class="c1">// When using the &quot;ZoneInfo&quot; database, we want to ...</span>
</pre></div>
</div>
<p><strong>Note:</strong> See Rule <a class="reference internal" href="#rule-12-3-1"><span class="std std-ref">12.3.1</span></a> for the details of creating
sub-headings.</p>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="class-level-documentation">
<span id="section-9"></span><h2><a class="toc-backref" href="#id43">9 Class-Level Documentation</a><a class="headerlink" href="#class-level-documentation" title="Permalink to this headline">¶</a></h2>
<dl id="rule-9-1">
<dt><em>9.1</em></dt><dd><p>Class-level documentation precedes the class definition. The
description should</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>classify the class</p></li>
<li><p>concisely state the purpose of the class</p></li>
<li><p>describe the essential features of the interaction of data and functions</p></li>
<li><p>document class invariants</p></li>
<li><p>specify guarantees concerning thread, alias and exception safety</p></li>
</ol>
</div></blockquote>
<p>Note that this description should not be overly repetitive of the
component-level documentation, though some redundancy is to be expected.
Although the description is specific to the class, some general rules that
apply to all class descriptions should be observed.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This class implements a runtime-efficient, fully</span>
<span class="c1">/// value-semantic repository of weekend and holiday information</span>
<span class="c1">/// over a **valid range** of dates. This valid range ...</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Calendar</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-9-2">
<dt><em>9.2</em></dt><dd><p>Class-level documentation must use standard phrasing where applicable.
Standard phrasing applies to</p>
<blockquote>
<div><ul class="simple">
<li><p>class nomenclature (Section <a class="reference internal" href="#section-9-1-0"><span class="std std-ref">9.1</span></a>)</p></li>
<li><p>thread safety (Section <a class="reference internal" href="#section-9-2-0"><span class="std std-ref">9.2</span></a>)</p></li>
<li><p>exception safety (Section <a class="reference internal" href="#section-9-3"><span class="std std-ref">9.3</span></a>)</p></li>
<li><p>alias safety (Section <a class="reference internal" href="#section-9-4"><span class="std std-ref">9.4</span></a>)</p></li>
</ul>
</div></blockquote>
<p>The documentation for thread safety, exception safety, and alias safety,
where relevant, should be included in the class-level documentation. If
essential to the purpose of the component, it may be put in the
component-level documentation instead. Where specific to a particular
function, it should be put in the function-level documentation instead.</p>
</dd>
</dl>
<div class="section" id="class-nomenclature">
<span id="section-9-1-0"></span><h3><a class="toc-backref" href="#id44">9.1 Class Nomenclature</a><a class="headerlink" href="#class-nomenclature" title="Permalink to this headline">¶</a></h3>
<dl id="rule-9-1-1">
<dt><em>9.1.1</em></dt><dd><p>A class may be categorized according to the nomenclature defined in this
section. Where applicable, the standard nomenclature must be used in
documentation. In addition, certain class categories have additional
category-specific design and descriptive requirements.</p>
<blockquote>
<div><p><strong>Note:</strong> The use of a standard nomenclature ensures uniformity and
implicitly refers to a well-understood meaning which may not be fully
contained in the class-level documentation itself.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-9-1-2">
<dt><em>9.1.2</em></dt><dd><p>A class may be categorized using one of the following terms:</p>
<blockquote>
<div><ol class="loweralpha">
<li><p>A <em>value-semantic type</em> is a type used to represent a value. This value
is reflected in the <em>salient attributes</em> of the class and is defined
operationally by the <code class="docutils literal notranslate"><span class="pre">operator==</span></code> function. A value-semantic type may
have other members (e.g., an allocator, a capacity) that do not
contribute to the value it represents.  Value-semantic types are further
divided into those that can be externalized (<em>full</em> value semantics) and
those that cannot (<em>in-core</em> value semantics). All native C types (e.g.,
<code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">double</span></code>) are considered value-semantic types.</p></li>
<li><p>An <em>enumeration</em> is a value-semantic type that provides a categorization
over another type.</p></li>
<li><p>An <em>attribute</em> class is a value-semantic type that is comprised solely
of data members of other value-semantic types (including basic
vocabulary types). Each data member is known as an <em>attribute</em>, and is
given a name that is used formulaically in the naming of data members,
constructor parameters, accessors, and manipulators. A
<em>simply-constrained</em> attribute class is one in which the constraints of
each attribute (if they exist at all) are independent of each other. A
<em>complex-constrained</em> attribute class is one in which valid values of
one attribute are dependent on the current value of another attribute.</p></li>
<li><p>A <em>container</em> is a value-semantic type that aggregates other types.
Implementers of containers should take special note of the rules
concerning alias safety (Section <a class="reference internal" href="#section-9-4"><span class="std std-ref">9.4</span></a>) and exception
safety (Section <a class="reference internal" href="#section-9-3"><span class="std std-ref">9.3</span></a>), and note that there is
standard phrasing for iterator <code class="docutils literal notranslate"><span class="pre">operator==</span></code> and <code class="docutils literal notranslate"><span class="pre">operator!=</span></code>.</p></li>
<li><p>A <em>utility</em> class provides a namespace for logically related <code class="docutils literal notranslate"><span class="pre">static</span></code>
methods that might otherwise be non-<code class="docutils literal notranslate"><span class="pre">operator</span></code> free functions. A
utility class has no instance data members, defines neither constructors
nor destructor, and is implemented as a <code class="docutils literal notranslate"><span class="pre">struct</span></code>.</p>
<blockquote>
<div><p>When the methods all serve to manipulate some principal type (defined
in another component), the name of a utility class should be formed by
suffixing the name of the principal type manipulated by the utility
class with <code class="docutils literal notranslate"><span class="pre">Util</span></code>. A utility class that is used to implement a type,
rather than manipulate it, is called an <em>implementation utility</em> and
should use the suffix <code class="docutils literal notranslate"><span class="pre">ImpUtil</span></code>.</p>
</div></blockquote>
</li>
<li><p>A <em>mechanism</em> describes a stateful object that does not represent a
value (e.g., a socket, an allocator, or a thread pool).</p></li>
<li><p>A <em>protocol</em> is a pure abstract class  a class that contains only pure
virtual functions, except for the destructor. The destructor must be
defined and must not be defined <code class="docutils literal notranslate"><span class="pre">inline</span></code> to force the virtual table to
be defined uniquely.</p></li>
<li><p>An <em>adapter</em> provides a concrete implementation of a protocol</p></li>
<li><p>A <em>wrapper</em> provides a C-language interface to some or all of the
functionality of some other component. For example, the
<code class="docutils literal notranslate"><span class="pre">z_ball_administration</span></code> component provides a C-language function for
each method of the <code class="docutils literal notranslate"><span class="pre">ball::Administration</span></code> class.</p></li>
</ol>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="thread-safety">
<span id="section-9-2-0"></span><h3><a class="toc-backref" href="#id45">9.2 Thread Safety</a><a class="headerlink" href="#thread-safety" title="Permalink to this headline">¶</a></h3>
<dl id="rule-9-2-1">
<dt><em>9.2.1</em></dt><dd><p>The use of a class in a multi-threaded environment must be considered.
Without an explicit statement to the contrary, a client may assume that</p>
<blockquote>
<div><ul class="simple">
<li><p><em>different</em> objects of the same class may be manipulated concurrently
from <em>different</em> threads</p></li>
<li><p>the same object may be accessed concurrently via <code class="docutils literal notranslate"><span class="pre">const</span></code> methods
from different threads</p></li>
</ul>
</div></blockquote>
<p>Classes that meet these basic criteria are said to be <code class="docutils literal notranslate"><span class="pre">const</span></code> thread-safe.
If a class does not meet these criteria, or if a class offers additional
support for a multi-threaded environment, differences must be documented. In
particular, a class with explicitly documented support for concurrency is
said to be <em>thread aware</em>; a class in which <em>any</em> non-creator method may be
called concurrently on the same object is said to be <em>fully thread-safe</em>; and
a class which requires a multi-threaded environment in order to be used is
said to be <em>thread-enabled</em>.</p>
</dd>
</dl>
</div>
<div class="section" id="exception-safety">
<span id="section-9-3"></span><h3><a class="toc-backref" href="#id46">9.3 Exception Safety</a><a class="headerlink" href="#exception-safety" title="Permalink to this headline">¶</a></h3>
<dl id="rule-9-3-1">
<dt><em>9.3.1</em></dt><dd><p>Any class whose arguments may throw exceptions when used should state their
exception-safety guarantees. The following phrasing should be used:</p>
<p>For a class that is exception-neutral,</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This class is **exception neutral** with no guarantee of rollback:</span>
<span class="c1">/// If an exception is thrown during the invocation of a method on a</span>
<span class="c1">/// pre-existing object, the object is left in a valid state, but its</span>
<span class="c1">/// value is undefined. In no event is memory leaked.</span>
</pre></div>
</div>
</div></blockquote>
<p>For a class that is exception-safe,</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This class is **exception safe** with guaranteed rollback: if</span>
<span class="c1">/// an exception is thrown during the invocation of a method on a</span>
<span class="c1">/// pre-existing instance, the object state is left unaffected. In</span>
<span class="c1">/// no event is memory leaked.</span>
</pre></div>
</div>
</div></blockquote>
<p>The phrasing can be included in the class-level documentation, or may be
specified on a method-by-method basis as appropriate.</p>
</dd>
</dl>
</div>
<div class="section" id="alias-safety">
<span id="section-9-4"></span><h3><a class="toc-backref" href="#id47">9.4 Alias Safety</a><a class="headerlink" href="#alias-safety" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-9-4-1">
<dt><em>9.4.1</em></dt><dd><p><em>Aliasing</em> refers to the phenomenon wherein there is more than one reference
to the same object through different names. Aliasing generally becomes an
issue when both a constant input argument and a modifiable argument refer to
the same object. The classic example is when an object is assigned to itself,
and the input argument becomes an alias for <code class="docutils literal notranslate"><span class="pre">*this</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="rule-9-4-2">
<dt><em>9.4.2</em></dt><dd><p>The assignment operator, where defined, must be alias-safe. This should not
be included in the contract.</p>
</dd>
</dl>
<dl id="rule-9-4-3">
<dt><em>9.4.3</em></dt><dd><p>Methods other than the assignment operator may, but are not required to be,
alias-safe. If they are, however, this should be noted in the function-level
documentation. If the class as a whole is designed for alias safety, such as
for a container class, the following phrasing should be included with the
class-level documentation:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Finally, **aliasing** (e.g. using all or part of an object as both</span>
<span class="c1">/// source and destination) is supported in all cases.</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="function-level-documentation">
<span id="section-10"></span><h2><a class="toc-backref" href="#id48">10 Function-Level Documentation</a><a class="headerlink" href="#function-level-documentation" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Function-level documentation is specified in a comment block preceding a
function signature. Function-level documentation for certain functions must
follow standard phrasing; all other functions must follow the documentation
rules specified in this section.</p>
<p>A function specification consists of five parts, organized in the following
sequence:</p>
<ol class="loweralpha simple">
<li><p>What the function <strong>does</strong> (Section <a class="reference internal" href="#section-10-1"><span class="std std-ref">10.1.</span></a>)</p></li>
<li><p>What the function <strong>returns</strong> (Section <a class="reference internal" href="#section-10-2"><span class="std std-ref">10.2</span></a>)</p></li>
<li><p>More about <strong>essential</strong> behavior (Section <a class="reference internal" href="#section-10-3"><span class="std std-ref">10.3</span></a>)</p></li>
<li><p>Conditions leading to <strong>undefined</strong> behavior (Section
<a class="reference internal" href="#section-10-4"><span class="std std-ref">10.4</span></a>)</p></li>
<li><p><strong>Note that</strong> (more about usage) (Section <a class="reference internal" href="#section-10-5"><span class="std std-ref">10.5</span></a>)</p></li>
</ol>
<p>The function specification should take the form of a single paragraph.  At
least one of the first two parts must be present.</p>
</div></blockquote>
<div class="section" id="what-the-function-does">
<span id="section-10-1"></span><h3><a class="toc-backref" href="#id49">10.1 What the Function Does</a><a class="headerlink" href="#what-the-function-does" title="Permalink to this headline">¶</a></h3>
<dl id="rule-10-1-1">
<dt><em>10.1.1</em></dt><dd><p>The first part of a function specification, <em>what the function does</em>, must
state the primary action(s) of the function. It should be specified in a
single imperative sentence. This sentence should introduce each required
parameter, and describe how the parameters are used and/or altered during the
execution of the function.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Append to the end of this array the value of the specified `item`.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">append</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">item</span><span class="p">);</span><span class="w"></span>

<span class="c1">/// Replace the value at the specified `dstIndex` in this array with</span>
<span class="c1">/// the value of the specified `item` of the parameterized `TYPE`.</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_TYPE</span><span class="o">&gt;</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="n">replace</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">dstIndex</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">t_TYPE</span><span class="o">&amp;</span><span class="w"> </span><span class="n">item</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-1-2">
<dt><em>10.1.2</em></dt><dd><p>The first reference to each parameter in this part must introduce the
parameter with the phrase “the specified” appearing before the parameter
name. If a list of parameters is introduced at once, the phrase need appear
before only the first parameter name. Subsequent references to a parameter
may simply name the parameter.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Set the value of this date to the specified `year` and `dayOfYear`</span>
<span class="c1">/// The behavior is undefined unless `year` and `dayOfYear` represent</span>
<span class="c1">/// a valid `bdlt::Date` value (see `isValid`).</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setYearDay</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dayOfYear</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-10-1-3">
<dt><em>10.1.3</em></dt><dd><p>An optional parameter should be introduced in a new sentence with the phrase
“Optionally specify …”, and then the parameter name itself (in grammatical
fashion). Multiple optional parameters may be introduced in the same or in
separate sentences.</p>
</dd>
</dl>
<dl id="rule-10-1-4">
<dt><em>10.1.4</em></dt><dd><p>A constructor of a class that takes an optional allocator must use the
following phrasing:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Optionally specify a `basicAllocator` used to supply memory.</span>
<span class="c1">/// If `basicAllocator` is 0, the currently installed default</span>
<span class="c1">/// allocator is used.</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-1-5">
<dt><em>10.1.5</em></dt><dd><p>A constructor must always begin the first sentence of its function
specification with the following standard phrasing:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Create a `MyClass` object ...</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Create a `baltzo::LocalTimeDescriptor` object having the</span>
<span class="c1">/// specified `utcOffsetInSeconds`, `dstInEffectFlag`, and</span>
<span class="c1">/// `description` attribute values. Optionally specify a</span>
<span class="c1">/// `basicAllocator` used to supply memory. If `basicAllocator`</span>
<span class="c1">/// is 0, the currently installed default allocator is used. The</span>
<span class="c1">/// behavior is undefined unless</span>
<span class="c1">/// `-86339 &lt;= utcOffsetInSeconds &lt;= 86399`.</span>
<span class="n">baltzo</span><span class="o">::</span><span class="n">LocalTimeDescriptor</span><span class="p">(</span><span class="w"></span>
<span class="w">                           </span><span class="kt">int</span><span class="w">                       </span><span class="n">utcOffsetInSeconds</span><span class="p">,</span><span class="w"></span>
<span class="w">                           </span><span class="kt">bool</span><span class="w">                      </span><span class="n">dstInEffectFlag</span><span class="p">,</span><span class="w"></span>
<span class="w">                           </span><span class="k">const</span><span class="w"> </span><span class="n">bslstl</span><span class="o">::</span><span class="n">StringRef</span><span class="o">&amp;</span><span class="w">  </span><span class="n">description</span><span class="p">,</span><span class="w"></span>
<span class="w">                           </span><span class="n">bslma</span><span class="o">::</span><span class="n">Allocator</span><span class="w">         </span><span class="o">*</span><span class="n">basicAllocator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-1-6">
<dt><em>10.1.6</em></dt><dd><p>A copy constructor for a value-semantic type must use the following standard
phrasing for its first (and possibly only) sentence:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Create a `MyClass` object having the same value as the specified</span>
<span class="c1">/// `original` object.</span>
</pre></div>
</div>
</dd>
</dl>
<dl id="rule-10-1-7">
<dt><em>10.1.7</em></dt><dd><p>A destructor must use the following standard phrasing for its first (and
possibly only) sentence:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Destroy this object.</span>
</pre></div>
</div>
<p><strong>Note:</strong>  The comment is there purely to indicate the absence of anything
interesting to report.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="what-the-function-returns">
<span id="section-10-2"></span><h3><a class="toc-backref" href="#id50">10.2 What the Function Returns</a><a class="headerlink" href="#what-the-function-returns" title="Permalink to this headline">¶</a></h3>
<dl id="rule-10-2-1">
<dt><em>10.2.1</em></dt><dd><p>The second part of a function specification, <em>what the function returns</em>,
describes the return value of the function. This part should be specified in
a single imperative sentence or phrase beginning with the word “return”. When
descriptions are brief, this part may be combined with the first part in a
single sentence.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Initiate a connection to a peer process at the specified</span>
<span class="c1">/// `address` of the parameterized `ADDRESS_TYPE`. Return 0</span>
<span class="c1">/// on success, and a non-zero value otherwise.</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ADDRESS_TYPE</span><span class="o">&amp;</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="n">BSLS_KEYWORD_OVERRIDE</span><span class="p">;</span><span class="w"></span>

<span class="c1">/// Increase the value of this object by the specified `numDays`,</span>
<span class="c1">/// and return a reference to this modifiable date ...</span>
<span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">+=</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">numDays</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-2-2">
<dt><em>10.2.2</em></dt><dd><p>In some cases, the first part of the function specification may be omitted,
where what the function returns fully specifies what the function does (e.g.,
for accessors and many free operators).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Return the month of this object as an integer in the</span>
<span class="c1">/// range [1..12].</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">month</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-2-3">
<dt><em>10.2.3</em></dt><dd><p>When a function returns a result through an output argument, it should
specify the value returned in an imperative sentence or phrase beginning with
the word “load”.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Load the accumulated data into the specified `result`.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loadData</span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="o">*</span><span class="n">result</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="more-about-essential-behavior">
<span id="section-10-3"></span><h3><a class="toc-backref" href="#id51">10.3 More About Essential Behavior</a><a class="headerlink" href="#more-about-essential-behavior" title="Permalink to this headline">¶</a></h3>
<dl id="rule-10-3-1">
<dt><em>10.3.1</em></dt><dd><p>The third part of a functional specification, <em>more about essential
behavior</em>, provides information about collateral effects and other
consequences that are essential to the intended functionality.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// The address returned remains valid until this array is</span>
<span class="c1">/// destroyed or modified (i.e., the current capacity is not</span>
<span class="c1">/// exceeded).</span>
<span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="nf">data</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>

<span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// If this socket is in blocking mode, the call waits until</span>
<span class="c1">/// a connection is established or an error occurs.</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ADDRESSTYPE</span><span class="o">&amp;</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="n">BSLS_KEYWORD_OVERRIDE</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="undefined-behavior">
<span id="section-10-4"></span><h3><a class="toc-backref" href="#id52">10.4 Undefined Behavior</a><a class="headerlink" href="#undefined-behavior" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-10-4-1">
<dt><em>10.4.1</em></dt><dd><p>The fourth part of a functional specification, <em>undefined behavior</em>,
specifies the conditions for which the behavior is undefined.</p>
</dd>
</dl>
<dl id="rule-10-4-2">
<dt><em>10.4.2</em></dt><dd><p>The “undefined behavior” part should be introduced with the phrase: “The
behavior is undefined unless …”, followed by a list of conditions for which
the behavior is undefined. If using “unless” would lead to a double negative
proposition, use the alternative introductory phrase “The behavior is undefined
if …” instead.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// The behavior is undefined unless `year` and `dayOfYear`</span>
<span class="c1">/// represent a valid `bdlt::Date` value (see `isValid`).</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setYearDay</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dayOfYear</span><span class="p">);</span><span class="w"></span>

<span class="c1">/// Increase the value of this date by one day, and return a</span>
<span class="c1">/// reference to this modifiable date. The behavior is</span>
<span class="c1">/// undefined if the initial value of this date was</span>
<span class="c1">/// `bdlt::Date(9999, 12, 31)`.</span>
<span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">++</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Note:</strong>  The preference for the phrase “unless” means that binary
expressions written in the contract may be transferred directly for use in
a <code class="docutils literal notranslate"><span class="pre">BSLS_ASSERT</span></code> statement in the corresponding function implementation.
If the expression follows “if”, the transformation of the expression to an
assertion is more complex.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-4-3">
<dt><em>10.4.3</em></dt><dd><p>A condition for which the behavior is undefined may be expressed as a binary
expression of the form:</p>
<blockquote>
<div><p><em>&lt;expression&gt; &lt;relational operator&gt; &lt;argument&gt;</em></p>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// The behavior is undefined unless `0 &lt;= value`.</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">sqrt</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-4-4">
<dt><em>10.4.4</em></dt><dd><p>If a single expression is constrained by a range, a range expression of the
form</p>
<blockquote>
<div><p><em>&lt;expression&gt; &lt;relational operator&gt; &lt;argument&gt; &lt;relational operator&gt; &lt;expression&gt;</em></p>
</div></blockquote>
<p>may be used.</p>
</dd>
</dl>
<dl id="rule-10-4-5">
<dt><em>10.4.5</em></dt><dd><p>Multiple conditions may be presented in a comma-separated list. If multiple
conditions are present, they should be presented in the order in which they
appear in the parameter list, followed by an appropriately enumerated order
for combinations, where combinations are sorted in order of increasing number
of parameters involved.</p>
<blockquote>
<div><p><strong>Note:</strong>  This rule provides a systematic order for testing.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-10-4-6">
<dt><em>10.4.6</em></dt><dd><p>The function-level documentation should not state that the behavior of
passing a null pointer for an output argument is undefined. Pointer arguments
are assumed to be valid unless otherwise stated.</p>
<blockquote>
<div><p><strong>Note:</strong>  The exact criteria of whether a pointer is valid are complex.
Among such considerations are that the pointer should denote an address
that is part of the address space of the process; that, if it is to be
dereferenced, that the memory be readable (or writable if the pointer is
not <code class="docutils literal notranslate"><span class="pre">const</span></code>); that, if the pointer refers to an object, the pointer value
must be suitably aligned; and so on. Rather than stipulating all of these
criteria each time, valid pointers should be assumed by both the contract
author and client.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="note-that">
<span id="section-10-5"></span><h3><a class="toc-backref" href="#id53">10.5 Note That</a><a class="headerlink" href="#note-that" title="Permalink to this headline">¶</a></h3>
<dl id="rule-10-5-1">
<dt><em>10.5.1</em></dt><dd><p>The final part of a functional specification, <em>Note that</em>, provides
supplementary information to clarify behavior. These notes shall not be used
to modify or add to the contract.</p>
<blockquote>
<div><p><strong>Example:</strong>  The content of these notes only clarifies the previously
described contract, such as to emphasize a non-obvious implication of the
contract, to reinforce proper usage, or to give sample code.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// Note that this operation has no effect if `date` is not a</span>
<span class="c1">/// holiday in this calendar, even if it is out of range.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">removeHoliday</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&amp;</span><span class="w"> </span><span class="n">date</span><span class="p">);</span><span class="w"></span>

<span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// Note that, in order to receive connections on a socket, it</span>
<span class="c1">/// must have an address associated with it, and when a socket</span>
<span class="c1">/// is created, it has no associated address.</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">bind</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ADDRESS</span><span class="o">&amp;</span><span class="w"> </span><span class="n">address</span><span class="p">);</span><span class="w"></span>

<span class="c1">/// &lt;elided documentation parts&gt; ...</span>
<span class="c1">/// Note that once a connection request has been received, a call</span>
<span class="c1">/// to `accept` can be made to establish the connection.</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">waitForAccept</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">bdlt</span><span class="o">::</span><span class="n">TimeInterval</span><span class="o">&amp;</span><span class="w"> </span><span class="n">timeout</span><span class="p">)</span><span class="w"> </span><span class="n">BSLS_KEYWORD_OVERRIDE</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-10-5-2">
<dt><em>10.5.2</em></dt><dd><p>If there are multiple notes to be included, subsequent notes begin with the
phrase “Also note that…”, except that the last one may begin with “Finally
note that…”.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="typographical-conventions">
<span id="section-11"></span><h2><a class="toc-backref" href="#id54">11 Typographical Conventions</a><a class="headerlink" href="#typographical-conventions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="source-file-mechanics">
<span id="section-11-1"></span><h3><a class="toc-backref" href="#id55">11.1 Source File Mechanics</a><a class="headerlink" href="#source-file-mechanics" title="Permalink to this headline">¶</a></h3>
<dl id="rule-11-1-1">
<dt><em>11.1.1</em></dt><dd><p>Lines must be terminated only by an ASCII <code class="docutils literal notranslate"><span class="pre">LF</span></code> (<code class="docutils literal notranslate"><span class="pre">0x0a</span></code>) character.  Other
line termination sequences (e.g., <code class="docutils literal notranslate"><span class="pre">CRLF</span></code>) are not permitted.</p>
<blockquote>
<div><p><strong>Note:</strong> End-of-line treatments are a major issue for tools that work
across multiple platforms. This rule pertains specifically to code as it
resides in the source code repository. It is reasonable (and desirable) for
the tools used to check code in and out of the repository to handle
end-of-line conversions to a native form, so long as spurious “diffs” are
not introduced by the conversions.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-11-1-2">
<dt><em>11.1.2</em></dt><dd><p>The source file must end with a newline character.</p>
</dd>
</dl>
<dl class="simple" id="rule-11-1-3">
<dt><em>11.1.3</em></dt><dd><p>No line may be longer than 79 characters (not including the line terminator).</p>
</dd>
</dl>
<dl class="simple" id="rule-11-1-4">
<dt><em>11.1.4</em></dt><dd><p>Trailing whitespace on a line is not permitted.</p>
</dd>
</dl>
<dl class="simple" id="rule-11-1-5">
<dt><em>11.1.5</em></dt><dd><p>Where indentation is required for formatting, indentation levels must be
indicated using four spaces per level. Tab characters must not be used.</p>
</dd>
</dl>
</div>
<div class="section" id="variable-declarations">
<span id="section-11-2"></span><h3><a class="toc-backref" href="#id56">11.2 Variable Declarations</a><a class="headerlink" href="#variable-declarations" title="Permalink to this headline">¶</a></h3>
<dl id="rule-11-2-1">
<dt><em>11.2.1</em></dt><dd><p>When declaring a variable <em>var</em> of type “pointer to <code class="docutils literal notranslate"><span class="pre">TYPE</span></code>”, the asterisk
(<code class="docutils literal notranslate"><span class="pre">*</span></code>) must be written adjacent to the variable name with no intervening
whitespace.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-11-2-2">
<dt><em>11.2.2</em></dt><dd><p>When declaring a variable var of type “reference to <code class="docutils literal notranslate"><span class="pre">TYPE</span></code>”, the ampersand
(<code class="docutils literal notranslate"><span class="pre">&amp;</span></code>) must be written as a suffix to <code class="docutils literal notranslate"><span class="pre">TYPE</span></code>.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">names</span><span class="p">[</span><span class="n">index</span><span class="p">];</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-11-2-3">
<dt><em>11.2.3</em></dt><dd><p>When declaring a variable var of type “reference to non-modifiable <code class="docutils literal notranslate"><span class="pre">TYPE</span></code>”,
the declaration must be written with <code class="docutils literal notranslate"><span class="pre">const</span></code> in front.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">token</span><span class="p">.</span><span class="n">id</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="alignment-for-variable-declarations">
<span id="section-11-3"></span><h3><a class="toc-backref" href="#id57">11.3 Alignment for Variable Declarations</a><a class="headerlink" href="#alignment-for-variable-declarations" title="Permalink to this headline">¶</a></h3>
<dl id="rule-11-3-1">
<dt><em>11.3.1</em></dt><dd><p>When multiple declarations appear on consecutive lines, the declarations must
be spaced such that:</p>
<blockquote>
<div><ul class="simple">
<li><p>the types are aligned</p></li>
<li><p>the identifiers, not counting <code class="docutils literal notranslate"><span class="pre">*</span></code>, are aligned</p></li>
<li><p>there is a column of exactly one blank space between the end of the type,
including the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> suffix, if any, and the beginning of the identifier,
including the <code class="docutils literal notranslate"><span class="pre">*</span></code> prefix, if any.</p></li>
</ul>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="w">  </span><span class="n">var1</span><span class="p">;</span><span class="w"></span>
<span class="n">TYPE</span><span class="w">        </span><span class="o">*</span><span class="n">var2</span><span class="p">;</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">TYPE</span><span class="o">&amp;</span><span class="w">  </span><span class="n">var3</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Note:</strong>  In general, the idea is to line up the types and the variable
names into columns. This gets more complicated if you extra qualifiers in
there, such as <code class="docutils literal notranslate"><span class="pre">const</span></code> or <code class="docutils literal notranslate"><span class="pre">volatile</span></code> . It is also rare. Use your best
judgement; make it look aesthetically pleasing, but don’t agonize over it.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-11-3-2">
<dt><em>11.3.2</em></dt><dd><p>If a variable declaration must be split across multiple lines because it is
too long, then</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>the alignment point for identifiers must be at least two spaces to the
right of the alignment point for types, and</p></li>
<li><p>each declaration must be separated by a blank line</p></li>
</ol>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">numberOfNodes</span><span class="p">;</span><span class="w"></span>

<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">bsls</span><span class="o">::</span><span class="n">Types</span><span class="o">::</span><span class="n">Int64</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bsls</span><span class="o">::</span><span class="n">Types</span><span class="o">::</span><span class="n">Int64</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"></span>
<span class="w">    </span><span class="n">nodeToAdjacentNodesMap</span><span class="p">;</span><span class="w"></span>

<span class="n">bsls</span><span class="o">::</span><span class="n">Types</span><span class="o">::</span><span class="n">Int64</span><span class="w"></span>
<span class="w">    </span><span class="n">rootNode</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="variable-documentation">
<span id="section-11-4"></span><h3><a class="toc-backref" href="#id58">11.4 Variable Documentation</a><a class="headerlink" href="#variable-documentation" title="Permalink to this headline">¶</a></h3>
<dl class="simple" id="rule-11-4-1">
<dt><em>11.4.1</em></dt><dd><p>In most cases, documentation for variables is optional. Data members,
however, must be documented. Where variables are documented, they must be
documented as described in this section. Note that documentation for
parameters is part of the function-level documentation (Section
<a class="reference internal" href="#section-10"><span class="std std-ref">10</span></a>).</p>
</dd>
</dl>
<dl id="rule-11-4-2">
<dt><em>11.4.2</em></dt><dd><p>The documentation for a variable should provide a synonym in the form of a
noun phrase to indicate the purpose of the entity. The noun phrase should
begin with a lowercase letter and never end with a period.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">dutcOffsetInSeconds</span><span class="p">;</span><span class="w">  </span><span class="c1">// signed offset from UTC</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-11-4-3">
<dt><em>11.4.3</em></dt><dd><p>The comment text for a variable should begin on the same line as the
declaration. The comment text must be aligned to a point at least two spaces
to the right of the alignment point for the variable name, and at most two
spaces to the right of the rightmost semicolon that appears anywhere in the
sequence of declarations of which this variable is a part.</p>
</dd>
</dl>
<dl id="rule-11-4-4">
<dt><em>11.4.4</em></dt><dd><p>If the comment text itself spans multiple lines, all lines must be aligned,
and each declaration (including its comment text) must be separated from
adjacent items by a blank line.</p>
<blockquote>
<div><p><strong>Example:</strong>  Either of the following is acceptable:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">         </span><span class="n">d_utcOffsetInSeconds</span><span class="p">;</span><span class="w">  </span><span class="c1">// signed offset from UTC</span>

<span class="kt">bool</span><span class="w">        </span><span class="n">d_dstInEffectFlag</span><span class="p">;</span><span class="w">     </span><span class="c1">// &#39;true&#39; if Daylight Saving Time</span>
<span class="w">                                   </span><span class="c1">// is in effect, and &#39;false&#39;</span>
<span class="w">                                   </span><span class="c1">// otherwise</span>

<span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">d_description</span><span class="p">;</span><span class="w">         </span><span class="c1">// *non-canonical* identifier for</span>
<span class="w">                                   </span><span class="c1">// this descriptor</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">         </span><span class="n">d_utcOffsetInSeconds</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="c1">// signed offset from UTC</span>

<span class="kt">bool</span><span class="w">        </span><span class="n">d_dstInEffectFlag</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="c1">// &#39;true&#39; if Daylight Savings Time is in effect, and</span>
<span class="w">                </span><span class="c1">// &#39;false&#39; otherwise</span>

<span class="n">bsl</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">d_description</span><span class="p">;</span><span class="w"></span>
<span class="w">                </span><span class="c1">// *non-canonical* identifier for this descriptor</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="preprocessor-usage">
<span id="section-11-5"></span><h3><a class="toc-backref" href="#id59">11.5 Preprocessor Usage</a><a class="headerlink" href="#preprocessor-usage" title="Permalink to this headline">¶</a></h3>
<dl id="rule-11-5-1">
<dt><em>11.5.1</em></dt><dd><p><strong>OBSOLETE</strong> (Rule <a class="reference internal" href="#rule-14-3"><span class="std std-ref">14.3</span></a>)</p>
<blockquote>
<div><p><strong>Note:</strong> Preprocessor <code class="docutils literal notranslate"><span class="pre">#if</span></code> directives may be used (previously they were
not permitted).</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-11-5-2">
<dt><em>11.5.2</em></dt><dd><p>In general, the definition of preprocessor macros (other than for include
guards) is discouraged. Where used, they must follow the rules of this
section.</p>
<blockquote>
<div><p><strong>Note:</strong>  Preprocessor macros introduce names that are not subject to the
scoping rules of the language. In most cases, there are features of the
language that can be used in place of macros.</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-11-5-3">
<dt><em>11.5.3</em></dt><dd><p>The name of a macro must be all uppercase, with each word in the name
separated by an underscore.</p>
</dd>
</dl>
<dl class="simple" id="rule-11-5-4">
<dt><em>11.5.4</em></dt><dd><p>The name of a macro with broader scope than a function body (other than an
include guard) must be prefixed by the component name of the component in
which it is defined.</p>
</dd>
</dl>
<dl class="simple" id="rule-11-5-5">
<dt><em>11.5.5</em></dt><dd><p>Macro parameters must be all uppercase. Macro parameters should have more
than one letter.</p>
</dd>
</dl>
<dl class="simple" id="rule-11-5-6">
<dt><em>11.5.6</em></dt><dd><p>A macro may be used within the body of a function for convenience, so long as
the macro is defined after the scope of the function body is opened, and
un-defined before the scope of the function body is closed.  This technique
should be used sparingly.</p>
</dd>
</dl>
<dl class="simple" id="rule-11-5-7">
<dt><em>11.5.7</em></dt><dd><p>Macros created within a <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> or <code class="docutils literal notranslate"><span class="pre">.t.cpp</span></code>, may be prefixed by <code class="docutils literal notranslate"><span class="pre">U_</span></code>
rather than the full component name, to distinguish them from identifiers
defined in a header.  Such identifiers are never to be <code class="docutils literal notranslate"><span class="pre">#undef</span></code>’ed without
being <code class="docutils literal notranslate"><span class="pre">#define</span></code>’d first, so that if the identifier collides with a macro from
the included headers, a compiler warning or error will result.</p>
</dd>
</dl>
</div>
<div class="section" id="mid-function-returns">
<span id="section-11-6"></span><h3><a class="toc-backref" href="#id60">11.6 Mid-Function Returns</a><a class="headerlink" href="#mid-function-returns" title="Permalink to this headline">¶</a></h3>
<dl id="rule-11-6-1">
<dt><em>11.6.1</em></dt><dd><p>All statements that <code class="docutils literal notranslate"><span class="pre">return</span></code> other than at the closing brace of a function
must be marked with a <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">RETURN</span></code> comment, right-justified to the 79th
column.</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="nf">Date::setYearDayIfValid</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">dayOfYear</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">k_SUCCESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">k_FAILURE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isValidYearDay</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">dayOfYear</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">setYearDay</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="w"> </span><span class="n">dayOfYear</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">k_SUCCESS</span><span class="p">;</span><span class="w">                                      </span><span class="c1">// RETURN</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">k_FAILURE</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
<dt><em>11.6.2</em></dt><dd><p>If the <code class="docutils literal notranslate"><span class="pre">return</span></code> statement spans several lines, put the comment on the last
line.</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kr">inline</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">HashUtil::hash0</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">modulus</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">BSLS_REVIEW</span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">modulus</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="w"></span>
<span class="w">             </span><span class="o">%</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">modulus</span><span class="p">);</span><span class="w">             </span><span class="c1">// RETURN</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFFFFFFF</span><span class="p">)</span><span class="w"></span>
<span class="w">              </span><span class="o">%</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">modulus</span><span class="p">);</span><span class="w">            </span><span class="c1">// RETURN</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
<dt><em>11.6.3</em></dt><dd><p>There should be at least two blank spaces between the trailing <code class="docutils literal notranslate"><span class="pre">;</span></code> of the
<code class="docutils literal notranslate"><span class="pre">return</span></code> statement and the first <code class="docutils literal notranslate"><span class="pre">/</span></code> of the comment.  If there is
insufficient space for the comment on the line(s) containing the <code class="docutils literal notranslate"><span class="pre">return</span></code>
statement, insert an empty line containing the (right-justified) comment.</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">return</span><span class="w"> </span><span class="n">day</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">s_cachedDaysInMonth</span><span class="p">[</span><span class="n">year</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">s_firstCachedYear</span><span class="p">][</span><span class="n">month</span><span class="p">];</span><span class="w"></span>
<span class="w">                                                               </span><span class="c1">// RETURN</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="formatting-logical-statements">
<span id="section-11-7"></span><h3><a class="toc-backref" href="#id61">11.7 Formatting Logical Statements</a><a class="headerlink" href="#formatting-logical-statements" title="Permalink to this headline">¶</a></h3>
<dl id="rule-11-7-1">
<dt><em>11.7.1</em></dt><dd><p>The consequence (body) of each logical statement is <em>always</em> a code block –
i.e., code surrounded by braces – even if it consists of a single statement.
The braces are placed according to the
<a class="reference external" href="https://en.wikipedia.org/wiki/Indentation_style#K&amp;R_style">K&amp;R style</a>
where:</p>
<blockquote>
<div><ul>
<li><p>the opening brace is on the same line as closing parenthesis of the
controlling expression, separated by a single space,</p></li>
<li><p>the closing brace on a separate line aligned under the start of the
controlling keyword (e.g., <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>), and</p></li>
<li><p>the enclosed code is indented one level.</p>
<p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// ...</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>The above description does not apply to <code class="docutils literal notranslate"><span class="pre">do</span></code>/<code class="docutils literal notranslate"><span class="pre">while</span></code> statements.  For
this control structure, the opening brace is on the same line as the <code class="docutils literal notranslate"><span class="pre">do</span></code>
and the closing brace is aligned under the <code class="docutils literal notranslate"><span class="pre">do</span></code> on the same line as the
<code class="docutils literal notranslate"><span class="pre">while</span></code>.  As in the other cases, the enclosed code is indented one level:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>

<span class="k">do</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">predicate</span><span class="p">);</span><span class="w"></span>

<span class="c1">// ...</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-11-7-2">
<dt><em>11.7.2</em></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">else</span></code> keyword of <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code> statements can be written on a line
by itself:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">predicate</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"></span>
<span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-11-7-3">
<dt><em>11.7.3</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">for</span></code> statements should be written on a single line if there is sufficient
room at the current level of indentation:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">intialization</span><span class="p">;</span><span class="w"> </span><span class="n">predicate</span><span class="p">;</span><span class="w"> </span><span class="n">update</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
<p>However, if there is insufficient room, put each expression on its own line:</p>
<p><strong>Example:</strong></p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">bsl</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dates</span><span class="p">;</span><span class="w"></span>

<span class="w"> </span><span class="c1">// ...</span>

<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">bsl</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">bdlt</span><span class="o">::</span><span class="n">Date</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="w"> </span><span class="n">it</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">dates</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"></span>
<span class="w">                                        </span><span class="n">end</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">dates</span><span class="p">.</span><span class="n">end</span><span class="p">();</span><span class="w"></span>
<span class="w">                                        </span><span class="n">end</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">it</span><span class="p">;</span><span class="w"></span>
<span class="w">                                        </span><span class="o">++</span><span class="n">it</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="c1">// ...</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Note:</strong> Indenting the declaration of <code class="docutils literal notranslate"><span class="pre">end</span></code> to the same position as
<code class="docutils literal notranslate"><span class="pre">it</span></code> is preferred (when possible) as an application of the declaration
alignment rule.  (<a class="reference internal" href="#rule-11-3-1"><span class="std std-ref">11.3.1</span></a>).</p>
</dd>
</dl>
<dl id="rule-11-7-4">
<dt><em>11.7.4</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">switch</span></code> statements are written with each <code class="docutils literal notranslate"><span class="pre">case</span></code> statement indented by
two spaces from the <code class="docutils literal notranslate"><span class="pre">switch</span></code> statement.  The contents of the <code class="docutils literal notranslate"><span class="pre">case</span></code> are
indented by an additional two spaces (from the <code class="docutils literal notranslate"><span class="pre">case</span></code> keyword), a total of
four spaces from the <code class="docutils literal notranslate"><span class="pre">switch</span></code> keyword.</p>
<p><strong>Note</strong>: This rule is analogous to the previously presented rules for
positioning <code class="docutils literal notranslate"><span class="pre">public:</span></code> and <code class="docutils literal notranslate"><span class="pre">private:</span></code> keywords in class definitions (Rule
<a class="reference internal" href="#rule-6-2-1"><span class="std std-ref">6.2.1</span></a>).</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">case</span></code> enclosed in a code block and followed by a <code class="docutils literal notranslate"><span class="pre">break;</span></code>
statement.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>

<span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">version</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">bslx</span><span class="o">::</span><span class="n">InStreamFunctions</span><span class="o">::</span><span class="n">bdexStreamIn</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span><span class="w"> </span><span class="n">d_timeZoneId</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">bslx</span><span class="o">::</span><span class="n">InStreamFunctions</span><span class="o">::</span><span class="n">bdexStreamIn</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span><span class="w"> </span><span class="n">d_datetimeTz</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">stream</span><span class="p">.</span><span class="n">invalidate</span><span class="p">();</span><span class="w">  </span><span class="c1">// unrecognized version number</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// ...</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="markup">
<span id="section-12"></span><h2><a class="toc-backref" href="#id62">12 Markup</a><a class="headerlink" href="#markup" title="Permalink to this headline">¶</a></h2>
<dl>
<dt><em>12.1</em></dt><dd><p>Comment text is text included in a source file to document some aspect of
the component.</p>
<p>Comments associated with a C++ entity (a class, struct, enum, union or
function) that are intended to be included in the public documentation
should precede the entity being documented and start with <code class="docutils literal notranslate"><span class="pre">///</span></code>. Other
comments (e.g., implamentation notes within a function definition) should
start with <code class="docutils literal notranslate"><span class="pre">//</span></code>.</p>
<p>Comments using the C++ multi-line notation (<code class="docutils literal notranslate"><span class="pre">/\*</span> <span class="pre">\*/</span></code>) are not permitted.
Note that comment text must follow the typographical conventions for all
source files (Section <a class="reference internal" href="#section-11"><span class="std std-ref">11</span></a>).</p>
</dd>
<dt><em>12.2</em></dt><dd><p>All comment text must be written using clear and grammatical language, and in
complete sentences, except where explicitly noted otherwise.</p>
</dd>
<dt><em>12.3</em></dt><dd><p>Comment text may use the Markdown syntax described in this section to enhance
the appearance of the text.</p>
<blockquote>
<div><p><strong>Note:</strong>  The mechanical formatting conventions introduced in this section
serve the dual purpose of providing well-structured, easy-to-read
documentation in the primary ASCII source files and a markup that can be
used to render the same text in a professional, multi-font format suitable
for publication.</p>
</div></blockquote>
</dd>
<dt><em>12.4</em></dt><dd><p>Comment text is generally written as a series of filled paragraphs. A single
commented blank line may be used to separate multiple paragraphs.
Hyphenation must not be used to break a word that is too long to fit on a
single line.</p>
<blockquote>
<div><p><strong>Note:</strong>  When rendered in a proportional font, paragraphs may be filled
and line breaks may not appear in the same place as in the original text.</p>
</div></blockquote>
</dd>
</dl>
<div class="section" id="markdown-support">
<span id="section-12-1"></span><h3><a class="toc-backref" href="#id63">12.1 Markdown Support</a><a class="headerlink" href="#markdown-support" title="Permalink to this headline">¶</a></h3>
<p>All documentation comments may use the markdown described in this section,
which is adapted from <a class="reference external" href="https://www.markdownguide.org/basic-syntax/">Basic Markdown</a>.  The markdown features
described here should be supported by all of the tools that are chosen to
render BDE-style documentation.</p>
<p id="rule-12-1-1"><em>12.1.1</em></p>
<blockquote>
<div><p>Italic, bold, and bold-italic text may be indicated using the delimiters
<code class="docutils literal notranslate"><span class="pre">'*'</span></code>, <code class="docutils literal notranslate"><span class="pre">'**'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'***'</span></code>, respectively.</p>
<blockquote>
<div><p><strong>Example:</strong>  The following source</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Text may be written in a *italic*, **bold** or ***bold-italic***</span>
<span class="c1">/// proportional font, or may appear in a `fixed` font. *Consecutive</span>
<span class="c1">/// multiple words* may or may not be delimited individually.</span>
</pre></div>
</div>
<p>would be rendered as</p>
<p>Text may be written in a <em>italic</em>, <strong>bold</strong> or <span class="bolditalic">bold-italic</span>
proportional font, or may appear in a <code class="docutils literal notranslate"><span class="pre">fixed</span></code> font. <em>Consecutive multiple
words</em> may or may not be delimited individually.</p>
</div></blockquote>
</div></blockquote>
<dl id="rule-12-1-2">
<dt><em>12.1.2</em></dt><dd><p>All C++-language keywords, expressions, and any user-defined names, such as
variables and classes, must be indicated in the original source text by
placing such text between single-backtick delimiters. Exactly one set of
delimiters must enclose the entire C++ expression.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// C++ language expressions, such as `*this` or `struct` or</span>
<span class="c1">/// `UserDefinedTypeNames`, are rendered in a fixed-width font.</span>
</pre></div>
</div>
<p>would be rendered as</p>
<p>C++ language expressions, such as <code class="docutils literal notranslate"><span class="pre">*this</span></code> or <code class="docutils literal notranslate"><span class="pre">struct</span></code> or
<code class="docutils literal notranslate"><span class="pre">UserDefinedTypeNames</span></code>, are rendered in a fixed-width font.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-12-1-3">
<dt><em>12.1.3</em></dt><dd><p>A single C++ expression in comment text must not break across multiple lines
of text (but see Rule <a class="reference internal" href="#rule-12-2-1"><span class="std std-ref">12.2.1</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong>  Consider the following:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Remove from this array, beginning at the specified `index`, the</span>
<span class="c1">/// specified `numElements` values.  All values with initial indices</span>
<span class="c1">/// at or above `index + numElements` are shifted down by `numElements`</span>
<span class="c1">/// index positions.  The behavior is undefined unless `0 &lt;= index`,</span>
<span class="c1">/// `0 &lt;= numelements`, and `index + numElements &lt;= length()`.</span>
</pre></div>
</div>
<p><strong>Note:</strong>  This rule has proven to be a tremendous help in readability (and
accuracy) during code reviews and testing. When the rule results in
extremely ragged source text, or one cannot fit even a single expression in
one line, consider using a <strong>fenced code block</strong> instead.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="code-blocks">
<span id="section-12-2"></span><h3><a class="toc-backref" href="#id64">12.2 Code Blocks</a><a class="headerlink" href="#code-blocks" title="Permalink to this headline">¶</a></h3>
<dl id="rule-12-2-1">
<dt><em>12.2.1</em></dt><dd><p>A <strong>fenced code block</strong> is one or more lines of text that are intended to be
rendered in a fixed-width font, exactly as typed in the source file. A
fenced code block is indicated in source text by preceding and following the
text with the three backticks (<code class="docutils literal notranslate"><span class="pre">```</span></code>).  Code blocks do not modify the
indentation of the text within the block..</p>
<blockquote>
<div><p><strong>Example:</strong>  The following source text</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Code excerpts, such as:</span>
<span class="c1">/// ```</span>
<span class="c1">/// const double PI = 3.141592653589793238;</span>
<span class="c1">/// ```</span>
<span class="c1">/// as well as expressions too long to fit on a single line, such</span>
<span class="c1">/// as the Gregory-Leibniz approximation for `PI / 4`:</span>
<span class="c1">/// ```</span>
<span class="c1">/// 1.0 - 1.0 / 3 + 1.0 / 5 - 1.0 / 7 + 1.0 / 9 - ...</span>
<span class="c1">/// ```</span>
<span class="c1">/// may be inserted within a code block.</span>
</pre></div>
</div>
<p>would be rendered as</p>
<p>Code excerpts, such as</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">PI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">3.141592653589793238</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>as well as expressions too long to fit on a single line, such as the
Gregory-Leibniz approximation for <code class="docutils literal notranslate"><span class="pre">PI</span> <span class="pre">/</span> <span class="pre">4</span></code> :</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="mf">1.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">...</span><span class="w"></span>
</pre></div>
</div>
<p>may be inserted within a code block.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-12-2-2">
<dt><em>12.2.2</em></dt><dd><p>A <strong>list block</strong> is a sequence of lines to be displayed as a list.
Three kinds of lists may be used:</p>
<blockquote>
<div><ul>
<li><p><em>unordered lists</em></p>
<p>To created an unorderd list, add any of the <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, or <code class="docutils literal notranslate"><span class="pre">+</span></code>
characters in front of the line items. Indent items 2 or more characters
to create a nested list.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Each protocol class has to satisfy the following set of</span>
<span class="c1">/// requirements:</span>
<span class="c1">/// * The protocol is abstract: no objects of it can be created.</span>
<span class="c1">/// * The protocol has no data members.</span>
<span class="c1">/// * The protocol has a virtual destructor.</span>
<span class="c1">/// * All methods of the protocol are pure virtual.</span>
<span class="c1">/// * All methods of the protocol are publicly accessible.</span>
</pre></div>
</div>
<p>A consistent character should be used to begin each item in an unordered
list, depending on the nesting depth within the list:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> first (4th) level list marker</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code> second (5th) level list marker</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code> third (6th) level list marker</p></li>
</ul>
</div></blockquote>
</li>
<li><p><em>ordered lists</em></p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// The test will consist of the following steps:</span>
<span class="c1">/// 1. Push back into `dlist`, then `dlist2`, then `dlist3`.</span>
<span class="c1">/// 2. Repeat #1.</span>
<span class="c1">/// 3. Pop front from `dlist1`, then `dlist2`, then `dlist3`.</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>definition lists</em></p></li>
</ul>
<p>Definition list should use the unordered list entry for the term definition
immediately followed by the blockquote (<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>) paragraph with the term
description.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// * `datetimeTz`</span>
<span class="c1">///   &gt; date, time and offset from UTC of the local time.</span>
<span class="c1">/// * `timeZoneId`</span>
<span class="c1">///   &gt; unique identifier representing the local time zone.</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-12-2-3">
<dt><em>12.2.3</em></dt><dd><p>Lists can be nested by indenting the next level 2 spaces or more.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This class:</span>
<span class="c1">/// * supports a complete set of *value-semantic* operations</span>
<span class="c1">///   - except for `bdex` serialization</span>
<span class="c1">/// * is *exception-neutral* (agnostic)</span>
<span class="c1">/// * is *alias-safe*</span>
<span class="c1">/// * is `const` *thread-safe*</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="headings">
<span id="section-12-3"></span><h3><a class="toc-backref" href="#id65">12.3 Headings</a><a class="headerlink" href="#headings" title="Permalink to this headline">¶</a></h3>
<dl id="rule-12-3-1">
<dt><em>12.3.1</em></dt><dd><p>Subsections within component documentation may be introduced using a two-line
sub-heading, as shown:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//</span>
<span class="c1">///Heading</span>
<span class="c1">///-------</span>
<span class="c1">// *text begins here*</span>
</pre></div>
</div>
</div></blockquote>
<p>Note that a sub-heading must be preceded by a commented blank line, and
immediately followed by the descriptive text on the next line.  Sub-headings
must be written in title case.</p>
</dd>
</dl>
<dl id="rule-12-3-2">
<dt><em>12.3.2</em></dt><dd><p>Component documentation text may include additional nested subsections. Each
new level of sub-heading uses a form similar to that shown above, except that
space characters are added between each dash, one for each level of depth.
The rightmost hyphen must be align with the last character in the heading
text; additional space may be added at the beginning of the “underline” as
necessary.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">///Sub-Heading</span>
<span class="c1">///- - - - - -</span>
<span class="c1">//</span>
<span class="c1">///Sub-Sub-Heading</span>
<span class="c1">///  -  -  -  -  -</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-12-3-3">
<dt><em>12.3.3</em></dt><dd><p>Alternatively, the native Markdown syntax for headings ( up to 6 levels ) is
permitted within the documentation text:</p>
<blockquote>
<div><blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// # Heading Level 1</span>
<span class="c1">///</span>
<span class="c1">/// This section....</span>
<span class="c1">///</span>
<span class="c1">/// ## Heading Level 2</span>
<span class="c1">///</span>
<span class="c1">/// This subsection...</span>
<span class="c1">///</span>
<span class="c1">/// ### Heading Level 3</span>
<span class="c1">///</span>
<span class="c1">/// Finally, ...</span>
</pre></div>
</div>
</div></blockquote>
<p>For better readability, it is recommended to place an empty lines before
a heading.</p>
</div></blockquote>
</dd>
</dl>
</div>
<div class="section" id="links">
<span id="section-12-4"></span><h3><a class="toc-backref" href="#id66">12.4 Links</a><a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>A <em>link</em> is a textual reference (the <em>link text</em>) to some other location in
the documentation set (the <em>link target</em>).</p>
<p><strong>Note:</strong> When component comments are converted to other representations
(e.g., <code class="docutils literal notranslate"><span class="pre">html</span></code>) the links are typically converted to clickable hyperlinks.</p>
<p><strong>Note:</strong> Ticked component, package, and package-group names, e.g.,
“<cite>bdlt_date</cite>”, are automatically converted to clickable hyperlinks when the
documentation is rendered.</p>
</div></blockquote>
<dl class="simple" id="rule-12-4-1">
<dt><em>12.4.1</em></dt><dd><p>Each <em>link</em> must refer to a unique other location the documentation set.
The following are valid link targets:</p>
<ul class="simple">
<li><p>A (tagged) comment field (see <a class="reference internal" href="#section-8-1"><span class="std std-ref">Comment Fields</span></a>)
in the current file.</p></li>
<li><p>A heading (see <a class="reference internal" href="#section-12-3"><span class="std std-ref">Headings</span></a>) within the current file.</p></li>
<li><p>The start of documentation of some other component, package, or package
group file.</p></li>
<li><p>A (tagged) comment field or heading in some other component, package, or
package group file.</p></li>
<li><p>A URL to an external website.</p></li>
</ul>
</dd>
</dl>
<dl id="rule-12-4-2">
<dt><em>12.4.2</em></dt><dd><p>The basic Markdown syntax for links is <code class="docutils literal notranslate"><span class="pre">[link</span> <span class="pre">text](link</span> <span class="pre">target)</span></code>.
The <code class="docutils literal notranslate"><span class="pre">link</span> <span class="pre">text</span></code> is optional and is filled with the text associated with the
link target.</p>
<p>Link targets of the following forms are supported:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Link Target</p></th>
<th class="head"><p>Format</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>URL</p></td>
<td><p><a class="reference external" href="http://target">http://target</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[Google](http://google)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Component</p></td>
<td><p>component_name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[](bdlt_date)</span></code> (see <a class="reference internal" href="#rule-12-4-3"><span class="std std-ref">12.4.3</span></a>)</p></td>
</tr>
<tr class="row-even"><td><p>Component Documentation Section</p></td>
<td><p>component_name#Heading</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[](bdlt_date#Example</span> <span class="pre">1)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Local Component Documentation section</p></td>
<td><p>#Heading</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[](#Usage)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Class</p></td>
<td><p>class_name</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">[](bdlt::Date)</span></code> (see <a class="reference internal" href="#rule-12-4-3"><span class="std std-ref">12.4.3</span></a>)</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd>
</dl>
<dl id="rule-12-4-3">
<dt><em>12.4.3</em></dt><dd><p>Ticked component, package, and package-group names are automatically rendered
as clickable hyperlinks to the corresponding documentation page.</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// See `bdlt_datetime` for details.  `bdlt` provides an overview</span>
<span class="c1">/// of the different time conventions used in this package.</span>
<span class="c1">///</span>
<span class="c1">/// Class `bdlt::Date` implements a complex-constrained, value-semantic</span>
<span class="c1">/// type ...</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="deprecation">
<span id="section-13"></span><h2><a class="toc-backref" href="#id67">13 Deprecation</a><a class="headerlink" href="#deprecation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-meaning">
<span id="section-13-1"></span><h3><a class="toc-backref" href="#id68">13.1 General Meaning</a><a class="headerlink" href="#general-meaning" title="Permalink to this headline">¶</a></h3>
<dl id="rule-13-1-1">
<dt><em>13.1.1</em></dt><dd><p>Code that is slated to be removed from a unit of release is said to be
<em>deprecated</em>. A deprecation notice must be placed in the appropriate code at
least one released version prior to removal.</p>
<blockquote>
<div><p><strong>Note:</strong>  An important, and often overlooked, phase of the software
life-cycle is the removal of old software facilities, typically in lieu of
improved, replacement facilities. Before software is removed, the user
community should receive notice of the upcoming change, and how to migrate
their code. A simple and regular markup for noting deprecation status
allows such changes to be readily discovered by software tools, and
facilitates reports to the user community on the evolving software base.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-13-1-2">
<dt><em>13.1.2</em></dt><dd><p>The appearance of a deprecation notice implies the following:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>the facility should not be used in any new code</p></li>
<li><p>the facility may be removed in a future release</p></li>
<li><p>the software using the now deprecated facility must be changed prior to
the removal of the facility</p></li>
</ol>
</div></blockquote>
</dd>
</dl>
<dl class="simple" id="rule-13-1-3">
<dt><em>13.1.3</em></dt><dd><p>The deprecation notice must inform the user of the replacement for the
deprecated facility, if any.</p>
</dd>
</dl>
<dl class="simple" id="rule-13-1-4">
<dt><em>13.1.4</em></dt><dd><p>Specific markup must be used to flag deprecated facilities. Software may be
deprecated at several different levels of granularity, as detailed in the
following section.</p>
</dd>
</dl>
</div>
<div class="section" id="section-13-2">
<span id="id2"></span><h3><a class="toc-backref" href="#id69">13.2 Markup</a><a class="headerlink" href="#section-13-2" title="Permalink to this headline">¶</a></h3>
<dl id="rule-13-2-1">
<dt><em>13.2.1</em></dt><dd><p>To deprecate a component, package, or package group, the <code class="docutils literal notranslate"><span class="pre">&#64;DEPRECATED:</span></code>
comment field must be used in the corresponding documentation, directly after
the <code class="docutils literal notranslate"><span class="pre">&#64;PURPOSE</span></code> section (Section <a class="reference internal" href="#section-8-1"><span class="std std-ref">8.1</span></a>). All of
classes and functions of a deprecated component are implicitly deprecated;
however, if any of those items had already been deprecated, there is no need
to remove their individual deprecation notices. Indeed, it is advantageous to
leave those notices in place as they provide useful information and component
history.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@PURPOSE: Provide helper classes for recording metric values.</span>
<span class="c1">//</span>
<span class="c1">//@DEPRECATED: Use `balm_metric` instead.</span>
<span class="c1">//</span>
<span class="c1">//@CLASSES:</span>
<span class="c1">//  baem_Metric: container for recording metric values</span>
</pre></div>
</div>
<p>In the (extremely rare) case that there is no successor facility, one may
simply state:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@DEPRECATED: Do not use.</span>
</pre></div>
</div>
<p>Sometimes, the replacement facility is distributed in more than one
component, package, or package group. For example, <code class="docutils literal notranslate"><span class="pre">bcefi</span></code> package
documentation states:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//@DEPRECATED: Use `bcef` and `bdef` packages instead.</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-13-2-2">
<dt><em>13.2.2</em></dt><dd><p>To deprecate a class, the class-level documentation must contain the
deprecation notice, in a separate paragraph. Additionally, deprecated classes
must be removed from the <code class="docutils literal notranslate"><span class="pre">&#64;CLASSES</span></code> section of the component-level
documentation.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This class implements a scoped guard that, on construction, ...</span>
<span class="c1">///</span>
<span class="c1">/// @DEPRECATED: Use `bslmt::LockGuardTryLock` instead.</span>
<span class="k">class</span><span class="w"> </span><span class="nc">bcemt</span><span class="o">::</span><span class="n">TryLockGuard</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">bcemt</span><span class="o">::</span><span class="n">LockGuardTryLock</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// This class provides a protocol (or pure interface) for</span>
<span class="c1">/// retrieving ...</span>
<span class="c1">///</span>
<span class="c1">/// @DEPRECATED: Use types from `bsiudb_userdb` instead.</span>
<span class="k">class</span><span class="w"> </span><span class="nc">baedb_UserDb</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Note:</strong>  The <code class="docutils literal notranslate"><span class="pre">&#64;DEPRECATED:</span></code> syntax in this context is directly mapped
to a Doxygen tag <code class="docutils literal notranslate"><span class="pre">&#64;deprecated</span></code>.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-13-2-3">
<dt><em>13.2.3</em></dt><dd><p>To deprecate a function, the function-level documentation must contain the
deprecation notice, in a separate paragraph.</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Return the most current &#39;bdex&#39; streaming version number</span>
<span class="c1">/// supported by this class. (See the package-group-level</span>
<span class="c1">/// documentation for more information on `bdex` streaming of</span>
<span class="c1">/// container types.)</span>
<span class="c1">///</span>
<span class="c1">/// @DEPRECATED: Use `maxSupportedBdexVersion` instead.</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">maxSupportedVersion</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
<p>The deprecation notice may span multiple paragraphs.  The deprecation
notice ends when a blank line or some other sectioning command (such as
fenced code block, a doxygen tag and an empty comment line) is encountered.
You can add the code block immediately after the deprecation notice, but it
will be rendered “outside” of deprecation block in the html render:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Destroy the current managed object (if any) and reinitialize</span>
<span class="c1">/// this managed pointer to manage the specified `ptr` using ...</span>
<span class="c1">///</span>
<span class="c1">/// @DEPRECATED: Instead, use an alternative overload:</span>
<span class="c1">/// ```</span>
<span class="c1">/// template &lt;class t_TARGETTYPE&gt;</span>
<span class="c1">/// void load(t_TARGETTYPE  *ptr,</span>
<span class="c1">///           void          *factory,</span>
<span class="c1">///           DeleterFunc    deleter);</span>
<span class="c1">/// ```</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">t_TARGETTYPE</span><span class="p">,</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">t_FACTORY</span><span class="o">&gt;</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="n">load</span><span class="p">(</span><span class="n">t_TARGETTYPE</span><span class="w">  </span><span class="o">*</span><span class="n">ptr</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">t_FACTORY</span><span class="w">     </span><span class="o">*</span><span class="n">factory</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="n">DeleterFunc</span><span class="w">    </span><span class="n">deleter</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-13-2-4">
<dt><em>13.2.4</em></dt><dd><p>To deprecate an enumerator, the deprecation notice must appear in the
enumerator documentation (Rule <a class="reference internal" href="#rule-6-4-4"><span class="std std-ref">6.4.4</span></a>).</p>
<blockquote>
<div><p><strong>Example:</strong></p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">Level</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">e_OFF</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">      </span><span class="c1">// disable generation of corresponding message</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="n">e_TRACE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w">    </span><span class="c1">// execution trace data</span>
<span class="w">    </span><span class="n">BAEL_NONE</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">224</span><span class="w">  </span><span class="c1">// @DEPRECATED: Do not use.</span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
</div>
</div>
<div class="section" id="appendix-1-obsolete-rules">
<h2><a class="toc-backref" href="#id70">14 Appendix 1: Obsolete Rules</a><a class="headerlink" href="#appendix-1-obsolete-rules" title="Permalink to this headline">¶</a></h2>
<p>This appendix contains the references to the obsolete rules.</p>
<dl id="rule-14-1">
<dt><em>14.1</em></dt><dd><p><strong>OBSOLETE</strong></p>
<p>Each include directive must have the following form:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef INCLUDED_PACKAGE_COMPONENT</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;package_component.h&gt;</span><span class="cp"></span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>where <em>package_component</em> is replaced with the full component name whose
header is to be included. In a sequence of such directives, each block must
be separated by a blank line.</p>
</div></blockquote>
</dd>
</dl>
<dl id="rule-14-2">
<dt><em>14.2</em></dt><dd><p><strong>OBSOLETE</strong></p>
<p>When specifying an include directive for a header that is not a component,
one must define the include guard explicitly after the header is included, as
in the following:</p>
<blockquote>
<div><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef INCLUDED_PACKAGE_COMPONENT</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;package_component.h&gt;</span><span class="cp"></span>
<span class="cp">#define INCLUDED_PACKAGE_COMPONENT</span>
<span class="cp">#endif</span>
</pre></div>
</div>
</div></blockquote>
</dd>
</dl>
<dl id="rule-14-3">
<dt><em>14.3</em></dt><dd><p><strong>OBSOLETE</strong></p>
<p>Preprocessor <code class="docutils literal notranslate"><span class="pre">#if</span></code> directives must not be used.</p>
</dd>
</dl>
</div>
<div class="section" id="appendix-2-rationale">
<h2><a class="toc-backref" href="#id71">15 Appendix 2: Rationale</a><a class="headerlink" href="#appendix-2-rationale" title="Permalink to this headline">¶</a></h2>
<div class="section" id="r-3-4-rationale-template-parameters">
<span id="section-3-4-rationale"></span><h3><a class="toc-backref" href="#id72">R.3.4 Rationale: Template Parameters</a><a class="headerlink" href="#r-3-4-rationale-template-parameters" title="Permalink to this headline">¶</a></h3>
<dl id="rule-3-4-4-rationale">
<dt><em>R.3.4.4 Rationale:</em> <a class="reference internal" href="#rule-3-4-4"><span class="std std-ref">Rule 3.4.4</span></a></dt><dd><p>The previous version of this rule required upper snake case without the
leading <code class="docutils literal notranslate"><span class="pre">t_</span></code>.  This convention occasionally resulted in confusing
compilation errors when those names happened to collide with macros defined
by either the platform or a third-party library.  This was a recurring source
of issues with releasing BDE software, breaking multiple promotion attempts
in 2022 alone.  For example, the type template parameter name <code class="docutils literal notranslate"><span class="pre">OTHER_TYPE</span></code>,
frequently used for converting constructor templates, collides with a macro
defined by the <code class="docutils literal notranslate"><span class="pre">&lt;net/if.h&gt;</span></code> header on the AIX operating system, and thus
results in compilation errors on that platform only.</p>
<p>The unusual decision to prefix upper snake case names with a lowercase letter
simultaneously achieves two objectives: it minimizes the risk of collision
with macros, while making it clear to readers that the entity so named is a
template parameter rather than any other kind of entity.</p>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-3-4-4"><span class="std std-ref">[Back to Rule 3.4.4]</span></a></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="r-4-4-rationale-using-includes-rather-than-forward-declarations">
<span id="section-4-4-rationale"></span><h3><a class="toc-backref" href="#id73">R.4.4 Rationale: Using Includes Rather Than Forward Declarations</a><a class="headerlink" href="#r-4-4-rationale-using-includes-rather-than-forward-declarations" title="Permalink to this headline">¶</a></h3>
<dl id="rule-4-4-3-rationale">
<dt><em>R.4.4.3 Rationale:</em> <a class="reference internal" href="#rule-4-4-3"><span class="std std-ref">Rule 4.4.3</span></a></dt><dd><p>This standard previously recommended using forward declarations where possible,
since forward declarations enable the use of a type name within a translation
unit without requiring the compiler to include the header with that type’s
definition.  By avoiding the need to include the header with the definition,
the use of a forward declaration can avoid having to recompile when the
header changes, thus reducing compile-time coupling and improving compile
times when recompilation is necessary.</p>
<p>However, a forward declaration for a type can also impede moving that type to
a new namespace or renaming it, a very common type of refactoring.  The
larger the organization, and the more code using forward declarations, the
harder it becomes to migrate and rename types that have been forward declared
(making this impediment particularly relevant to Bloomberg).</p>
<p>To understand why forward class declarations impede code migration, imagine a
forward declaration in the library <code class="docutils literal notranslate"><span class="pre">mylib</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// mylib_foo.h                                             -*-C++-*-</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">calendarlib</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Time</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Now imagine the owner of calendarlib wants to migrate the <code class="docutils literal notranslate"><span class="pre">Time</span></code> type to a
new library (<code class="docutils literal notranslate"><span class="pre">timelib</span></code>), and are planning to give it a new name,
<code class="docutils literal notranslate"><span class="pre">PreciseTime</span></code> (to distinguish it from a lower precision time-type).  To
facilitate the migration without breaking existing users of
<code class="docutils literal notranslate"><span class="pre">calendarlib::Time</span></code>, the owners of the legacy <code class="docutils literal notranslate"><span class="pre">Time</span></code> type might update
the existing (deprecated) header for the type <code class="docutils literal notranslate"><span class="pre">Time</span></code> as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// calendarlib_time.h                                      -*-C++-*-</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;timelib_precisetime.h&gt;</span><span class="cp"></span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">calendarlib</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">]]</span><span class="w"> </span><span class="k">typedef</span><span class="w"> </span><span class="n">timelib</span><span class="o">::</span><span class="n">PreciseTime</span><span class="w"> </span><span class="n">Time</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Unfortunately, the old forward declaration in <code class="docutils literal notranslate"><span class="pre">mylib_foo.h</span></code> is now in
conflict with the newly refactored code.  This inconsistency will result in a
compile-time error in either <code class="docutils literal notranslate"><span class="pre">mylib</span></code> itself or in code using <code class="docutils literal notranslate"><span class="pre">mylib</span></code>.</p>
<p>Within the context of Bloomberg, this sort of forward declaration would
require the owner of <code class="docutils literal notranslate"><span class="pre">timelib::Time</span></code> to coordinate with each owner of code
forward declaring <code class="docutils literal notranslate"><span class="pre">calendarlib::Time</span></code> to update their code prior to
performing the refactoring (and potentially a second pass, to recreate the
forward declaration, after the release of <code class="docutils literal notranslate"><span class="pre">PreciseTime</span></code> is completed).</p>
<p><strong>Exceptions</strong></p>
<p>Forward declarations are not allowed across unit of release (UOR) boundaries.
Within a UOR, <code class="docutils literal notranslate"><span class="pre">#include</span></code> statements should still be preferred, but using
forward declarations is still allowed (e.g., to resolve a cyclic dependency).</p>
<p>Note that in future versions of C++, once modules are adopted, it will no
longer be permitted for a module’s interface to forward declare types from
outside the module itself, so using includes is a form of future-proofing.</p>
<p><strong>Impact of using includes</strong></p>
<p>Benchmark performance testing has shown that the switch between forward
declares and includes has no real impact on the build time of our libraries
or the build of our downstream client code at our enterprise scale on any of
our production platforms at Bloomberg.</p>
</dd>
</dl>
<p id="rule-5-6-1-rationale"><span id="section-5-rationale"></span><em>R.5.6.1 Rationale:</em> <a class="reference internal" href="#rule-5-6-1"><span class="std std-ref">Rule 5.6.1</span></a></p>
<blockquote>
<div><p>The requirement to append the <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">for</span> <span class="pre">testing</span> <span class="pre">only</span></code> labels serve to remind
developers that such additions may adversely effect the reuse of the
component <em>and</em> explain their presence to future developers (or automated
tools) lest those directives be deemed superfluous as they are not required
by the component itself.</p>
<p>By adding testing-only dependencies to those of the component itself, we
ensure that such dependencies do not introduce cycles.  Avoiding any
test-driver introduced cycles enables a bottom-up testing strategy such that
tests for a component can be written in terms of lower-level components that
have been tested independently.</p>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-5-6-1"><span class="std std-ref">[Back to Rule 5.6.1]</span></a></p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="r-6-10-rationale-hidden-friends">
<span id="section-6-10-rationale"></span><h3><a class="toc-backref" href="#id74">R.6.10 Rationale: Hidden Friends</a><a class="headerlink" href="#r-6-10-rationale-hidden-friends" title="Permalink to this headline">¶</a></h3>
<dl id="rule-6-10-1-rationale">
<dt><em>R.6.10.1 Rationale:</em> <a class="reference internal" href="#rule-6-10-1"><span class="std std-ref">Rule 6.10.1</span></a></dt><dd><p>When a customization point function is called using its unqualified name,
the compiler must consider all overloads declared in the namespace where the
call appears and all overloads declared in the namespaces in which the types
of the call arguments are declared.  Reducing the number of overloaded
declarations found by the compiler has been shown to have a significant
impact on compilation time in the case of commonly implemented overloads,
such as <code class="docutils literal notranslate"><span class="pre">swap</span></code> and <code class="docutils literal notranslate"><span class="pre">operator==</span></code>.  In addition, when overload resolution
fails, the compiler usually prints all declarations found by name lookup; a
smaller overload set produces significantly more understandable and useful
error messages.</p>
<p>Defining a function as a hidden friend in a class <code class="docutils literal notranslate"><span class="pre">C</span></code> prevents the function
from being found by name lookup except when at least one argument for the
call has <code class="docutils literal notranslate"><span class="pre">C</span></code> as an associated class, thus reducing the size of the overload
set for most calls that do not involve an argument of type <code class="docutils literal notranslate"><span class="pre">C</span></code>.</p>
<p>However, because hidden friends must always be defined inline, their
definitions add clutter to the interfaces of the classes in which the hidden
friends are defined.  We generally discourage using hidden friends for
functions that are not customization points (and thus unlikely to participate
in large overload sets) because they make it harder to understand a class’s
public interface by reading the class definition.</p>
<p><strong>Note:</strong> Our definition of “customization point function” includes
overloaded operators such as <code class="docutils literal notranslate"><span class="pre">operator==</span></code> because they are typically called
using argument-dependent lookup, just like non-operator customization point
functions such as <code class="docutils literal notranslate"><span class="pre">swap</span></code>.</p>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-6-10-1"><span class="std std-ref">[Back to Rule 6.10.1]</span></a></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl id="rule-6-10-4-rationale">
<dt><em>R.6.10.4 Rationale:</em> <a class="reference internal" href="#rule-6-10-4"><span class="std std-ref">Rule 6.10.4</span></a></dt><dd><p>Function definitions that appear inline within a class definition make it
more cumbersome for readers to understand a class’s interface by reading the
class definition.  The greater the length of the function definition, the
more visual noise it adds to the class definition. Therefore, there is a
strong rationale to keep the body of a hidden friend definition as short as
possible.  In addition, keeping the body as simple as possible helps to
minimize the likelihood of bugs.  However, for specific customization points,
certain idioms help to minimize code duplication and improve readability.
The examples given in <a class="reference internal" href="#rule-6-10-4"><span class="std std-ref">Rule 6.10.4</span></a> illustrate the
following principles.</p>
<blockquote>
<div><ul class="simple">
<li><p>For equality and comparison operators, parameters in the call may be
reordered and the <code class="docutils literal notranslate"><span class="pre">!</span></code> operator may be applied to the boolean result if
necessary to avoid duplication of implementation functions.</p></li>
<li><p>Arithmetic operators may delegate to the corresponding compound
assignment operator using the pattern shown in Example 2.  This form of
delegation avoids the need to implement two separate implementation
methods.  The separate <code class="docutils literal notranslate"><span class="pre">return</span></code> statement that directly names the local
variable is necessary in order to enable the named-return-value
optimization.</p></li>
<li><p>An <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code> overload whose first argument is a stream may delegate
to the <code class="docutils literal notranslate"><span class="pre">print</span></code> method in the manner shown in Example 1.</p></li>
<li><p>A hidden friend that must return one of its parameters, such as
<code class="docutils literal notranslate"><span class="pre">operator&gt;&gt;</span></code>, may contain a separate <code class="docutils literal notranslate"><span class="pre">return</span></code> statement if it
delegates to a public implementation method that has a natural return
type of <code class="docutils literal notranslate"><span class="pre">void</span></code>.</p></li>
<li><p>It is idiomatic to implement <code class="docutils literal notranslate"><span class="pre">swap</span></code> and <code class="docutils literal notranslate"><span class="pre">hashAppend</span></code> as sequences of
calls to <code class="docutils literal notranslate"><span class="pre">swap</span></code> and <code class="docutils literal notranslate"><span class="pre">hashAppend</span></code>, respectively, with one call for
each data member that contributes to the value.</p></li>
<li><p>It is idiomatic to implement <code class="docutils literal notranslate"><span class="pre">operator==</span></code> as a conjunction of
memberwise equality comparisons.  <code class="docutils literal notranslate"><span class="pre">operator!=</span></code> may be implemented in a
similar fashion.</p></li>
</ul>
</div></blockquote>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-6-10-4"><span class="std std-ref">[Back to Rule 6.10.4]</span></a></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="r-7-3-rationale-function-signatures">
<span id="section-7-3-rationale"></span><h3><a class="toc-backref" href="#id75">R.7.3 Rationale: Function Signatures</a><a class="headerlink" href="#r-7-3-rationale-function-signatures" title="Permalink to this headline">¶</a></h3>
<dl id="rule-7-3-6-rationale">
<dt><em>R.7.3.6 Rationale:</em> <a class="reference internal" href="#rule-7-3-6"><span class="std std-ref">Rule 7.3.6</span></a></dt><dd><p>C++11 introduced the <code class="code docutils literal notranslate"><span class="pre">override</span></code> keyword to catch developer mistakes
when overloading virtual functions.  This section explains the purpose and
use of the <code class="code docutils literal notranslate"><span class="pre">override</span></code> keyword, enumerates the benefits and drawbacks of
its use, and provides rationale the use of <code class="code docutils literal notranslate"><span class="pre">override</span></code> in Bloomberg C++
code.</p>
<p><strong>The</strong> <code class="code docutils literal notranslate"><span class="pre">override</span></code> <strong>keyword</strong></p>
<p>The <em>contextual keyword</em> <a class="footnote-reference brackets" href="#f736-1" id="id3">1</a> <code class="code docutils literal notranslate"><span class="pre">override</span></code> can be provided at the
end of a member-function declaration to ensure that the decorated function is
indeed <em>overriding</em> a corresponding <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> member function in a base
class (i.e., not <em>hiding</em> <a class="footnote-reference brackets" href="#f736-2" id="id4">2</a> it or otherwise inadvertently
introducing a distinct function declaration).  Use of this feature express
such deliberate intent so that (1) human readers are aware of it and (2)
compilers can validate it.</p>
<p><strong>Example</strong></p>
<p>Consider the following polymorphic hierarchy of error-category classes, as we
might have defined them using C++03:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">ErrorCategory</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">condition</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCondition</span><span class="o">&amp;</span><span class="w"> </span><span class="n">condition</span><span class="p">);</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>

<span class="k">struct</span><span class="w"> </span><span class="nc">AutomotiveErrorCategory</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ErrorCategory</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">condition</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivolent</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCondition</span><span class="o">&amp;</span><span class="w"> </span><span class="n">condition</span><span class="p">);</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Notice that there is a defect in the example above, where <code class="code docutils literal notranslate"><span class="pre">equivalent</span></code>
has been misspelled, that was not caught by the compiler.  Clients calling
<code class="code docutils literal notranslate"><span class="pre">equivalent</span></code> on <code class="code docutils literal notranslate"><span class="pre">AutomotiveErrorCategory</span></code> will incorrectly invoke
the base class function. If the function in the base class happens to be
defined (i.e., not pure <code class="code docutils literal notranslate"><span class="pre">virtual</span></code>) the code may compile and behave
unexpectedly at runtime.  Moreover, suppose that, over time, the interface is
changed by marking the equivalence-checking function const to bring the
interface closer to that of <code class="code docutils literal notranslate"><span class="pre">std::error_category</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">ErrorCategory</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCondition</span><span class="o">&amp;</span><span class="w"> </span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Without applying the corresponding modification to all classes deriving from
<code class="code docutils literal notranslate"><span class="pre">ErrorCategory</span></code>, the semantics of the program change due to the derived
classes hiding (instead of overriding) the base class’s <code class="code docutils literal notranslate"><span class="pre">virtual</span></code>
member function.  Both the errors discussed above would be detected
automatically by decorating the <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> functions with the
<code class="code docutils literal notranslate"><span class="pre">override</span></code> keyword:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">AutomotiveErrorCategory</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ErrorCategory</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="c1">// Compile-time error when base class changed.</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalont</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCondition</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">)</span><span class="w"> </span><span class="k">override</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="c1">// Compile-time error when first written.</span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>In addition to leveraging the compiler to ensure that both overloads of
<code class="code docutils literal notranslate"><span class="pre">equivalent</span></code> indeed override their corresponding virtual functions in
the base class, <code class="code docutils literal notranslate"><span class="pre">override</span></code> also serves as a clear indication to the
human reader of the derived-class author’s intent to customize the behavior
of <code class="code docutils literal notranslate"><span class="pre">ErrorCategory</span></code>.  For any given member function, use of
<code class="code docutils literal notranslate"><span class="pre">override</span></code> necessarily renders any use of <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> for that
function syntactically and semantically redundant: The only (cosmetic) reason
for retaining <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> in the presence of override would be that
<code class="code docutils literal notranslate"><span class="pre">virtual</span></code> appears to the left of the function declaration (as it always
has) instead of all the way to the right (as override does now).</p>
<p><strong>Potential pitfalls</strong></p>
<p>Although not a problem with wide-spread use of the feature per se, a codebase
that uses override inconsistently (or one that has just started adopting it)
might lull developers into mistakenly thinking that such signature changes
made across an inheritance hierarchy are guaranteed by the compiler to be
exhaustive. For example, altering the signature of a <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> member
function in a base class and then compiling “the world” will result in errors
whenever <code class="code docutils literal notranslate"><span class="pre">override</span></code> was used on a corresponding function in the derived
classes.  After fixing all the errors, the author of the changes might
mistakenly believe that all needed changes have been guaranteed by the
compiler to have occurred.  There might, however, still exist derived-classes
implementations for which <code class="code docutils literal notranslate"><span class="pre">override</span></code> has not yet been added, and which
might now behave differently at run-time.  Static-analysis tools that check
for the mandatory use of override (where applicable) would help to address
this issue.</p>
<p><strong>Recommendation</strong></p>
<p>Since the overall benefits of wide-spread use of <code class="code docutils literal notranslate"><span class="pre">override</span></code> at
Bloomberg almost certainly outweigh the (minor) potential pitfall of assuming
the compiler will catch every last defect, we recommend always decorating
overriding functions with <code class="code docutils literal notranslate"><span class="pre">override</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">AutomotiveErrorCategory</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ErrorCategory</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>For code that needs to be compiled in C++03 mode, use
<code class="code docutils literal notranslate"><span class="pre">BSLS_KEYWORD_OVERRIDE</span></code> instead:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">AutomotiveErrorCategory</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ErrorCategory</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">equivalent</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">ErrorCode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">code</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">condition</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"></span>
<span class="w">                                                 </span><span class="n">BSLS_KEYWORD_OVERRIDE</span><span class="p">;</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Furthermore, since in the presence of <code class="code docutils literal notranslate"><span class="pre">override</span></code> prefixing the
overriding function declarations with <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> neither provides
additional documentation for human consumption nor prevents bugs when the
signature of <code class="code docutils literal notranslate"><span class="pre">virtual</span></code> function changes, we recommend omitting the
<code class="code docutils literal notranslate"><span class="pre">virtual</span></code> keyword from declarations of overriding functions.</p>
<table class="docutils align-right">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#rule-7-3-6"><span class="std std-ref">[Back to Rule 7.3.6]</span></a></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
<dl class="footnote brackets">
<dt class="label" id="f736-1"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p>A <em>“contextual keyword”</em> is a special identifier that acts like a
keyword when used in particular contexts. override is an example as it can be
used as a regular identifier outside of member-function declarators.</p>
</dd>
<dt class="label" id="f736-2"><span class="brackets"><a class="fn-backref" href="#id4">2</a></span></dt>
<dd><p>Function-name <em>hiding</em> occurs when a member function in a derived
class has the same name as one in the base class, but it is not overriding it
due to a difference in the function <em>signature</em> or because the member
function in the base class is not <code class="code docutils literal notranslate"><span class="pre">virtual</span></code>. The hidden member function
via (a pointer or reference to) a base class will <em>not</em> participate in
dynamic dispatch; the member function of the base class will be invoked
instead. The same code would have invoked the derived class’s implementation
had the member function of the base class had been <em>overridden</em> rather than
<em>hidden</em>.</p>
</dd>
</dl>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2024, Bloomberg LP.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>