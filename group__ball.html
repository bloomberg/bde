<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: ball Package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#groups">Components</a>  </div>
  <div class="headertitle">
<h1>Package ball<br/>
<small>
[<a class="el" href="group__bal.html">Package Group bal</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide thread-safe logging toolkit suitable for all platforms.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="groups"></a>
Components</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__administration.html">Component ball_administration</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a suite of utility functions for logging administration. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__asyncfileobserver.html">Component ball_asyncfileobserver</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide an asynchronous observer that logs to a file and <code>stdout</code>. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__attribute.html">Component ball_attribute</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a representation of (literal) name/value pairs. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__attributecontainer.html">Component ball_attributecontainer</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a protocol for containers holding logging attributes. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__attributecontainerlist.html">Component ball_attributecontainerlist</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a list of attribute container addresses. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__attributecontext.html">Component ball_attributecontext</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container for storing attributes and caching results. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__category.html">Component ball_category</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container for a name and associated thresholds. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__categorymanager.html">Component ball_categorymanager</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a manager of named categories each having "thresholds". </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__context.html">Component ball_context</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container for the context of a transmitted log record. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__countingallocator.html">Component ball_countingallocator</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a concrete allocator keep a count of allocated bytes. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__defaultattributecontainer.html">Component ball_defaultattributecontainer</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a default container for storing attribute name/value pairs. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__defaultobserver.html">Component ball_defaultobserver</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a default observer that emits log records to <code>stdout</code>. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__fileobserver.html">Component ball_fileobserver</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a thread-safe observer that logs to a file and to <code>stdout</code>. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__fileobserver2.html">Component ball_fileobserver2</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a thread-safe observer that emits log records to a file. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__fixedsizerecordbuffer.html">Component ball_fixedsizerecordbuffer</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a thread-safe fixed-size buffer of record handles. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__log.html">Component ball_log</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide macros and utility functions to facilitate logging. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__loggercategoryutil.html">Component ball_loggercategoryutil</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a suite of utility functions for category management. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__loggerfunctorpayloads.html">Component ball_loggerfunctorpayloads</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a suite of useful logger manager functor payloads. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__loggermanager.html">Component ball_loggermanager</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a manager of core logging functionality. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__loggermanagerconfiguration.html">Component ball_loggermanagerconfiguration</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a constrained-attribute class for the logger manager. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__loggermanagerdefaults.html">Component ball_loggermanagerdefaults</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide constrained default attributes for the logger manager. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__multiplexobserver.html">Component ball_multiplexobserver</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a multiplexing observer that forwards to other observers. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__observer.html">Component ball_observer</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Define a protocol for receiving and processing log records. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__observeradapter.html">Component ball_observeradapter</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a helper for implementing the <code><a class="el" href="classball_1_1Observer.html">ball::Observer</a></code> protocol. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__patternutil.html">Component ball_patternutil</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a utility class for string pattern matching. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__predicate.html">Component ball_predicate</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a predicate object that consists of a name/value pair. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__predicateset.html">Component ball_predicateset</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container for predicates. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__record.html">Component ball_record</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container for all fields of a log record. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__recordattributes.html">Component ball_recordattributes</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container for a fixed set of fields suitable for logging. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__recordbuffer.html">Component ball_recordbuffer</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a protocol for managing log record handles. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__recordstringformatter.html">Component ball_recordstringformatter</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a record formatter that uses a <code>printf</code>-style format spec. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__rule.html">Component ball_rule</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide an object having a pattern, thresholds, and predicates. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__ruleset.html">Component ball_ruleset</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a set of unique rules. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__scopedattribute.html">Component ball_scopedattribute</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a scoped guard for a single BALL attribute. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__scopedattributes.html">Component ball_scopedattributes</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a class to add and remove attributes automatically. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__severity.html">Component ball_severity</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Enumerate a set of logging severity levels. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__severityutil.html">Component ball_severityutil</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a suite of utility functions on <code><a class="el" href="structball_1_1Severity.html">ball::Severity</a></code> levels. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__testobserver.html">Component ball_testobserver</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide an instrumented observer for testing. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__thresholdaggregate.html">Component ball_thresholdaggregate</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide an aggregate of the four logging threshold levels. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__transmission.html">Component ball_transmission</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Enumerate the set of states for log record transmission. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__userfields.html">Component ball_userfields</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a container of user supplied field values. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__userfieldsschema.html">Component ball_userfieldsschema</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a description for a sequence user field values. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__userfieldtype.html">Component ball_userfieldtype</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Enumerate the set of data types for a user supplied attribute. </p>
</td></tr>
</p>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ball__userfieldvalue.html">Component ball_userfieldvalue</a></td></tr>

<p><tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p style="margin-top: 0; margin-bottom: 0;">Provide a type for the value of a user supplied field. </p>
</td></tr>
</p>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">MNEMONIC: Basic Application Environment Logging (ball)</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Hierarchical Synopsis</a> </li>
<li>
<a href="#3.2">Component Synopsis</a> </li>
<li>
<a href="#3.3">Multi-Threaded Logging</a> </li>
<li>
<a href="#3.4">Logging Features Overview</a> </li>
<li>
<a href="#3.5">Severity Levels and Categories: a Brief Overview</a> </li>
<li>
<a href="#3.6">Messages, Records, and other <code>ball</code> Terminology</a> <ul>
<li>
<a href="#3.6.1">Constraints on Message Encodings</a> </li>
</ul>
</li>
<li>
<a href="#3.7">Log Record Storage and Publication</a> </li>
<li>
<a href="#3.8">The Basic Tools in the <code>ball</code> Logging Toolkit</a> <ul>
<li>
<a href="#3.8.1"><code>ball_LoggerManager</code></a> </li>
<li>
<a href="#3.8.2"><code>ball_Logger</code></a> </li>
<li>
<a href="#3.8.3"><code>ball_LoggerManagerConfiguration</code></a> </li>
<li>
<a href="#3.8.4"><code>ball_LoggerManagerDefaults</code></a> </li>
<li>
<a href="#3.8.5"><code>ball_Observer</code></a> </li>
<li>
<a href="#3.8.6">Logging Macros</a> </li>
</ul>
</li>
<li>
<a href="#3.9">More About Categories</a> </li>
<li>
<a href="#3.10">A Note on Multi-Threaded Logging Usage</a> </li>
<li>
<a href="#3.11">Managing the <code>ball_LoggerManager</code> Singleton</a> </li>
<li>
<a href="#3.12">Usage</a> <ul>
<li>
<a href="#3.12.1">Example 1: Hello World!</a> </li>
<li>
<a href="#3.12.2">Example 2: Hello World! With Modified Defaults</a> </li>
<li>
<a href="#3.12.3">Example 3: Hello World! With Manual <code>publish</code></a> </li>
<li>
<a href="#3.12.4">Example 4: Hello World! in Three Files</a> </li>
<li>
<a href="#3.12.5">Example 5: Logging in Two Threads</a> </li>
<li>
<a href="#3.12.6">Example 6: Logging in Two Threads Using Two Loggers</a> </li>
<li>
<a href="#3.12.7">Example 7: A Thread that Owns its Own Logger Resources</a> </li>
</ul>
</li>
<li>
<a href="#3.13">Appendix: Macro Reference</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide thread-safe logging toolkit suitable for all platforms. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="mnemonic~3A_basic_application_environment_logging_(ball)"></a> <a class="anchor" id="mnemonic"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>MNEMONIC: Basic Application Environment Logging (ball): </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball</code> package provides a toolkit for logging messages in applications and library code. The logger toolkit has an administration layer that allows configuration both at start-up and during program execution, a basic logger API for the most general possible use, and two sets of macros for somewhat less flexible but simpler, more convenient use. In particular, messages may be logged via these macros in either a C++ stream-style syntax (i.e., with the <code>&lt;&lt;</code> operator) or a <code>printf</code>-style syntax. Users are encouraged to use the macros exclusively, because they provide uniformity, and because they are less error-prone. See the <a href="group__ball.html#appendix~3A_macro_reference" class="el">Appendix: Macro Reference</a> section below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="hierarchical_synopsis"></a> <a class="anchor" id="description.hierarchical_synopsis"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Hierarchical Synopsis: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball</code> package currently has 44 components having 16 levels of physical dependency. The list below shows the hierarchical ordering of the components. The order of components within each level is not architecturally significant, just alphabetical. <br/>
<br/>
<div class="fragment"><pre class="fragment">  16. ball_asyncfileobserver

  15. ball_fileobserver

  14. ball_fileobserver2

  13. ball_log

  12. ball_administration

  11. ball_loggercategoryutil
      ball_loggerfunctorpayloads

  10. ball_loggermanager
      ball_scopedattribute
      ball_scopedattributes

   9. ball_attributecontext

   8. ball_categorymanager

   7. ball_category
      ball_multiplexobserver

   6. ball_defaultobserver
      ball_observeradapter
      ball_ruleset
      ball_testobserver

   5. ball_fixedsizerecordbuffer
      ball_observer
      ball_recordstringformatter
      ball_rule

   4. ball_predicateset
      ball_record

   3. ball_attributecontainerlist
      ball_defaultattributecontainer
      ball_loggermanagerconfiguration
      ball_userfields

   2. ball_attributecontainer
      ball_context
      ball_predicate
      ball_recordbuffer
      ball_severityutil
      ball_userfieldsschema
      ball_userfieldvalue

   1. ball_attribute
      ball_countingallocator
      ball_loggermanagerdefaults
      ball_patternutil
      ball_recordattributes
      ball_severity
      ball_thresholdaggregate
      ball_transmission
      ball_userfieldtype
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="component_synopsis"></a> <a class="anchor" id="description.component_synopsis"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>Component Synopsis: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> </div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_administration</code>: <br/>
 Provide a suite of utility functions for logging administration.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_asyncfileobserver</code>: <br/>
 Provide an asynchronous observer that logs to a file and <code>stdout</code>.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_attribute</code>: <br/>
 Provide a representation of (literal) name/value pairs.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_attributecontainer</code>: <br/>
 Provide a protocol for containers holding logging attributes.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_attributecontainerlist</code>: <br/>
 Provide a list of attribute container addresses.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_attributecontext</code>: <br/>
 Provide a container for storing attributes and caching results.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_category</code>: <br/>
 Provide a container for a name and associated thresholds.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_categorymanager</code>: <br/>
 Provide a manager of named categories each having "thresholds".</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_context</code>: <br/>
 Provide a container for the context of a transmitted log record.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_countingallocator</code>: <br/>
 Provide a concrete allocator keep a count of allocated bytes.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_defaultattributecontainer</code>: <br/>
 Provide a default container for storing attribute name/value pairs.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_defaultobserver</code>: <br/>
 Provide a default observer that emits log records to <code>stdout</code>.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_fileobserver</code>: <br/>
 Provide a thread-safe observer that logs to a file and to <code>stdout</code>.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_fileobserver2</code>: <br/>
 Provide a thread-safe observer that emits log records to a file.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_fixedsizerecordbuffer</code>: <br/>
 Provide a thread-safe fixed-size buffer of record handles.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_log</code>: <br/>
 Provide macros and utility functions to facilitate logging.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_loggercategoryutil</code>: <br/>
 Provide a suite of utility functions for category management.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_loggerfunctorpayloads</code>: <br/>
 Provide a suite of useful logger manager functor payloads.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_loggermanager</code>: <br/>
 Provide a manager of core logging functionality.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_loggermanagerconfiguration</code>: <br/>
 Provide a constrained-attribute class for the logger manager.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_loggermanagerdefaults</code>: <br/>
 Provide constrained default attributes for the logger manager.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_multiplexobserver</code>: <br/>
 Provide a multiplexing observer that forwards to other observers.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_observer</code>: <br/>
 Define a protocol for receiving and processing log records.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_observeradapter</code>: <br/>
 Provide a helper for implementing the <code><a class="el" href="classball_1_1Observer.html">ball::Observer</a></code> protocol.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_patternutil</code>: <br/>
 Provide a utility class for string pattern matching.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_predicate</code>: <br/>
 Provide a predicate object that consists of a name/value pair.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_predicateset</code>: <br/>
 Provide a container for predicates.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_record</code>: <br/>
 Provide a container for all fields of a log record.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_recordattributes</code>: <br/>
 Provide a container for a fixed set of fields suitable for logging.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_recordbuffer</code>: <br/>
 Provide a protocol for managing log record handles.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_recordstringformatter</code>: <br/>
 Provide a record formatter that uses a <code>printf</code>-style format spec.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_rule</code>: <br/>
 Provide an object having a pattern, thresholds, and predicates.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_ruleset</code>: <br/>
 Provide a set of unique rules.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_scopedattribute</code>: <br/>
 Provide a scoped guard for a single BALL attribute.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_scopedattributes</code>: <br/>
 Provide a class to add and remove attributes automatically.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_severity</code>: <br/>
 Enumerate a set of logging severity levels.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_severityutil</code>: <br/>
 Provide a suite of utility functions on <code><a class="el" href="structball_1_1Severity.html">ball::Severity</a></code> levels.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_testobserver</code>: <br/>
 Provide an instrumented observer for testing.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_thresholdaggregate</code>: <br/>
 Provide an aggregate of the four logging threshold levels.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_transmission</code>: <br/>
 Enumerate the set of states for log record transmission.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_userfields</code>: <br/>
 Provide a container of user supplied field values.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_userfieldsschema</code>: <br/>
 Provide a description for a sequence user field values.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_userfieldtype</code>: <br/>
 Enumerate the set of data types for a user supplied attribute.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>ball_userfieldvalue</code>: <br/>
 Provide a type for the value of a user supplied field.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> </div> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="multi-threaded_logging"></a> <a class="anchor" id="description.multi-threaded_logging"></a> <a class="anchor" id="3.3"></a> </dd></dl>
<dl class="user"><dt><b>Multi-Threaded Logging: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball</code> logging toolkit is thread-enabled and suitable for multi-threaded applications. At the user's option, the multi-threaded toolkit permits each thread to install a distinct instance of <code>ball_Logger</code>; the process-wide "default" logger is available to any thread that does not install its own logger. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="logging_features_overview"></a> <a class="anchor" id="description.logging_features_overview"></a> <a class="anchor" id="3.4"></a> </dd></dl>
<dl class="user"><dt><b>Logging Features Overview: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section provides a brief overview of the features of the <code>ball</code> logging toolkit, and introduces (without formal definition) some of the terminology used in <code>ball</code>. Refer to the hierarchical and alphabetical Synopsis sections above to associate these features with the overall <code>ball</code> design, and see the various sections below for more detailed descriptions. </dd></dl>
<dl class="user"><dt><b></b></dt><dd><ul>
<li>
User-assigned Severity Level associated with each log message  </li>
<li>
User-defined <a class="el" href="classCategory.html">Category</a> associated with each log message  </li>
<li>
Four Severity Threshold Levels associated with each <a class="el" href="classCategory.html">Category</a>  </li>
<li>
<a class="el" href="classCategory.html">Category</a> threshold levels are administrable both at start-up and during program execution  </li>
<li>
<p class="startli">Severity Level plus (administrable) per-category Threshold Levels allow: <br/>
</p>
<ul>
<li>
efficient suppression of message-logging operation (one <code>if</code> statement)  </li>
<li>
efficient logging-to-memory (subsequent publication is user-controlled)  </li>
<li>
immediate publication of log message (to user-defined "observer")  </li>
<li>
immediate publication of all messages currently held in (finite) buffer </li>
</ul>
<p class="endli"></p>
</li>
<li>
Logging to memory permits efficient logging of large quantities of "trace" information that will not be published <em>unless</em> a specific user-defined logging event occurs ("trace-back" feature)  </li>
<li>
User can always configure logger to publish every message, if desired  </li>
<li>
User defines and registers an "observer", which in turn defines the behavior of the "publish" operation (e.g., write to file, write to console, process message and take specific action, etc.)  </li>
<li>
Convenient logging macros simplify usage for the most common operations  </li>
<li>
Optional functors and other parameters allow customized logging behavior (e.g., default threshold levels, category name filtering)  </li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball</code> package provides a flexible logging toolkit that supports several standard and non-standard features. Perhaps most notable among the non-standard features is the ability to write messages to an in-memory "circular" (finite) buffer with the expectation that those messages will be overwritten and never actually "logged" to any permanent medium. With this feature, during normal production operation a large quantity of "trace-back" information can be "logged" to memory, and typically be discarded, without having clogged production resources. If, however, some "error" occurs, the information just prior to that error will be available for fast diagnosis and debugging. It is easy to re-configure logger operation so that every message is archived, if that is the preferred behavior, but the efficient trace-back feature is an explicit design goal. See the "Hello world!" examples under <a href="group__ball.html#usage" class="el">Usage</a> below for illustrations of how to configure the logger behavior. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Another key design feature is the "observer" object. <code>ball</code> defines the <code>ball_Observer</code> protocol (abstract interface), and provides a few concrete observers. It is expected that most users will find the concrete observers that are provided in <code>ball</code> to be sufficient for their needs. However, users are free to define their own observers tailored to meet their specific requirements. In the current release, exactly one observer is registered with the <code>ball</code> logger on initialization; we anticipate that multiple observers, e.g., one per thread or perhaps one per logger, may be available in future releases. An observer makes its <code>publish</code> method available to the logger; since the <code>publish</code> method is free to do almost anything that the user wants, the limitation of one observer per process is not very restrictive. The observer may: write the message to a simple file, write the message to a set of managed files, write the message to the console (perhaps with some information removed and/or added), process the message (complete with <a class="el" href="classCategory.html">Category</a> and Severity information) and take specific responsive actions, or any combination of these or other behaviors. In particular, <code>ball</code> provides a "multiplexing observer", so that the one observer registered with the logger can forward messages to any number of observers that are separately registered with the multiplexing observer (and are therefore unknown to the logger proper). </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="severity_levels_and_categories~3A_a_brief_overview"></a> <a class="anchor" id="description.severity_levels_and_categories~3A_a_brief_overview"></a> <a class="anchor" id="severity_levels_and_categories"></a> <a class="anchor" id="description.severity_levels_and_categories"></a> <a class="anchor" id="3.5"></a> </dd></dl>
<dl class="user"><dt><b>Severity Levels and Categories: a Brief Overview: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The logger supports the notions of severity levels and categories. Every message is logged at some severity level and to some category. Categories are user-defined (except for the "default category"), and can be separately managed; in particular, the behavior of any given message-logging operation depends upon specific severity level threshold settings for the category to which the message is being logged. See the <code>ball_loggermanager</code> component for more details about categories and category administration. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Severity levels are, from the perspective of the basic logger API, user-settable in the range <code>[0 .. 255]</code>. Much more commonly, however, (and necessarily when using the <code>ball</code> convenience macros defined in the <code>ball_log</code> component), the user will choose to use the fixed set of enumerated severity levels as defined in the <code>ball_severity</code> component. The enumerator names suggest a meaning that is consistent with common practice, but no policy is enforced by the basic logger API or the macros. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>For convenient reference only, the <code>ball_Severity::Level</code> <code>enum</code> implementation is presented below. Note that this implementation and the specific numerical values may not be relied upon. Note also that the enumerator <code>NONE</code> is deprecated, since its name has proven to be confusing. As an argument to <code>logMessage</code>, it would satisfy "none" of the thresholds, but when provided as a threshold value itself, it would enable "all" of the enumerated <code>logMessage</code> requests (and all of the macros). Use <code>e_OFF</code> as a threshold level to disable all logging events for a particular logging behavior (see the "Log Record Storage and Publication" section below). <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">enum</span> Level {
      e_OFF   =   0,  <span class="comment">// disable generation of corresponding message</span>
      e_FATAL =  32,  <span class="comment">// a condition that will (likely) cause a *crash*</span>
      e_ERROR =  64,  <span class="comment">// a condition that *will* cause incorrect behavior</span>
      e_WARN  =  96,  <span class="comment">// a *potentially* problematic condition</span>
      e_INFO  = 128,  <span class="comment">// data about the running process</span>
      e_DEBUG = 160,  <span class="comment">// information useful while debugging</span>
      e_TRACE = 192,  <span class="comment">// execution trace data</span>
  };
</pre></div><br/>
<br/>
 Note that numerically lower <code>Level</code> values correspond to conditions having greater severity. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="messages,_records,_and_other_ball_terminology"></a> <a class="anchor" id="description.messages,_records,_and_other_ball_terminology"></a> <a class="anchor" id="3.6"></a> </dd></dl>
<dl class="user"><dt><b>Messages, Records, and other ball Terminology: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The entity that the logger logs is called in <code>ball</code> a "log record", which consists of a number of fixed and user-defined fields; one of the fixed fields is called a "log message" (or "message" for short). In casual usage, we use "record" and "message" interchangeably, but note that they are distinct concepts. The set of fixed fields that constitute a log record are defined in the <code>ball_recordattributes</code> component. A brief description of the fixed fields (or "record attributes") is given in the following table. <br/>
<br/>
<div class="fragment"><pre class="fragment">   Attribute        <a class="code" href="classBind__ImplSelector_1_1Type.html">Type</a>               Description               Default
   ----------   -------------   ------------------------------   -------
   timestamp    bdet_Datetime   creation date and time           (*Note*)
   processID    <span class="keywordtype">int</span>             process <span class="keywordtype">id</span> of creator              0
   threadID     <span class="keywordtype">int</span>             thread <span class="keywordtype">id</span> of creator               0
   fileName     bdl::<span class="keywordtype">string</span>     file where created  (__FILE__)     &quot;&quot;
   lineNumber   <span class="keywordtype">int</span>             line number in file (__LINE__)     0
   category     bdl::<span class="keywordtype">string</span>     category of logged record          &quot;&quot;
   severity     <span class="keywordtype">int</span>             severity of logged record          0
   message      bdl::<span class="keywordtype">string</span>     log message text                   &quot;&quot;

   Note: The default value given to the timestamp attribute is implementation
         defined.  (See the &#39;bdet_datetime&#39; component-level documentation for
         more information.)
</pre></div><br/>
<br/>
 The user may wish to specify a set of user-defined fields to be included within every log record for a given program. Such user-defined fields are represented in each log record as the elements of a <code>bdem_List</code>, which is in turn described by a <code>bdem_Schema</code> object. The schema is provided to the logger manager on construction (via the <code>ball_LoggerManagerConfiguration</code> object). Whenever a schema is specified to the configuration object, a <code>ball_LoggerManagerConfiguration::UserPopulatorCallback</code> functor must also be supplied; the <code>UserPopulatorCallback</code>, when invoked, "populates" (i.e., provides the values for) all elements of the <code>bdem_List</code> containing the user-defined fields. See the <code>ball_record</code> component for more information about the use of <code>bdem_List</code> in logging, and see the <code>ball_loggermanager</code> component for more information about installing a <code>bdem_Schema</code> and a user populator callback that will describe the <code>bdem_List</code> used in each log record. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="constraints_on_message_encodings"></a> <a class="anchor" id="messages,_records,_and_other_ball_terminology.constraints_on_message_encodings"></a> <a class="anchor" id="description.messages,_records,_and_other_ball_terminology.constraints_on_message_encodings"></a> <a class="anchor" id="3.6.1"></a> </dd></dl>
<dl class="user"><dt><b>Constraints on Message Encodings: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball</code> infrastructure has no provisions for specifying or enforcing constraints on the encoding used for logged messages (in general, logged messages are published to registered observers in the encoding in which they were originally supplied). However, particular applications, frameworks, and consumers of log records (e.g., readers of log files) may place their own constraints on log records with respect to encoding. Clients generating log records should be aware of the encoding requirements for logged messages generated by their application (e.g., many applications at Bloomberg require UTF-8 encoded messages). </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="log_record_storage_and_publication"></a> <a class="anchor" id="description.log_record_storage_and_publication"></a> <a class="anchor" id="3.7"></a> </dd></dl>
<dl class="user"><dt><b>Log Record Storage and Publication: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The logger achieves good run-time performance while capturing critical log messages by <em>selectively</em> storing log records and <em>selectively</em> publishing a subset of those stored records. The determination of whether a log record should be stored or published is based on the "category" and "severity" level that are associated with each record. The severity of a record is intended to indicate that record's relative urgency. A category is comprised of a name (an arbitrary string) and four severity threshold levels (see the component-level documentation of <code>ball_severity</code> for more information on typical severity levels). A message's text, its associated severity, and the name of its associated category are each among the fixed fields in the logged record (see the "Messages, Records, and other &lt;code&gt;ball&lt;/code&gt; Terminology" section above). </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following four settings define the log record severity levels at which the logger takes certain actions. The logger determines the disposition of a record based on its severity level in relation to the four <em>severity</em> <em>threshold</em> <em>levels</em> of the category associated with the message: </dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> </div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> Record: <br/>
 If the severity level of the record is at least as severe as the Record threshold level of the associated category, then the record will be stored by the logger in its log record buffer (i.e., it will be recorded).</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> Pass: <br/>
 If the severity level of the record is at least as severe as the Pass threshold level of the associated category, then the record will be immediately published by the logger (i.e., it will be transmitted to the logger's downstream recipient -- the observer).</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> Trigger: <br/>
 If the severity level of the record is at least as severe as the Trigger threshold level of the associated category, then the record will cause immediate publication of that record and any records in the logger's log record buffer (i.e., this record will trigger a general log record dump).</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> Trigger-All: <br/>
 If the severity level of the record is at least as severe as the Trigger-All threshold level of the associated category, then the record will cause immediate publication of that record and all other log records stored by <em>all</em> active loggers.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> </div> </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that more than one of the above actions can apply to a given log record since the four threshold levels are independent of one another. Also note that the determination of whether a log record should cause a Trigger or Trigger-All event is based on the trigger and trigger-all threshold levels, respectively, of the category associated with the record being logged. The categories and severities associated with log records stored earlier are not taken into account. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit"></a> <a class="anchor" id="3.8"></a> </dd></dl>
<dl class="user"><dt><b>The Basic Tools in the ball Logging Toolkit: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section will be expanded upon in the future. For now, we provide a brief introduction to the objects that are most central to understanding basic logger operation, so that we may use their names elsewhere in this documentation. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="ball_loggermanager"></a> <a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit.ball_loggermanager"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit.ball_loggermanager"></a> <a class="anchor" id="3.8.1"></a> </dd></dl>
<dl class="user"><dt><b>ball_LoggerManager: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><code>ball_LoggerManager</code> is a singleton that must be constructed with an observer (see below), a configuration object (see below), and an optional <code>bdema</code> allocator before any true logging operations can be performed. The logger manager's main tasks are to administer categories and to "allocate" loggers. If the user has <em>not</em> allocated and installed any logger instances, then the <code>getLogger</code> method will return the "default logger", which is a specific instance of <code>ball_Logger</code> that is owned and managed by the logger manager. This default logger is suitable for single-threaded and multi-threaded use, and is used "transparently" by users willing to accept default-logger behavior. See <a href="group__ball.html#usage" class="el">Usage</a> below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The logger manager provides the <code>allocateLogger</code> and <code>setLogger</code> methods, which allocate arbitrarily many loggers and install (at most) one logger per thread, respectively. Any thread in which the <code>setLogger</code> method was not called will use the default logger. See <a href="group__ball.html#example_6" class="el">Example 6</a> and <a href="group__ball.html#example_7" class="el">Example 7</a> below for a discussion of how and why to allocate multiple loggers. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="ball_logger"></a> <a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit.ball_logger"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit.ball_logger"></a> <a class="anchor" id="3.8.2"></a> </dd></dl>
<dl class="user"><dt><b>ball_Logger: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><code>ball_Logger</code> provides the most central logging functionality, namely the <code>logMessage</code> method. However, most users will never call <code>logMessage</code> directly, but rather will use the sets of macros defined in the <code>ball_log</code> component. See the <a href="group__ball.html#appendix~3A_macro_reference" class="el">Appendix: Macro Reference</a> section below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The "default" <code>ball_Logger</code> instance managed by the logger manager is suitable for many purposes, so typical users need never interact with logger instances explicitly at all. However, in multi-threaded applications (and perhaps also in certain special-purpose single-threaded programs), the user may want to instantiate one or more logger instances and install at most one logger instance per thread. See <a href="group__ball.html#example_6" class="el">Example 6</a> and <a href="group__ball.html#example_7" class="el">Example 7</a> below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="ball_loggermanagerconfiguration"></a> <a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit.ball_loggermanagerconfiguration"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit.ball_loggermanagerconfiguration"></a> <a class="anchor" id="3.8.3"></a> </dd></dl>
<dl class="user"><dt><b>ball_LoggerManagerConfiguration: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><code>ball_LoggerManagerConfiguration</code> is a "configuration" object that must be supplied to the logger manager at construction. The default object configures the "default" logging behavior; the user can change the logger behavior by changing attributes in the configuration object. The name, type, and description of the configuration attributes are presented in the two tables below; the awkward repetition of <code>NAME</code> is due to the long type names of the functor types. <br/>
<br/>
<div class="fragment"><pre class="fragment">  NAME                   TYPE
  -------------------    -----------------------------------------------------
  defaults               ball_LoggerManagerDefaults

  userSchema             bdem_Schema

  userPopulatorCallback
                         bdef_Function&lt;void (*)(bdem_List *, bdem_Schema)&gt;

  categoryNameFilterCallback
                         bdef_Function&lt;void (*)(bsl::string *, const char *)&gt;

  defaultThresholdLevelsCallback
                         bdef_Function&lt;void (*)(<span class="keywordtype">int</span> *, <span class="keywordtype">int</span> *, <span class="keywordtype">int</span> *, <span class="keywordtype">int</span> *,
                                                <span class="keyword">const</span> <span class="keywordtype">char</span> *)&gt;

  logOrder               ball_LoggerManagerConfiguration::LogOrder
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd><br/>
<br/>
<div class="fragment"><pre class="fragment">  NAME                  DESCRIPTION
  -------------------   -----------------------------------------------------
  defaults              constrained defaults <span class="keywordflow">for</span> buffer <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a> and thresholds

  userSchema            defines optional user fields in a log record

  userPopulatorCallback populates optional user fields in a log record

  categoryNameFilterCallback
                        invoked on category names, e.g., to re-map characters

  defaultThresholdLevelsCallback
                        sets category severity threshold levels (by <span class="keywordflow">default</span>)

  logOrder              log message publication order on <span class="stringliteral">&quot;trigger&quot;</span> events
</pre></div><br/>
<br/>
 Note that the configuration object is not value-semantic, because its three functor attributes are not value-semantic. For this reason, the single "defaults" attribute, which is a value-semantic constrained-attributes type, was factored out from the configuration type. The defaults object, which holds six numerical attributes, is described in the next sub-section below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="ball_loggermanagerdefaults"></a> <a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit.ball_loggermanagerdefaults"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit.ball_loggermanagerdefaults"></a> <a class="anchor" id="3.8.4"></a> </dd></dl>
<dl class="user"><dt><b>ball_LoggerManagerDefaults: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><code>ball_LoggerManagerDefaults</code> is a value-semantic constrained-attributes type that is itself an attribute of the above "configuration" object. The "defaults" object contains the following six constrained attributes. <br/>
<br/>
<div class="fragment"><pre class="fragment">  TYPE          NAME                DESCRIPTION
  -----------   ----------------    -------------------------------------
  <span class="keywordtype">int</span>           recordBufferSize    <a class="code" href="namespacebdlat__ArrayFunctions.html#a65e1cfba76b2d13054b61159488b0da8">size</a> in bytes of *<span class="keywordflow">default</span>* logger<span class="stringliteral">&#39;s</span>
<span class="stringliteral">                                    record buffer</span>
<span class="stringliteral"></span>
<span class="stringliteral">  int           loggerBufferSize    default size in bytes of *each*</span>
<span class="stringliteral">                                    logger&#39;</span>s <span class="stringliteral">&quot;scratch&quot;</span> buffer (<span class="keywordflow">for</span> macros)

  <span class="keywordtype">char</span>          recordLevel         <span class="keywordflow">default</span> record severity level

  <span class="keywordtype">char</span>          passLevel           <span class="keywordflow">default</span> pass-through severity level

  <span class="keywordtype">char</span>          triggerLevel        <span class="keywordflow">default</span> trigger severity level

  <span class="keywordtype">char</span>          triggerAllLevel     <span class="keywordflow">default</span> trigger-all severity level
</pre></div><br/>
<br/>
 The constraints are as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment">   NAME                 CONSTRAINT
  +--------------------+---------------------------------------------+
  | recordBufferSize   | 1 &lt;= recordBufferSize                       |
  +--------------------+---------------------------------------------+
  | loggerBufferSize   | 1 &lt;= loggerBufferSize                       |
  +--------------------+---------------------------------------------+
  | recordLevel        | 0 &lt;= recordLevel     &lt;= 255                 |
  | passLevel          | 0 &lt;= passLevel       &lt;= 255                 |
  | triggerLevel       | 0 &lt;= triggerLevel    &lt;= 255                 |
  | triggerAllLevel    | 0 &lt;= triggerAllLevel &lt;= 255                 |
  +--------------------+---------------------------------------------+
</pre></div><br/>
<br/>
 <code>ball_LoggerManagerDefaults</code> was factored out of the configuration object because the former is purely value-semantic, and can be generated from, e.g., a configuration file. From this perspective, it is very convenient to set this one attribute in the configuration object. It is quite possible to ignore the independent existence of <code>ball_LoggerManagerDefaults</code> and set the above constrained attributes directly in the <code>ball_LoggerManagerConfiguration</code> object. The latter is more convenient in "simple" usage, and is illustrated in <a href="group__ball.html#usage" class="el">Usage</a> below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="ball_observer"></a> <a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit.ball_observer"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit.ball_observer"></a> <a class="anchor" id="3.8.5"></a> </dd></dl>
<dl class="user"><dt><b>ball_Observer: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><code>ball_Observer</code> is the object that receives "published" log messages. Specifically, <code>ball_Observer</code> is a protocol (abstract interface), and the user must supply a concrete implementation (separately written or chosen from existing <code>ball</code> observers). The observer provides a <code>publish</code> method that defines the behavior of the logical concept of "publication" of a message used throughout this document. Note that, although only one observer may be registered with the logger manager, <code>ball</code> provides a multiplexing observer (<code>ball_MultiplexObserver</code>), which in turn accepts registry of multiple observers. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="logging_macros"></a> <a class="anchor" id="the_basic_tools_in_the_ball_logging_toolkit.logging_macros"></a> <a class="anchor" id="description.the_basic_tools_in_the_ball_logging_toolkit.logging_macros"></a> <a class="anchor" id="3.8.6"></a> </dd></dl>
<dl class="user"><dt><b>Logging Macros: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>For both convenience and uniformity of programming, <code>ball</code> provides a suite of logging macros (defined in the <code>ball_log</code> component). All but the most demanding and customized applications will use the logging macros for basic logging operations (e.g., setting categories and logging messages). The logger manager interface is used primarily to administer global and category-specific severity threshold levels, and to allocate loggers. See the <a href="group__ball.html#usage" class="el">Usage</a> and <a href="group__ball.html#appendix~3A_macro_reference" class="el">Appendix: Macro Reference</a> sections below for examples and reference documentation, respectively. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The user should note the following two facts about macro usage: </dd></dl>
<dl class="user"><dt><b></b></dt><dd><ol>
<li>
The <code>BAEL_LOG_SET_CATEGORY</code> macro is not only convenient, it is <em>required</em> for macro use, since it defines symbols that the other macros expect to see.  </li>
<li>
There are two styles of logging macros, C++ stream style and <code>printf</code> style. The <code>printf</code>-style logging macros write to an intermediate fixed-size buffer managed by the active logger instance. For any one macro invocation, data larger than the buffer size is (silently) truncated. The buffer size is 8k bytes by default; the buffer size can be queried by the logger <code>messageBufferSize</code> instance method, and can be set at logger manager construction via the <code>ball_LoggerManagerConfiguration</code> object. (This is not the case with the C++ stream-style macros, which are more efficient.)  </li>
</ol>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="more_about_categories"></a> <a class="anchor" id="description.more_about_categories"></a> <a class="anchor" id="3.9"></a> </dd></dl>
<dl class="user"><dt><b>More About Categories: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>When the logger manager singleton is created, a distinguished category known as the <em>Default</em> <em><a class="el" href="classCategory.html">Category</a></em> is created. At initialization, the <em>Default</em> <em><a class="el" href="classCategory.html">Category</a></em> is given "factory-supplied" default threshold levels. These threshold levels, values distributed in the range <code>[0 .. 255]</code>, are not published and are subject to change over time. Explicit settings for these factory values may be specified when the singleton is constructed. This is done by constructing a <code>ball_LoggerManagerConfiguration</code> object (needed for logger manager construction in any event) and then calling the <code>setDefaultThresholdLevelsIfValid</code> method with the desired values for its four arguments before supplying the configuration object to the logger manager configuration. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <em>Default</em> <em><a class="el" href="classCategory.html">Category</a></em> may arise during logging whenever the <code>setCategory(const char *categoryName)</code> method is called. That method returns the address of the category having <code>categoryName</code>, if it exists; if no such category exists, and a category having <code>categoryName</code> cannot be created due to a capacity limitation on the category registry maintained by the logger manager singleton, then the <em>Default</em> <em><a class="el" href="classCategory.html">Category</a></em> is returned. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Categories that are added to the registry during logging through calls to the <code>setCategory(const char *)</code> method are given threshold levels by one of two means. One alternative is to use the <code>ball_LoggerManagerConfiguration::DefaultThresholdLevelsCallback</code> functor that is optionally supplied by the client when the logger manager singleton is initialized. If such a functor <em>is</em> provided by the client, then it is used to supply threshold levels to categories added by <code>setCategory(const char *)</code>. Otherwise, default threshold levels maintained by the logger manager for that purpose are used. At initialization, these default threshold levels are given the same "factory-supplied" settings as those for the <em>Default</em> <em><a class="el" href="classCategory.html">Category</a></em>, which again may be explicitly overridden at construction. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The default threshold levels can be adjusted (<code>setDefaultThresholdLevels</code>) and reset to their original values (<code>resetDefaultThresholdLevels</code>). Note that if factory values are overridden at initialization, a reset will restore thresholds to the user-specified default values. In addition, there is a method to set the threshold levels of a given category to the current default threshold levels (<code>setCategoryThresholdsToCurrentDefaults</code>) or to the factory-supplied (or client-overridden) default values (<code>setCategoryThresholdsToFactoryDefaults</code>). </dd></dl>
<dl class="user"><dt><b></b></dt><dd>One final note regarding categories is that the client can optionally supply a <code>ball_LoggerManagerConfiguration::CategoryNameFilterCallback</code> functor to translate category names from an external to an internal representation. For example, a project may allow programmers to refer to categories using mixed-case within an application, but provide a <code>toLower</code> <code>CategoryNameFilterCallback</code> to map all external upper-case letters to lower-case internally. Such a name-filtering functor is set in the <code>ball_LoggerManagerConfiguration</code> object before that configuration object is passed to the logger manager scoped guard constructor. In this scenario, the (hypothetical) external category names "EQUITY.MARKET.NYSE" and "equity.market.nyse" would be mapped to the same category internally by the presumed <code>toLower</code> functor. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="a_note_on_multi-threaded_logging_usage"></a> <a class="anchor" id="description.a_note_on_multi-threaded_logging_usage"></a> <a class="anchor" id="3.10"></a> </dd></dl>
<dl class="user"><dt><b>A Note on Multi-Threaded Logging Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball</code> logging toolkit may be used in single-threaded and multi-threaded library code and applications with equal ease, and with virtually no difference in coding. In particular, the same call to the logger manager scoped guard constructor is required in <code>main</code> in both cases, and individual calls to the <code>ball_Logger</code> instance method <code>logMessage</code> (and logging calls via the logging macros -- see <code>ball_log</code> and the <a href="group__ball.html#appendix~3A_macro_reference" class="el">Appendix: Macro Reference</a> below) are identical from the user's perspective. <a class="el" href="classCategory.html">Category</a> threshold administration is also identical in both cases, since that is done by the singleton logger manager. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Differences in logger usage, or, more precisely, additional options for the multi-threaded user, arise when the user wishes to allocate one or more loggers beyond the default logger, which is owned by the singleton logger manager. If a user does <em>not</em> explicitly allocate a logger (via the logger manager instance method <code>allocateLogger</code>) and install that logger for a given thread (via the manager instance method <code>setLogger</code>), then all records from all threads in a program will be logged to the one default logger. However, since each thread of execution may have its own logger instance, multi-threaded users may choose to allocate and install multiple loggers. Note that each thread may have at most one logger, but a single logger may be used by any number of threads. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Multi-threaded users of logging may prefer to allocate and install one logger per thread in order to take advantage of the "trace-back" feature described above on a per-thread basis. In the event of an "error condition" (as defined by the <em>user</em>), such a logging configuration can provide a trace-back through the record buffer of the thread that caused the error, without any dilution from records logged from other threads. Conversely, if several threads are known to interact closely, it may be advantageous to have them share a common logger so that the trace-back log <em>does</em> include relevant records from all designated threads, in reverse chronological order. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="managing_the_ball_loggermanager_singleton"></a> <a class="anchor" id="description.managing_the_ball_loggermanager_singleton"></a> <a class="anchor" id="3.11"></a> </dd></dl>
<dl class="user"><dt><b>Managing the ball_LoggerManager Singleton: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The recommended way to initialize the logger manager singleton is to create a <code>ball_LoggerManagerScopedGuard</code> object in <code>main</code> (<em>before</em> creating any threads). The logger manager scoped guard constructor takes an observer, a configuration object (an instance of <code>ball_LoggerManagerConfiguration</code>), and an optional allocator. The logger manager singleton is created as a side-effect of creating the scoped guard object. When the guard object goes out of scope (i.e., on program exit), the logger manager singleton is automatically destroyed. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>As an alternative to using the logger manager scoped guard, the <code>static</code> <code>ball_LoggerManager::initSingleton</code> method that takes the same arguments as the scoped guard constructor may be used to initialize the singleton. However, in this case the <code>ball_LoggerManager::shutDownSingleton</code> method must be explicitly called to destroy the logger manager singleton on program exit. Unless <code>shutDownSingleton</code> is called, the singleton will not be destroyed and resources used by the singleton will leak. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Direct use of the <code>public</code> logger manager constructor to initialize the logger manager singleton is <em>deprecated</em>. The constructor will be declared <code>private</code> in a future release. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Direct use of any of the 16 <code>ball_LoggerManager::initSingleton</code> methods that do <em>not</em> take an instance of <code>ball_LoggerManagerConfiguration</code> to initialize the logger manager singleton is <em>deprecated</em>. These methods will be eliminated in a future release. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.12"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section provides a set of logging examples designed to introduce and illustrate basic concepts, features, and resulting operation. The first four examples are very simple "Hello world!" programs that show single-threaded usage. The next three examples illustrate multi-threaded usage. As simple as these examples are, they show sufficient functionality to use the <code>ball</code> logger in a fair number of production applications. In particular, all of these examples use the macros from the <code>ball_log</code> component to perform the actual logging. Methods from <code>ball_loggermanager</code> are used for initialization and administration, but for most applications, anything that <em>can</em> be done using the logging macros <em>should</em> be done with the macros. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_1~3A_hello_world!"></a> <a class="anchor" id="usage.example_1~3A_hello_world!"></a> <a class="anchor" id="description.usage.example_1~3A_hello_world!"></a> <a class="anchor" id="example_1"></a> <a class="anchor" id="usage.example_1"></a> <a class="anchor" id="description.usage.example_1"></a> <a class="anchor" id="3.12.1"></a> </dd></dl>
<dl class="user"><dt><b>Example 1: Hello World!: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This "Hello world!" example illustrates the most basic use of logging within a single translation unit containing a <code>main</code> function and essentially nothing else. Among the points of usage that we illustrate are: </dd></dl>
<dl class="user"><dt><b></b></dt><dd><ul>
<li>
Instantiating a <code>ball_DefaultObserver</code> and passing it to the logger manager scoped guard constructor.  </li>
<li>
Instantiating a <code>ball_LoggerManagerConfiguration</code> and passing it to the logger manager scoped guard constructor.  </li>
<li>
Invoking the <code>BAEL_LOG_SET_CATEGORY</code> macro to set a category (named "main
  category" in this example); records logged from a scope where the effects of the macro are visible (and not superseded by a macro invocation in a nested scope) will be logged to this category.  </li>
<li>
Using the <code>BAEL_LOG_INFO</code> macro to log a "Hello world!" message at <code>e_INFO</code> severity; messages at <code>e_INFO</code> severity are ignored by default.  </li>
<li>
Depending upon a command-line argument, a message is logged at <code>e_ERROR</code> severity, which will be published as a "pass-through". If the command-line argument is absent, the program will succeed with no messages published. This is the intended behavior.  </li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that, when logging using the macros, the <code>BAEL_LOG_SET_CATEGORY</code> macro is not only extremely convenient, it is required, since it in turn defines symbols that the logging macros expect to see. Note also that <code>BAEL_LOG_SET_CATEGORY</code> must be used at function scope. Finally, note that <code>BAEL_LOG_SET_CATEGORY</code> can be used only once within a scope, although it can be nested in inner scopes. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The entire program file is as follows. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// logging.m.cpp                                                    -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__defaultobserver_8h.html" title="Provide a default observer that emits log records to stdout.">ball_defaultobserver.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanager_8h.html" title="Provide a manager of core logging functionality.">ball_loggermanager.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanagerconfiguration_8h.html" title="Provide a constrained-attribute class for the logger manager.">ball_loggermanagerconfiguration.h</a>&gt;</span>

<span class="preprocessor">  #include &lt;bsl_iostream.h&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
  {
      <span class="keywordtype">int</span> verbose = argc &gt; 1;
          <span class="comment">// Enable command-line control of program behavior.</span>

      ball_DefaultObserver observer(bsl::cout);
          <span class="comment">// Simplest observer; writes to &#39;stdout&#39;.</span>

      ball_LoggerManagerConfiguration configuration;
      configuration.setDefaultThresholdLevelsIfValid(
                                                   ball_Severity::e_BAEL_WARN);
          <span class="comment">// Configure the minimum threshold at which records are published to</span>
          <span class="comment">// the observer to &#39;e_WARN&#39;.</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main category&quot;</span>);
          <span class="comment">// Set a category -- an arbitrary name.</span>

      BAEL_LOG_INFO &lt;&lt; <span class="stringliteral">&quot;Hello world!&quot;</span> &lt;&lt; BAEL_LOG_END;
          <span class="comment">// With default settings, this line has no effect.</span>

      <span class="keywordflow">if</span> (verbose) {  <span class="comment">// &#39;if&#39; to allow command-line activation</span>
          BAEL_LOG_ERROR &lt;&lt; <span class="stringliteral">&quot;Good-bye world!&quot;</span> &lt;&lt; BAEL_LOG_END;
              <span class="comment">// Log &#39;message&#39; at &#39;ball_Severity::e_ERROR&#39; severity level.</span>
      }
      <span class="keywordflow">else</span> {
          bsl::cout &lt;&lt; <span class="stringliteral">&quot;This program should produce no other output.\n&quot;</span>;
              <span class="comment">// By default, &#39;e_INFO&#39; is ignored; only &#39;e_ERROR&#39; and above are</span>
              <span class="comment">// published.</span>
      }

      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 If the above program is run with no command-line arguments, the output will appear on <code>stdout</code> as: <br/>
<br/>
<div class="fragment"><pre class="fragment">  This program should produce no other output.
</pre></div><br/>
<br/>
 This case illustrates the default behavior, namely that "extraordinary" severity events (i.e., <code>e_ERROR</code> and <code>e_FATAL</code>) are published immediately, but other events (such as <code>e_INFO</code>, <code>e_DEBUG</code>, and <code>e_TRACE</code>) are ignored. The user can easily modify this default behavior; subsequent examples will address these alternate usage modes. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>If, however, any argument at all is provided to the executable on the command line, the output to <code>stdout</code> will appear something like the following. (The spacing is changed to aid readability.) <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:26:46.322 6152 1 ERROR logging.m.cpp 33 main category
  Good-bye world!
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_2~3A_hello_world!_with_modified_defaults"></a> <a class="anchor" id="usage.example_2~3A_hello_world!_with_modified_defaults"></a> <a class="anchor" id="description.usage.example_2~3A_hello_world!_with_modified_defaults"></a> <a class="anchor" id="example_2"></a> <a class="anchor" id="usage.example_2"></a> <a class="anchor" id="description.usage.example_2"></a> <a class="anchor" id="3.12.2"></a> </dd></dl>
<dl class="user"><dt><b>Example 2: Hello World! With Modified Defaults: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This "Hello world!" example illustrates how to enable "recording" log records to the in-memory record buffer, and also how to change the severity level at which records are published as "pass-through". The code is identical to <a href="group__ball.html#example_1" class="el">Example 1</a>, except that attributes of <code>ball_LoggerManagerConfiguration</code> are changed from their defaults (in a single line, in this case). </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code>ball_LoggerManagerConfiguration</code> <code>setDefaultThresholdLevelsIfValid</code> method, which we will use to change the default configuration, takes four arguments, each in the range <code>[0 .. 255]</code>. The method returns a status, and will fail (with no effect) if any argument is not a valid threshold level. Note that any <code>ball_Severity::Level</code> enumerator value is valid, and it is good practice to limit arguments to one of those enumerators. The one line that effects our change is: <br/>
<br/>
<div class="fragment"><pre class="fragment">  configuration.setDefaultThresholdLevelsIfValid(
                               ball_Severity::e_TRACE,   <span class="comment">// record level</span>
                               ball_Severity::e_WARN,    <span class="comment">// pass-through level</span>
                               ball_Severity::e_ERROR,   <span class="comment">// trigger level</span>
                               ball_Severity::e_FATAL);  <span class="comment">// trigger-all level</span>
</pre></div><br/>
<br/>
 This method call sets the four severity threshold levels as indicated, which has the following effect on logging behavior. </dd></dl>
<dl class="user"><dt><b></b></dt><dd><ol>
<li>
Any record logged with a severity that is at least that of <code>e_TRACE</code> is written to the record buffer, but not necessarily published.  </li>
<li>
Any record logged with a severity that is at least that of <code>e_WARN</code> is published immediately as a pass-through record <em>and</em> is recorded in the record buffer. Note that, should the record buffer be published before such a record is overwritten, the record will be published a second time, avoiding "holes" in the trace-back if and when the buffer is published.  </li>
<li>
Any record logged with a severity that is at least that of <code>e_ERROR</code> is published immediately as a pass-through record <em>and</em> is recorded in the record buffer, and <em>then</em> triggers the publication of the record buffer. This behavior, among other things, guarantees that the <code>e_ERROR</code> record will be published twice. Although this might seem like a bug, it is the intended behavior. Each published record is sent to the observer with a publication cause (a <code>ball_Transmission::Cause</code> value), which the observer is free to use in filtering and re-routing published records. Future examples will illustrate various filtering techniques.  </li>
<li>
Any record logged with a severity that is at least that of <code>e_FATAL</code> will behave as for <code>e_ERROR</code> above, except that the record buffer from <em>every</em> active logger registered with the logger manager will be published. See the multi-threaded examples below for more information about multiple loggers.  </li>
</ol>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd>With the one extra line of code as described above, plus the explicit <code>#include</code> directive of <code><a class="el" href="ball__severity_8h.html" title="Enumerate a set of logging severity levels.">ball_severity.h</a></code> (since we use symbols from that header explicitly), the code is otherwise exactly as in <a href="group__ball.html#example_1" class="el">Example 1</a> above. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// logging.m.cpp                                                    -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__defaultobserver_8h.html" title="Provide a default observer that emits log records to stdout.">ball_defaultobserver.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanager_8h.html" title="Provide a manager of core logging functionality.">ball_loggermanager.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanagerconfiguration_8h.html" title="Provide a constrained-attribute class for the logger manager.">ball_loggermanagerconfiguration.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__severity_8h.html" title="Enumerate a set of logging severity levels.">ball_severity.h</a>&gt;</span>

<span class="preprocessor">  #include &lt;bsl_iostream.h&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
  {
      <span class="keywordtype">int</span> verbose = argc &gt; 1;
          <span class="comment">// Enable command-line control of program behavior.</span>

      ball_DefaultObserver observer(bsl::cout);
          <span class="comment">// simplest observer; writes to &#39;stdout&#39;</span>

      ball_LoggerManagerConfiguration configuration;
          <span class="comment">// Instantiate the default configuration.</span>

      configuration.setDefaultThresholdLevelsIfValid(
                                ball_Severity::e_TRACE,   <span class="comment">// record level</span>
                                ball_Severity::e_WARN,    <span class="comment">// pass-through level</span>
                                ball_Severity::e_ERROR,   <span class="comment">// trigger level</span>
                                ball_Severity::e_FATAL);  <span class="comment">// trigger-all level</span>
          <span class="comment">// Set the four severity threshold levels; note that this method can</span>
          <span class="comment">// fail, and therefore returns a status.</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main category&quot;</span>);
          <span class="comment">// Set a category -- an arbitrary name.</span>

      BAEL_LOG_INFO &lt;&lt; <span class="stringliteral">&quot;Hello world!&quot;</span> &lt;&lt; BAEL_LOG_END;
          <span class="comment">// With default settings, this line has no effect.</span>

      <span class="keywordflow">if</span> (verbose) {  <span class="comment">// &#39;if&#39; to allow command-line activation</span>
          BAEL_LOG_ERROR &lt;&lt; <span class="stringliteral">&quot;Good-bye world!&quot;</span> &lt;&lt; BAEL_LOG_END;
              <span class="comment">// Log &#39;message&#39; at &#39;ball_Severity::e_ERROR&#39; severity level *and*</span>
              <span class="comment">// trigger the publication of the record buffer &quot;trace-back&quot;.</span>
      }
      <span class="keywordflow">else</span> {
          bsl::cout &lt;&lt; <span class="stringliteral">&quot;This program should produce no other output.\n&quot;</span>
              <span class="comment">// &#39;e_INFO&#39; messages are recorded but *not* automatically</span>
              <span class="comment">// published; an &#39;e_ERROR&#39; or &#39;e_FATAL&#39; message is needed to</span>
              <span class="comment">// trigger the publication of the record buffer.</span>
      }

      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 Once again, if the program is run with no command-line arguments, the output will appear on <code>stdout</code> as: <br/>
<br/>
<div class="fragment"><pre class="fragment">   This program should produce no other output.
</pre></div><br/>
<br/>
 Now, however, if a command-line argument is provided, the output is a little more extensive. (The spacing is changed to aid readability, and the timestamps are altered for illustrative purposes to show the temporal sequence more clearly). <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:29:18.147 105 1 ERROR logging.m.cpp 42 main category
  Good-bye world!

  27SEP2007_13:29:18.147 105 1 ERROR logging.m.cpp 42 main category
  Good-bye world!

  27SEP2007_13:29:18.147 105 1 INFO logging.m.cpp 38 main category
  Hello world!
</pre></div><br/>
<br/>
 Notice that the <code>e_ERROR</code> message appears twice. This is not a bug but, as mentioned above, an intended consequence of the settings. As described above, the sequence of events is as follows: (1) The <code>e_INFO</code> message is written to an in-memory buffer but <em>not</em> published (because <code>e_INFO</code> is above the "Record" threshold but below the "Pass-Through", "Trigger", and "Trigger-All" thresholds). (2) The (one) <code>e_ERROR</code> message is <em>first</em> published (a relatively quick operation insuring that the error indication is seen) because <code>e_ERROR</code> is above the "Pass-Through" threshold, and <em>then</em> is written to the in-memory buffer, because <code>e_ERROR</code> is above the "Record" threshold. Then, the entire contents of the in-memory buffer is published, in "Last In, First
 Out" (LIFO) order, because <code>e_ERROR</code> is at the "Trigger" threshold. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_3~3A_hello_world!_with_manual_publish"></a> <a class="anchor" id="usage.example_3~3A_hello_world!_with_manual_publish"></a> <a class="anchor" id="description.usage.example_3~3A_hello_world!_with_manual_publish"></a> <a class="anchor" id="example_3"></a> <a class="anchor" id="usage.example_3"></a> <a class="anchor" id="description.usage.example_3"></a> <a class="anchor" id="3.12.3"></a> </dd></dl>
<dl class="user"><dt><b>Example 3: Hello World! With Manual publish: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This "Hello world!" example alters <a href="group__ball.html#example_2" class="el">Example 2</a> in one aspect. The conditional <code>e_ERROR</code> message is removed, as is the use of command-line arguments, since they are not needed to illustrate our point. Instead, the user calls the <code>publish</code> method of the logger instance "manually" before exiting, to force the publication of all unpublished messages in the logger's buffer. Note that this is not "default" behavior, but is accomplished simply enough. The line: <br/>
<br/>
<div class="fragment"><pre class="fragment">  manager.getLogger().publish();
</pre></div><br/>
<br/>
 uses the singleton logger manager instance to obtain the default logger instance, and with that logger instance invokes the <code>publish</code> method. Note that the logger's "manual" <code>publish</code> method should not be confused with the <code>ball_Observer</code> <code>publish</code> method, which is invoked by all "manual" and "automatic" logger "publishing" operations. Note also that should the <code>manager</code> instance for some reason not be visible, the class method <code>ball_LoggerManager::singleton()</code> can be used to obtain a reference to that instance. The full program file appears as follows. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// logging.m.cpp                                                    -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__defaultobserver_8h.html" title="Provide a default observer that emits log records to stdout.">ball_defaultobserver.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanager_8h.html" title="Provide a manager of core logging functionality.">ball_loggermanager.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanagerconfiguration_8h.html" title="Provide a constrained-attribute class for the logger manager.">ball_loggermanagerconfiguration.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__severity_8h.html" title="Enumerate a set of logging severity levels.">ball_severity.h</a>&gt;</span>

<span class="preprocessor">  #include &lt;bsl_iostream.h&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">int</span> main()
  {
      ball_DefaultObserver observer(bsl::cout);
          <span class="comment">// Simplest observer; writes to &#39;stdout&#39;.</span>

      ball_LoggerManagerConfiguration configuration;
          <span class="comment">// default configuration</span>

      configuration.setDefaultThresholdLevelsIfValid(
                                ball_Severity::e_TRACE,   <span class="comment">// record level</span>
                                ball_Severity::e_WARN,    <span class="comment">// pass-through level</span>
                                ball_Severity::e_ERROR,   <span class="comment">// trigger level</span>
                                ball_Severity::e_FATAL);  <span class="comment">// trigger-all level</span>
          <span class="comment">// Set the four severity threshold levels; note that this method can</span>
          <span class="comment">// fail, and therefore returns a status.</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main category&quot;</span>);
          <span class="comment">// Set a category -- an arbitrary name.</span>

      BAEL_LOG_INFO &lt;&lt; <span class="stringliteral">&quot;Hello world!&quot;</span> &lt;&lt; BAEL_LOG_END;

      BAEL_LOG_INFO &lt;&lt; <span class="stringliteral">&quot;Hello again, world!&quot;</span> &lt;&lt; BAEL_LOG_END;

      bsl::cout &lt;&lt; <span class="stringliteral">&quot;We&#39;re almost ready to exit.&quot;</span>     <span class="stringliteral">&quot; &quot;</span>
                   <span class="stringliteral">&quot;Let&#39;s publish the buffer first:&quot;</span> <span class="stringliteral">&quot;\n&quot;</span>;

      ball_LoggerManager&amp; manager = ball_LoggerManager::singleton();
      manager.getLogger().publish();
          <span class="comment">// This chain of calls insures that all messages that are still held</span>
          <span class="comment">// in the logger&#39;s in-memory buffer are published before the program</span>
          <span class="comment">// terminates.</span>

      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 This program produces the following output on <code>stdout</code>, altered here again in spacing format and timestamp value for ease of reading. <br/>
<br/>
<div class="fragment"><pre class="fragment">  We<span class="stringliteral">&#39;re almost ready to exit.  Let&#39;</span>s publish the buffer first:

  27SEP2007_13:32:17.778 13702 1 INFO logging.m.cpp 37 main category
  Hello again, world!

  27SEP2007_13:32:17.778 13702 1 INFO logging.m.cpp 35 main category
  Hello world!
</pre></div><br/>
<br/>
 Note again that the output is published in LIFO order. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_4~3A_hello_world!_in_three_files"></a> <a class="anchor" id="usage.example_4~3A_hello_world!_in_three_files"></a> <a class="anchor" id="description.usage.example_4~3A_hello_world!_in_three_files"></a> <a class="anchor" id="example_4"></a> <a class="anchor" id="usage.example_4"></a> <a class="anchor" id="description.usage.example_4"></a> <a class="anchor" id="3.12.4"></a> </dd></dl>
<dl class="user"><dt><b>Example 4: Hello World! in Three Files: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This example adds a few new aspects to the scenario of <a href="group__ball.html#example_1" class="el">Example 1</a> and <a href="group__ball.html#example_2" class="el">Example 2</a>. First of all, in addition to the file defining <code>main</code>, we introduce a separate translation unit <code>f_log.cpp</code> that defines a function <code>logThisInfoMsg</code>. The <code>f_log.cpp</code> file defines its own category, "function
 category", which is distinct from the "main category" defined in <code>main</code>. When <code>logThisInfoMsg</code> is invoked, the resulting message is logged to "function
 category". Note, however, that when the now-familiar logging macros are used from <code>main</code> directly, those messages are logged to "main category". </dd></dl>
<dl class="user"><dt><b></b></dt><dd>In addition to the above, we also show another way to alter the default thresholds. In this case, we choose values so that all messages logged with a severity at least that of <code>e_INFO</code> are passed through immediately to the observer (in this case, to <code>stdout</code>). In this example, we make the change by calling the <code>setDefaultThresholdLevels</code> method of the logger manager: <br/>
<br/>
<div class="fragment"><pre class="fragment">  manager.setDefaultThresholdLevels(
                   ball_Severity::e_TRACE,   <span class="comment">// sets &quot;Record&quot; threshold</span>
                   ball_Severity::e_INFO,    <span class="comment">// sets &quot;Pass-Through&quot;  threshold</span>
                   ball_Severity::e_ERROR,   <span class="comment">// sets &quot;Trigger&quot; threshold</span>
                   ball_Severity::e_FATAL);  <span class="comment">// sets &quot;Trigger-All&quot; threshold</span>
</pre></div><br/>
<br/>
 The above call has an effect that differs subtly from the configuration object's <code>setDefaultThresholdLevelsIfValid</code> method. The latter sets the permanent "factory defaults" as well as the "instantaneous defaults", which may be altered as often as desired using the above call. If, after the above call is made, the <code>setCategoryThresholdsToFactoryDefaults</code> method is called, the effects of <code>setDefaultThresholdLevels</code> are erased. This distinction is important for more advanced administration, but is not central to this example; we offer the alternative to illustrate logger functionality. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that it is both unnecessary and a <em>fatal</em> <em>error</em> for <code>f_log</code> (or <em>any</em> library code) to instantiate a logger manager. The logger manager is a singleton, and should be constructed using the logger manager scoped guard (<code>ball_LoggerManagerScopedGuard</code>). In any sound design, this should be done in <code>main</code> before any other threads have been created. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The main <code>logging.m.cpp</code> file, plus <code>f_log.cpp</code> and its associated <code>f_log.h</code> file, are shown below. First the <code>f_log.h</code> header <a href="file:">file:</a> <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// f_log.h                                                          -*-C++-*-</span>
<span class="preprocessor">  #ifndef INCLUDED_F_LOG</span>
<span class="preprocessor"></span><span class="preprocessor">  #define INCLUDED_F_LOG</span>
<span class="preprocessor"></span>
  <span class="keyword">namespace </span>BloombergLP {

  <span class="keywordtype">void</span> logThisInfoMsg(<span class="keyword">const</span> <span class="keywordtype">char</span>* message);
      <span class="comment">// Log the specified &#39;message&#39; at the &#39;ball_Severity::e_INFO&#39; severity</span>
      <span class="comment">// level.  The category to which &#39;message&#39; is logged is defined in</span>
      <span class="comment">// the implementation.  Note that this function may affect the</span>
      <span class="comment">// operation of other logging operations that do not explicitly set</span>
      <span class="comment">// their own categories.</span>

  }  <span class="comment">// close enterprise namespace</span>

<span class="preprocessor">  #endif</span>
</pre></div><br/>
<br/>
 Then the <code>f_log.cpp</code> implementation <a href="file:">file:</a> <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// f_log.cpp                                                        -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>

  <span class="keyword">namespace </span>BloombergLP {

  <span class="keywordtype">void</span> logThisInfoMsg(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)
  {
      <span class="comment">// Implementation Note: The uppercase symbols are macros and not</span>
      <span class="comment">// functions.  They do not need the terminal &#39;;&#39;, which is provided for</span>
      <span class="comment">// readability only.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;function category&quot;</span>);
          <span class="comment">// Set a category -- arbitrary and may be changed.</span>

      BAEL_LOG_INFO &lt;&lt; message &lt;&lt; BAEL_LOG_END;
          <span class="comment">// Log &#39;message&#39; at &#39;ball_Severity::e_INFO&#39; severity level.</span>
  }

  }  <span class="comment">// close enterprise namespace</span>
</pre></div><br/>
<br/>
 Finally, the <code>logging.m.cpp</code> file, which defines <code>main</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// logging.m.cpp                                                    -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__defaultobserver_8h.html" title="Provide a default observer that emits log records to stdout.">ball_defaultobserver.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanager_8h.html" title="Provide a manager of core logging functionality.">ball_loggermanager.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanagerconfiguration_8h.html" title="Provide a constrained-attribute class for the logger manager.">ball_loggermanagerconfiguration.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__severity_8h.html" title="Enumerate a set of logging severity levels.">ball_severity.h</a>&gt;</span>

<span class="preprocessor">  #include &lt;bsl_iostream.h&gt;</span>

<span class="preprocessor">  #include &lt;f_log.h&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
  {
      <span class="keywordtype">int</span> verbose = argc &gt; 1;
          <span class="comment">// Enable command-line control of program behavior.</span>

      ball_DefaultObserver observer(bsl::cout);
          <span class="comment">// simplest observer; writes to &#39;stdout&#39;</span>

      ball_LoggerManagerConfiguration configuration;
          <span class="comment">// Instantiate the default configuration.</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      ball_LoggerManager&amp; manager = ball_LoggerManager::singleton();
      manager.setDefaultThresholdLevels(
                     ball_Severity::e_TRACE,   <span class="comment">// sets &quot;Record&quot; threshold</span>
                     ball_Severity::e_INFO,    <span class="comment">// sets &quot;Pass-Through&quot; threshold</span>
                     ball_Severity::e_ERROR,   <span class="comment">// sets &quot;Trigger&quot; threshold</span>
                     ball_Severity::e_FATAL);  <span class="comment">// sets &quot;Trigger-All&quot; threshold</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main category&quot;</span>);
          <span class="comment">// Set a category -- note that this will *not* affect the category</span>
          <span class="comment">// set in &#39;logThisInfoMsg&#39;.</span>

      BAEL_LOG_INFO &lt;&lt; <span class="stringliteral">&quot;Called directly from &#39;main&#39;&quot;</span> &lt;&lt; BAEL_LOG_END;
          <span class="comment">// Logged to &quot;main category&quot;.</span>

      <span class="keywordflow">if</span> (verbose) {  <span class="comment">// &#39;if&#39; to allow command-line activation</span>
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {
              logThisInfoMsg(<span class="stringliteral">&quot;Hello world!&quot;</span>);
              bsl::cout &lt;&lt; <span class="stringliteral">&quot;Watch the loop execute:  i = &quot;</span> &lt;&lt; i &lt;&lt; bsl::endl;
                  <span class="comment">// proves Msg is published as &quot;pass-through&quot;</span>
          }
      }

      BAEL_LOG_INFO &lt;&lt; <span class="stringliteral">&quot;Called again directly from &#39;main&#39;&quot;</span> &lt;&lt; BAEL_LOG_END;
          <span class="comment">// Logged to &quot;main category&quot;.</span>

      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 Building these two files and running the executable with no additional command-line arguments produces output from the two direct logging calls only. Once again, the format and timestamps are altered for readability. <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:35:33.356 9427 1 INFO logging.m.cpp 40 main category
  Called directly from <span class="stringliteral">&#39;main&#39;</span>

  27SEP2007_13:35:33.357 9427 1 INFO logging.m.cpp 51 main category
  Called again directly from <span class="stringliteral">&#39;main&#39;</span>
</pre></div><br/>
<br/>
 Note that this sequence is not in LIFO order since this output is not from the message buffer, but rather is direct "Pass-Through" output. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>If we provide a command-line argument, which will cause the <code>for</code> loop to execute, we then get the following output (with formats and timestamps altered as is now familiar in these examples). <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:39:07.150 8249 1 INFO logging.m.cpp 40 main category
  Called directly from <span class="stringliteral">&#39;main&#39;</span>

  27SEP2007_13:39:07.151 8249 1 INFO f_log.cpp 16 function category
  Hello world!
  Watch the loop execute:  i = 0

  27SEP2007_13:39:07.151 8249 1 INFO f_log.cpp 16 function category
  Hello world!
  Watch the loop execute:  i = 1

  27SEP2007_13:39:07.152 8249 1 INFO f_log.cpp 16 function category
  Hello world!
  Watch the loop execute:  i = 2

  27SEP2007_13:39:07.152 8249 1 INFO logging.m.cpp 51 main category
  Called again directly from <span class="stringliteral">&#39;main&#39;</span>
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_5~3A_logging_in_two_threads"></a> <a class="anchor" id="usage.example_5~3A_logging_in_two_threads"></a> <a class="anchor" id="description.usage.example_5~3A_logging_in_two_threads"></a> <a class="anchor" id="example_5"></a> <a class="anchor" id="usage.example_5"></a> <a class="anchor" id="description.usage.example_5"></a> <a class="anchor" id="3.12.5"></a> </dd></dl>
<dl class="user"><dt><b>Example 5: Logging in Two Threads: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This example illustrates how to use logging in a multi-threaded application. Since we have already shown how logging works seamlessly across multiple translation units, we will implement everything that we need for this example in a single file named <code>mtlogging1.cpp</code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>We define two functions, <code>f1</code> and <code>f2</code>, that log their <code>message</code> text argument to function-defined categories, at <code>e_INFO</code> and <code>e_WARN</code> severities, respectively. We also define two <code>extern</code> "C" thread functions, <code>threadFunction1</code> and <code>threadFunction2</code>, that call <code>f1</code> and <code>f2</code>, respectively, in a loop of three iterations. The thread functions also differ slightly in their calls to <code>bcemt_ThreadUtil::sleep</code> within the loop. These <code>sleep</code> calls, in conjunction with the logged timestamps, show the interleaved operation of the threads. Note that although the thread functions define their own categories, the logging macros in <code>f1</code> and <code>f2</code> use only the category defined within the scope of <code>f1</code> and <code>f2</code>, respectively. </dd></dl>
<dl class="user"><dt><b></b></dt><dd><code>main</code> creates an observer that will write to <code>stdout</code>, initializes the logger manager singleton, sets a category, and sets the default threshold values, just as in the single-threaded examples above. Then <code>main</code> uses <code>bcemt</code> to spawn two threads running the above two thread functions. Each thread logs its messages, but only the second thread's log messages having <code>e_WARN</code> severity will be published immediately as "Pass-Through" records. Finally, using the same <code>verbose</code> mechanism (set by the presence or absence of a command-line argument) as the above examples, we conditionally log a message in <code>main</code> at <code>e_ERROR</code> severity. If this block of code executes, then the entire record buffer for the example (i.e., for both threads and <code>main</code>) will be published, in reverse chronological order. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The full code as described above is presented without interruption for ease of reading. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// logging.m.cpp                                                    -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__defaultobserver_8h.html" title="Provide a default observer that emits log records to stdout.">ball_defaultobserver.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanager_8h.html" title="Provide a manager of core logging functionality.">ball_loggermanager.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanagerconfiguration_8h.html" title="Provide a constrained-attribute class for the logger manager.">ball_loggermanagerconfiguration.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__severity_8h.html" title="Enumerate a set of logging severity levels.">ball_severity.h</a>&gt;</span>

<span class="preprocessor">  #include &lt;bcemt_thread.h&gt;</span>
<span class="preprocessor">  #include &lt;bdet_timeinterval.h&gt;</span>

<span class="preprocessor">  #include &lt;bsl_iostream.h&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">void</span> f1(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)
      <span class="comment">// Log the specified &#39;message&#39; to the &quot;Function 1&quot; category at &#39;e_INFO&#39;</span>
      <span class="comment">// severity.</span>
  {
      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;Function 1&quot;</span>);
      BAEL_LOG_INFO &lt;&lt; message &lt;&lt; BAEL_LOG_END;
  }

  <span class="keywordtype">void</span> f2(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)
      <span class="comment">// Log the specified &#39;message&#39; to the &quot;Function 2&quot; category at &#39;e_WARN&#39;</span>
      <span class="comment">// severity.</span>
  {
      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;Function 2&quot;</span>);
      BAEL_LOG_WARN &lt;&lt; message &lt;&lt; BAEL_LOG_END;
  }

  <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> *threadFunction1(<span class="keywordtype">void</span> *)
      <span class="comment">// Log to the default logger a sequence of messages to the &quot;Function 1&quot;</span>
      <span class="comment">// category at &#39;e_WARN&#39; severity.</span>
  {
      <span class="keywordtype">char</span>              buf[10] = <span class="stringliteral">&quot;Message n&quot;</span>;
      bdet_TimeInterval waitTime(4.0);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {
          buf[8] = <span class="charliteral">&#39;0&#39;</span> + i;
          f1(buf);
          bcemt_ThreadUtil::sleep(waitTime);
      }
      <span class="keywordflow">return</span> 0;
  }

  <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> *threadFunction2(<span class="keywordtype">void</span> *)
      <span class="comment">// Log to the default logger a sequence of messages to the &quot;Function 2&quot;</span>
      <span class="comment">// category at &#39;e_WARN&#39; severity.</span>
  {
      <span class="keywordtype">char</span>              buf[10] = <span class="stringliteral">&quot;Message n&quot;</span>;
      bdet_TimeInterval waitTime(2.0);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {
          buf[8] = <span class="charliteral">&#39;0&#39;</span> + i;
          bcemt_ThreadUtil::sleep(waitTime);
          f2(buf);
      }
      <span class="keywordflow">return</span> 0;
  }

  <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
  {
      <span class="keywordtype">int</span> verbose = argc &gt; 1;  <span class="comment">// allows user to control output from command</span>
                               <span class="comment">// line</span>

      ball_DefaultObserver observer(bsl::cout);        <span class="comment">// writes to &#39;stdout&#39;</span>
      ball_LoggerManagerConfiguration configuration;
      configuration.setDefaultThresholdLevelsIfValid(
                                     ball_Severity::e_TRACE,  <span class="comment">// &quot;Record&quot;</span>
                                      ball_Severity::e_WARN,   <span class="comment">// &quot;Pass-Through&quot;</span>
                                      ball_Severity::e_ERROR,  <span class="comment">// &quot;Trigger&quot;</span>
                                      ball_Severity::e_FATAL); <span class="comment">// &quot;Trigger-All&quot;</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main&quot;</span>);

      bcemt_Attribute          attributes;
      bcemt_ThreadUtil::Handle handle1;
      bcemt_ThreadUtil::Handle handle2;

      bcemt_ThreadUtil::create(&amp;handle1, attributes, threadFunction1, 0);
      bcemt_ThreadUtil::create(&amp;handle2, attributes, threadFunction2, 0);

      bcemt_ThreadUtil::join(handle1);
      bcemt_ThreadUtil::join(handle2);

      <span class="keywordflow">if</span> (verbose) {  <span class="comment">// &#39;if&#39; to allow command-line activation</span>
          BAEL_LOG_ERROR &lt;&lt; <span class="stringliteral">&quot;Force publication.&quot;</span> &lt;&lt; BAEL_LOG_END;
      }
      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 Running the above program with no extra command-line argument produces the output shown below. Note that only the <code>e_WARN</code> records (from thread 3) are published, and that they are in chronological order. <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:50:20.023 6625 3 WARN logging.m.cpp 28 Function 2 Message 0

  27SEP2007_13:50:22.033 6625 3 WARN logging.m.cpp 28 Function 2 Message 1

  27SEP2007_13:50:24.042 6625 3 WARN logging.m.cpp 28 Function 2 Message 2
</pre></div><br/>
<br/>
 However, if we supply an additional command-line argument, the <code>if</code> statement containing the <code>BAEL_LOG_ERROR</code> macro will execute. This causes the <code>e_ERROR</code> record itself to be published (from thread 1, the <code>main</code> thread, as a "pass-through"), and it also triggers the publication of the entire record buffer. Note how the records from threads 1, 2, and 3 are published in inverse chronological order. Note in particular how the <code>e_INFO</code> and <code>e_WARN</code> records interleave irregularly because of the different <code>sleep</code> statements in the above code. <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:52:20.435 13809 3 WARN logging.m.cpp 28 Function 2 Message 0

  27SEP2007_13:52:22.445 13809 3 WARN logging.m.cpp 28 Function 2 Message 1

  27SEP2007_13:52:24.455 13809 3 WARN logging.m.cpp 28 Function 2 Message 2

  27SEP2007_13:52:30.456 13809 1 ERROR logging.m.cpp 89 main Force publication.

  27SEP2007_13:52:30.456 13809 1 ERROR logging.m.cpp 89 main Force publication.

  27SEP2007_13:52:26.446 13809 2 INFO logging.m.cpp 20 Function 1 Message 2

  27SEP2007_13:52:24.455 13809 3 WARN logging.m.cpp 28 Function 2 Message 2

  27SEP2007_13:52:22.445 13809 3 WARN logging.m.cpp 28 Function 2 Message 1

  27SEP2007_13:52:22.435 13809 2 INFO logging.m.cpp 20 Function 1 Message 1

  27SEP2007_13:52:20.435 13809 3 WARN logging.m.cpp 28 Function 2 Message 0

  27SEP2007_13:52:18.433 13809 2 INFO logging.m.cpp 20 Function 1 Message 0
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_6~3A_logging_in_two_threads_using_two_loggers"></a> <a class="anchor" id="usage.example_6~3A_logging_in_two_threads_using_two_loggers"></a> <a class="anchor" id="description.usage.example_6~3A_logging_in_two_threads_using_two_loggers"></a> <a class="anchor" id="example_6"></a> <a class="anchor" id="usage.example_6"></a> <a class="anchor" id="description.usage.example_6"></a> <a class="anchor" id="3.12.6"></a> </dd></dl>
<dl class="user"><dt><b>Example 6: Logging in Two Threads Using Two Loggers: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This example is similar to <a href="group__ball.html#example_5" class="el">Example 5</a> above, with only a few "minor" changes. Nevertheless, as we use more of the logger's features, we need to become more familiar with the details of logger operation. In this example, we install a distinct logger instance (i.e., not the default logger) for one of the threads. (The other thread continues to use the default logger, which is shared with <code>main</code>, to make clear that the "one-logger-per-thread" usage pattern applies on a thread-by-thread basis, and is not "all-or-nothing".) By choosing this more sophisticated usage, however, we need to address the question of logger resource management and lifetime -- a question that is completely avoided by using the default logger. As is often the case in programming, there is no one "right" answer to this resource question, and so we will discuss our choices and the alternatives in this example. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Installing a distinct logger instance in <code>threadFunction1</code> is simple enough to do, but a question arises immediately: who should own the logger resources? Before we discuss this question, let's look at the specific solution that we have chosen, which will clarify the question of what resources a logger needs. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>We've modified <code>threadFunction1</code> to take as an argument a logger (which is passed as a <code>void*</code>) and to use the logger manager's <code>setLogger</code> function to install the logger as the active logger for that thread. The code to do this in <code>threadFunction1</code> is straightforward: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> *threadFunction1(<span class="keywordtype">void</span> *logger)
      <span class="comment">// ...</span>
  {
      <span class="comment">// ...</span>
      ball_LoggerManager::singleton().setLogger((ball_Logger*)logger);
          <span class="comment">// Install a local &#39;logger&#39; for this thread.</span>
      <span class="comment">// ...</span>
  }
</pre></div><br/>
<br/>
 Clearly, in this solution, <code>threadFunction1</code> does <em>not</em> own <code>logger</code> or any of its resources. This <em>must</em> be the case, because the function has no way of knowing in how many other threads the passed-in <code>logger</code> might be installed. Recall that any one logger may be installed in any number of threads. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>This one-line addition to call the <code>setLogger</code> method is, from the thread function's perspective, the only change needed if the thread is <em>not</em> to manage its own logger resources. But if <code>threadFunction1</code> does not manage the logger resources, then <code>main</code> must do so. Let's look at what <code>main</code> needs to do so that we can be concrete about what resources are needed in the first place. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Several steps are needed to instantiate a <code>ball_Logger</code> instance. The logger needs a (concrete) <code>ball_RecordBuffer</code>, and the preferred record buffer, <code>ball_FixedSizeRecordBuffer</code>, in turn needs a size for the record buffer (<code>LOGBUF_SIZE</code>). We also provide an explicit <code>bdema_Allocator</code> to supply memory; the default allocator returned by <code>bdema_Default::defaultAllocator()</code> is sufficient here. Assuming that 32k bytes is a good size for the buffer, the following eight lines will appear in <code>main</code>. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">enum</span> { LOGBUF_SIZE = 32 * 1024 };
  bdema_Allocator            *alloc_p = bdema_Default::defaultAllocator();
  ball_FixedSizeRecordBuffer  rb(LOGBUF_SIZE, alloc_p);
  ball_LoggerManager&amp;         manager = ball_LoggerManager::singleton();
  ball_Logger                *logger  = manager.allocateLogger(&amp;rb);
  <span class="comment">// ...</span>
  manager.deallocateLogger(logger);  <span class="comment">// free resources</span>
</pre></div><br/>
<br/>
 The last two lines free resources and are executed just before <code>main</code> returns. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>With this implementation choice, <code>main</code> clearly owns <code>logger</code>s resources. We now have enough information to address the question of what the consequences of this decision are, and whether or not <code>main</code> actually <em>should</em> own these resources. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>At first glance, it might seem that the thread itself should own and manage everything it needs for its own logger. This is certainly a reasonable choice, and <a href="group__ball.html#example_6" class="el">Example 6</a> below shows what <code>threadFunction1</code> would look like in that case, but there are two separate reasons why the owner of <code>main</code> might prefer <em>not</em> to delegate those responsibilities to the thread function. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The first reason -- not relevant in this particular example -- is that <code>main</code> may wish to install the <em>same</em> logger in several threads. In this case, no one thread can manage "its own" logger, because the logger is (or at least might be) shared. Sharing loggers among groups of threads is at least a reasonable design choice, and so it is useful to see how <code>main</code> takes ownership of logger resources. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The second reason for wanting <code>main</code> and not the thread function to own the logger's resources is illustrated -- albeit trivially -- in this example: <code>main</code> can <em>potentially</em> log a <code>e_FATAL</code> record (here the "Trigger-All" threshold) after all other threads have terminated. If the user wants the (now-terminated) thread's trace-back log to be published by the "Trigger-All", then <code>main</code> must preserve the logger resources. Otherwise, if a thread were to own its own logger resources, then any "trace-back" records generated by that thread would necessarily be discarded (or, at best, unconditionally published) when the thread function returned. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>In this example we also made a trivial change that has nothing to do with threading, but illustrates a useful feature of <code>ball_DefaultObserver</code>, namely that an instance can write to a file as easily as to <code>stdout</code>. The three lines in <code>main</code>: <br/>
<br/>
<div class="fragment"><pre class="fragment">  bsl::ofstream outFile(<span class="stringliteral">&quot;outFile&quot;</span>);
  ball_DefaultObserver observer(outFile);  <span class="comment">// writes to &quot;outFile&quot;</span>
  <span class="comment">// ...</span>
  ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
                                           <span class="comment">// instantiate</span>
</pre></div><br/>
<br/>
 install a "file observer" that will write to "outFile", creating the file if it doesn't exist and overwriting it if it does. Clearly, this is just taking advantage of the standard C++ <code>ofstream</code> class, but it is useful all the same. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The full code as described above is presented without interruption for ease of reading. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// logging.m.cpp                                                    -*-C++-*-</span>

<span class="preprocessor">  #include &lt;<a class="code" href="ball__defaultobserver_8h.html" title="Provide a default observer that emits log records to stdout.">ball_defaultobserver.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__fixedsizerecordbuffer_8h.html" title="Provide a thread-safe fixed-size buffer of record handles.">ball_fixedsizerecordbuffer.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__log_8h.html" title="Provide macros and utility functions to facilitate logging.">ball_log.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanager_8h.html" title="Provide a manager of core logging functionality.">ball_loggermanager.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__loggermanagerconfiguration_8h.html" title="Provide a constrained-attribute class for the logger manager.">ball_loggermanagerconfiguration.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="ball__severity_8h.html" title="Enumerate a set of logging severity levels.">ball_severity.h</a>&gt;</span>

<span class="preprocessor">  #include &lt;bcemt_thread.h&gt;</span>
<span class="preprocessor">  #include &lt;bdet_timeinterval.h&gt;</span>

<span class="preprocessor">  #include &lt;bsl_fstream.h&gt;</span>

  <span class="keyword">using namespace </span>BloombergLP;

  <span class="keywordtype">void</span> f1(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)
      <span class="comment">// Log the specified &#39;message&#39; to the &quot;Function 1&quot; category at &#39;e_INFO&#39;</span>
      <span class="comment">// severity.</span>
  {
      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;Function 1&quot;</span>);
      BAEL_LOG_INFO &lt;&lt; message &lt;&lt; BAEL_LOG_END;
  }

  <span class="keywordtype">void</span> f2(<span class="keyword">const</span> <span class="keywordtype">char</span>* message)
      <span class="comment">// Log the specified &#39;message&#39; to the &quot;Function 2&quot; category at &#39;e_WARN&#39;</span>
      <span class="comment">// severity.</span>
  {
      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;Function 2&quot;</span>);
      BAEL_LOG_WARN &lt;&lt; message &lt;&lt; BAEL_LOG_END;
  }

  <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> *threadFunction1(<span class="keywordtype">void</span> *logger)
      <span class="comment">// Log to the specified &#39;logger&#39; a sequence of messages to the &quot;Function</span>
      <span class="comment">// 1&quot; category at &#39;e_INFO&#39; severity.</span>
  {
      ball_LoggerManager::singleton().setLogger((ball_Logger*)logger);
          <span class="comment">// Install a local logger for this thread.</span>

      <span class="keywordtype">char</span>              buf[10] = <span class="stringliteral">&quot;Message n&quot;</span>;
      bdet_TimeInterval waitTime(4.0);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {
          buf[8] = <span class="charliteral">&#39;0&#39;</span> + i;
          f1(buf);
          bcemt_ThreadUtil::sleep(waitTime);
      }
      <span class="keywordflow">return</span> 0;
  }

  <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> *threadFunction2(<span class="keywordtype">void</span> *)
      <span class="comment">// Log to the default logger a sequence of messages to the &quot;Function 2&quot;</span>
      <span class="comment">// category at &#39;e_WARN&#39; severity.</span>
  {
      <span class="keywordtype">char</span>              buf[10] = <span class="stringliteral">&quot;Message n&quot;</span>;
      bdet_TimeInterval waitTime(2.0);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {
          buf[8] = <span class="charliteral">&#39;0&#39;</span> + i;
          bcemt_ThreadUtil::sleep(waitTime);
          f2(buf);
      }
      <span class="keywordflow">return</span> 0;
  }

  <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
  {
      <span class="keywordtype">int</span> verbose = argc &gt; 1; <span class="comment">// allows user to control output from command</span>
                              <span class="comment">// line</span>

      bsl::ofstream outFile(<span class="stringliteral">&quot;outFile&quot;</span>);
      ball_DefaultObserver observer(outFile);          <span class="comment">// writes to &quot;outFile&quot;</span>
      ball_LoggerManagerConfiguration configuration;
      configuration.setDefaultThresholdLevelsIfValid(
                                    ball_Severity::e_TRACE,   <span class="comment">// &quot;Record&quot;</span>
                                    ball_Severity::e_WARN,    <span class="comment">// &quot;Pass-Through&quot;</span>
                                    ball_Severity::e_ERROR,   <span class="comment">// &quot;Trigger&quot;</span>
                                    ball_Severity::e_FATAL);  <span class="comment">// &quot;Trigger-All&quot;</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main&quot;</span>);

      <span class="comment">// The following lines prepare resources to allocate a &#39;logger&#39; from the</span>
      <span class="comment">// logger manager.  &#39;main&#39; is responsible for managing resource</span>
      <span class="comment">// lifetimes.</span>
      <span class="keyword">enum</span> { LOGBUF_SIZE = 32 * 1024 };
      bdema_Allocator            *alloc_p = bdema_Default::defaultAllocator();
      ball_FixedSizeRecordBuffer  rb(LOGBUF_SIZE, alloc_p);
      ball_LoggerManager&amp;         manager = ball_LoggerManager::singleton();
      ball_Logger                *logger  = manager.allocateLogger(&amp;rb);

      bcemt_Attribute          attributes;
      bcemt_ThreadUtil::Handle handle1;
      bcemt_ThreadUtil::Handle handle2;

      <span class="comment">// first thread gets &#39;logger&#39;; second thread uses default logger</span>
      bcemt_ThreadUtil::create(&amp;handle1, attributes, threadFunction1, logger);
      bcemt_ThreadUtil::create(&amp;handle2, attributes, threadFunction2, 0);

      bcemt_ThreadUtil::join(handle1);
      bcemt_ThreadUtil::join(handle2);

      <span class="keywordflow">if</span> (verbose) {  <span class="comment">// &#39;if&#39; to allow command-line activation</span>
          BAEL_LOG_FATAL &lt;&lt; <span class="stringliteral">&quot;Force publication.&quot;</span> &lt;&lt; BAEL_LOG_END;
      }

      manager.deallocateLogger(logger);  <span class="comment">// free resources</span>
      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 Running the above program with no extra command-line argument produces the output shown below, which in this example is written to <code>outFile</code>. Note that, except for the timestamps, process id, and file name, the output is the same as for <a href="group__ball.html#example_5" class="el">Example 5</a> above: only the <code>e_WARN</code> records (from thread 3) are published, and that they are in chronological order. <br/>
<br/>
<div class="fragment"><pre class="fragment">   27SEP2007_13:57:52.012 3648 3 WARN logging.m.cpp 29 Function 2 Message 0

   27SEP2007_13:57:54.022 3648 3 WARN logging.m.cpp 29 Function 2 Message 1

   27SEP2007_13:57:56.032 3648 3 WARN logging.m.cpp 29 Function 2 Message 2
</pre></div><br/>
<br/>
 When we supply an additional command-line argument, causing the logging macro in <code>main</code> (now <code>BAEL_LOG_FATAL</code>) to execute, the <em>initial</em> output is similar to <a href="group__ball.html#example_5" class="el">Example 5</a>. Specifically, the three <code>e_WARN</code> records are published in chronological order as "Pass-Through" records, as is the <code>e_FATAL</code> record, (which now replaces the <code>e_ERROR</code> record). From here on, however, the sequence of events is a bit different. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Recall that in this example <code>e_FATAL</code> is the "Trigger-All" threshold level. For a "Trigger-All", each record buffer is published in turn. <em>Within</em> a record buffer, records are published in reverse chronological order, but, as can clearly be seen from the timestamps, the sequence of records as a whole is not well ordered in time at all. Note, rather, that the <code>e_FATAL</code> and <code>e_WARN</code> records from the default logger are published in reverse chronological order, and <em>then</em> the <code>e_INFO</code> records from the installed <code>logger</code> are published in reverse chronological order. <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_13:59:23.504 8707 3 WARN logging.m.cpp 29 Function 2 Message 0

  27SEP2007_13:59:25.514 8707 3 WARN logging.m.cpp 29 Function 2 Message 1

  27SEP2007_13:59:27.524 8707 3 WARN logging.m.cpp 29 Function 2 Message 2

  27SEP2007_13:59:33.524 8707 1 FATAL logging.m.cpp 103 main Force publication.

  27SEP2007_13:59:33.524 8707 1 FATAL logging.m.cpp 103 main Force publication.

  27SEP2007_13:59:27.524 8707 3 WARN logging.m.cpp 29 Function 2 Message 2

  27SEP2007_13:59:25.514 8707 3 WARN logging.m.cpp 29 Function 2 Message 1

  27SEP2007_13:59:23.504 8707 3 WARN logging.m.cpp 29 Function 2 Message 0

  27SEP2007_13:59:29.514 8707 2 INFO logging.m.cpp 21 Function 1 Message 2

  27SEP2007_13:59:25.504 8707 2 INFO logging.m.cpp 21 Function 1 Message 1

  27SEP2007_13:59:21.498 8707 2 INFO logging.m.cpp 21 Function 1 Message 0
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="example_7~3A_a_thread_that_owns_its_own_logger_resources"></a> <a class="anchor" id="usage.example_7~3A_a_thread_that_owns_its_own_logger_resources"></a> <a class="anchor" id="description.usage.example_7~3A_a_thread_that_owns_its_own_logger_resources"></a> <a class="anchor" id="example_7"></a> <a class="anchor" id="usage.example_7"></a> <a class="anchor" id="description.usage.example_7"></a> <a class="anchor" id="3.12.7"></a> </dd></dl>
<dl class="user"><dt><b>Example 7: A Thread that Owns its Own Logger Resources: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This example is almost identical to <a href="group__ball.html#example_6" class="el">Example 6</a> above, except that the eight lines (as highlighted above) that are needed to manage resources are moved from <code>main</code> to <code>threadFunction1</code>, which no longer needs an argument. Therefore, we show only <code>threadFunction1</code> and <code>main</code> explicitly in this example. Refer to the discussion of <a href="group__ball.html#example_6" class="el">Example 6</a> for details. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="comment">// ...</span>

  <span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">void</span> *threadFunction1(<span class="keywordtype">void</span> *)
      <span class="comment">// Log to an internally managed logger a sequence of messages to the</span>
      <span class="comment">// &quot;Function 1&quot; category at &#39;e_INFO&#39; severity.</span>
  {
      <span class="comment">// The following lines prepare resources to allocate a &#39;logger&#39; from the</span>
      <span class="comment">// logger manager.  This thread is responsible for managing resource</span>
      <span class="comment">// lifetimes.</span>
      <span class="keyword">enum</span> { LOGBUF_SIZE = 32 * 1024 };
      bdema_Allocator            *alloc_p = bdema_Default::defaultAllocator();
      ball_FixedSizeRecordBuffer  rb(LOGBUF_SIZE, alloc_p);
      ball_LoggerManager&amp;         manager = ball_LoggerManager::singleton();
      ball_Logger                *logger  = manager.allocateLogger(&amp;rb);

      ball_LoggerManager::singleton().setLogger((ball_Logger*)logger);
          <span class="comment">// Install a local logger for this thread.</span>

      <span class="keywordtype">char</span>              buf[10] = <span class="stringliteral">&quot;Message n&quot;</span>;
      bdet_TimeInterval waitTime(4.0);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i) {
          buf[8] = <span class="charliteral">&#39;0&#39;</span> + i;
          f1(buf);
          bcemt_ThreadUtil::sleep(waitTime);
      }

      manager.deallocateLogger(logger);  <span class="comment">// free resources</span>
      <span class="keywordflow">return</span> 0;
  }

  <span class="comment">// ...</span>

  <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[])
  {
      <span class="keywordtype">int</span> verbose = argc &gt; 1; <span class="comment">// allows user to control output from command</span>
                              <span class="comment">// line</span>

      bsl::ofstream outFile(<span class="stringliteral">&quot;outFile&quot;</span>);
      ball_DefaultObserver observer(outFile);          <span class="comment">// writes to &quot;outFile&quot;</span>
      ball_LoggerManagerConfiguration configuration;   <span class="comment">// default configuration</span>
      configuration.setDefaultThresholdLevelsIfValid(
                                    ball_Severity::e_TRACE,   <span class="comment">// &quot;Record&quot;</span>
                                    ball_Severity::e_WARN,    <span class="comment">// &quot;Pass-Through&quot;</span>
                                    ball_Severity::e_ERROR,   <span class="comment">// &quot;Trigger&quot;</span>
                                    ball_Severity::e_FATAL);  <span class="comment">// &quot;Trigger-All&quot;</span>

      ball_LoggerManagerScopedGuard scopedGuard(&amp;observer, configuration);
          <span class="comment">// Instantiate the logger manager singleton.</span>

      BAEL_LOG_SET_CATEGORY(<span class="stringliteral">&quot;main&quot;</span>);

      bcemt_Attribute          attributes;
      bcemt_ThreadUtil::Handle handle1;
      bcemt_ThreadUtil::Handle handle2;

      <span class="comment">// first thread manages its own logger; second thread uses default logger</span>
      bcemt_ThreadUtil::create(&amp;handle1, attributes, threadFunction1, 0);
      bcemt_ThreadUtil::create(&amp;handle2, attributes, threadFunction2, 0);

      bcemt_ThreadUtil::join(handle1);
      bcemt_ThreadUtil::join(handle2);

      <span class="keywordflow">if</span> (verbose) {  <span class="comment">// &#39;if&#39; to allow command-line activation</span>
          BAEL_LOG_FATAL &lt;&lt; <span class="stringliteral">&quot;Force publication.&quot;</span> &lt;&lt; BAEL_LOG_END;
      }
      <span class="keywordflow">return</span> 0;
  }
</pre></div><br/>
<br/>
 When the above program is run with a command-line argument, causing the <code>e_FATAL</code> record to be logged and thus a "Trigger-All", the records from thread 2 are not available to be published. This is of course not an error but desired behavior chosen by the programmer. The output is as follows. <br/>
<br/>
<div class="fragment"><pre class="fragment">  27SEP2007_14:09:31.197 1615 3 WARN logging.m.cpp 29 Function 2 Message 0

  27SEP2007_14:09:33.207 1615 3 WARN logging.m.cpp 29 Function 2 Message 1

  27SEP2007_14:09:35.217 1615 3 WARN logging.m.cpp 29 Function 2 Message 2

  27SEP2007_14:09:41.217 1615 1 FATAL logging.m.cpp 107 main Force publication.

  27SEP2007_14:09:41.217 1615 1 FATAL logging.m.cpp 107 main Force publication.

  27SEP2007_14:09:35.217 1615 3 WARN logging.m.cpp 29 Function 2 Message 2

  27SEP2007_14:09:33.207 1615 3 WARN logging.m.cpp 29 Function 2 Message 1

  27SEP2007_14:09:31.197 1615 3 WARN logging.m.cpp 29 Function 2 Message 0
</pre></div><br/>
<br/>
 </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="appendix~3A_macro_reference"></a> <a class="anchor" id="description.appendix~3A_macro_reference"></a> <a class="anchor" id="appendix"></a> <a class="anchor" id="description.appendix"></a> <a class="anchor" id="3.13"></a> </dd></dl>
<dl class="user"><dt><b>Appendix: Macro Reference: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This section documents the preprocessor macros defined in <code>ball_log</code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following two macros establish the logging context required by the other macros. A use of one of these two macros must be visible from within the lexical scope where the C++ stream-based and <code>printf</code>-style macros are used: </dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> </div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>BAEL_LOG_SET_CATEGORY(CATEGORY)</code>: <br/>
 Set the category for logging to the specified <code>CATEGORY</code> (assumed to be of type convertible to <code>const char *</code>). Note that this macro must be used at block scope and can be used at most once in any given block (or else a compiler diagnostic will result). Also note that this macro invokes the <code>ball_Log::setCategory</code> method to retrieve the address of an appropriate category structure for its scope. (See the function- level documentation of <code>ball_Log::setCategory</code> for more information.) Also note that the category is set only on the <em>first</em> invocation of this macro in a code block; subsequent invocations will use a cached address of the category.</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> <code>BAEL_LOG_SET_DYNAMIC_CATEGORY(CATEGORY)</code>: <br/>
 Set, <em>on each invocation</em>, the category for logging to the specified <code>CATEGORY</code>. This macro is identical to <code>BAEL_LOG_SET_CATEGORY</code> in scoping, parameter, and use of the <code>ball_Log::setCategory</code> method. However, the address returned from <code>ball_Log::setCategory</code> is not cached for subsequent calls. Use this macro to create categories that depend on run-time values (e.g., LUW or uuid).</div></dd></dl>
<dl class="user"><dt><b></b></dt><dd><div class="hanging"> </div> </dd></dl>
<dl class="user"><dt><b></b></dt><dd>The seven macros based on C++ streams, <code>BAEL_LOG_TRACE</code>, <code>BAEL_LOG_DEBUG</code>, <code>BAEL_LOG_INFO</code>, <code>BAEL_LOG_WARN</code>, <code>BAEL_LOG_ERROR</code>, <code>BAEL_LOG_FATAL</code>, and <code>BAEL_LOG_END</code>, have the following usage pattern: <br/>
<br/>
<div class="fragment"><pre class="fragment">  BAEL_LOG_TRACE &lt;&lt; X &lt;&lt; Y ... &lt;&lt; BAEL_LOG_END
  BAEL_LOG_DEBUG &lt;&lt; X &lt;&lt; Y ... &lt;&lt; BAEL_LOG_END
  BAEL_LOG_INFO  &lt;&lt; X &lt;&lt; Y ... &lt;&lt; BAEL_LOG_END
  BAEL_LOG_WARN  &lt;&lt; X &lt;&lt; Y ... &lt;&lt; BAEL_LOG_END
  BAEL_LOG_ERROR &lt;&lt; X &lt;&lt; Y ... &lt;&lt; BAEL_LOG_END
  BAEL_LOG_FATAL &lt;&lt; X &lt;&lt; Y ... &lt;&lt; BAEL_LOG_END
      where X, Y, ... represents any sequence of values <span class="keywordflow">for</span> which
      <span class="stringliteral">&#39;operator&lt;&lt;&#39;</span> is defined.  The resulting formatted message <span class="keywordtype">string</span> is
      logged with the severity indicated by the name of the initial macro
      (e.g., <span class="stringliteral">&#39;BAEL_LOG_TRACE&#39;</span> ... <span class="stringliteral">&#39;BAEL_LOG_END&#39;</span> logs with severity
      <span class="stringliteral">&#39;ball_Severity::e_TRACE&#39;</span>).  Note that the formatted <span class="keywordtype">string</span> includes the
      category and filename as established by the <span class="stringliteral">&#39;BAEL_LOG_SET_CATEGORY&#39;</span> (or
      <span class="stringliteral">&#39;BAEL_LOG_SET_DYNAMIC_CATEGORY&#39;</span>) and <span class="stringliteral">&#39;__FILE__&#39;</span> macros, respectively.
</pre></div><br/>
<br/>
 The remaining macros are based on <code>printf</code>-style format specifications: <br/>
<br/>
<div class="fragment"><pre class="fragment">  BAEL_LOG0_TRACE(MSG)
  BAEL_LOG0_DEBUG(MSG)
  BAEL_LOG0_INFO (MSG)
  BAEL_LOG0_WARN (MSG)
  BAEL_LOG0_ERROR(MSG)
  BAEL_LOG0_FATAL(MSG)
      Log the specified &#39;MSG&#39; (assumed to be of type convertible to
      &#39;const <span class="keywordtype">char</span> *&#39;) with the severity indicated by the name of the macro
      (e.g., &#39;BAEL_LOG0_DEBUG&#39; logs with severity &#39;ball_Severity::e_DEBUG&#39;).
      Note that the formatted message <span class="keywordtype">string</span> includes the category and
      filename as established by the &#39;BAEL_LOG_SET_CATEGORY&#39; (or
      &#39;BAEL_LOG_SET_DYNAMIC_CATEGORY&#39;) and &#39;__FILE__&#39; macros, respectively.

  BAEL_LOG1_TRACE(MSG, ARG1)
  BAEL_LOG1_DEBUG(MSG, ARG1)
  BAEL_LOG1_INFO (MSG, ARG1)
  BAEL_LOG1_WARN (MSG, ARG1)
  BAEL_LOG1_ERROR(MSG, ARG1)
  BAEL_LOG1_FATAL(MSG, ARG1)
      Format the specified &#39;ARG1&#39; according to the &#39;printf&#39;-style format
      specification in the specified &#39;MSG&#39; (assumed to be of type convertible
      to &#39;const <span class="keywordtype">char</span> *&#39;) and log the resulting formatted message <span class="keywordtype">string</span> with
      the severity indicated by the name of the macro (e.g., &#39;BAEL_LOG1_WARN&#39;
      logs with severity &#39;ball_Severity::e_WARN&#39;).  Note that the formatted
      <span class="keywordtype">string</span> includes the category and filename as established by the
      &#39;BAEL_LOG_SET_CATEGORY&#39; (or &#39;BAEL_LOG_SET_DYNAMIC_CATEGORY&#39;) and
      &#39;__FILE__&#39; macros, respectively.  The behavior is undefined unless
      &#39;ARG1&#39; is compatible with its corresponding format specification in
      &#39;MSG&#39;.

  BAEL_LOGn_TRACE(MSG, ARG1, ARG2, ..., ARGn)     2 &lt;= n &lt;= 9
  BAEL_LOGn_DEBUG(MSG, ARG1, ARG2, ..., ARGn)
  BAEL_LOGn_INFO (MSG, ARG1, ARG2, ..., ARGn)
  BAEL_LOGn_WARN (MSG, ARG1, ARG2, ..., ARGn)
  BAEL_LOGn_ERROR(MSG, ARG1, ARG2, ..., ARGn)
  BAEL_LOGn_FATAL(MSG, ARG1, ARG2, ..., ARGn)
      Format the specified &#39;ARG1&#39;, &#39;ARG2&#39;, ..., &#39;ARGn&#39; (2 &lt;= n &lt;= 9)
      according to the &#39;printf&#39;-style format specification in the specified
      &#39;MSG&#39; (assumed to be of type convertible to &#39;const <span class="keywordtype">char</span> *&#39;) and log the
      resulting formatted message <span class="keywordtype">string</span> with the severity indicated by the
      name of the macro (e.g., &#39;BAEL_LOG8_FATAL&#39; logs with severity
      &#39;ball_Severity::e_FATAL&#39;).  Note that the formatted <span class="keywordtype">string</span> includes the
      category and filename as established by the &#39;BAEL_LOG_SET_CATEGORY&#39; (or
      &#39;BAEL_LOG_SET_DYNAMIC_CATEGORY&#39;) and &#39;__FILE__&#39; macros, respectively.
      The behavior is undefined unless each &#39;ARGn&#39; is compatible with its
      corresponding format specification in &#39;MSG&#39;.
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:22 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
