<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: btls_iovec Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component btls_iovec<br/>
<small>
[<a class="el" href="group__btls.html">Package btls</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide platform-independent data structures for scatter/gather IO.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebtls.html">btls</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide platform-independent data structures for scatter/gather IO. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a> </td><td>Data structure for scatter/gather read or write operations.  </td></tr>
<tr>
<td><a class="el" href="classbtls_1_1Ovec.html">btls::Ovec</a> </td><td>Data structure for scatter/gather write operations.  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides platform-independent data structures for scatter/gather IO, each implemented as a structure that contains a pointer to a data buffer and the buffer's length. The structures contain platform dependent fields, which must only be modified and accessed via the manipulators and accessors. These structures hold but do not own the pointer to the data buffer and therefore will not allocate or deallocate the data buffer. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>For operations that modify the contents of the data buffer <code><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a></code> should be used. This includes scatter/gather read or receive operations. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>For operations that do not modify the contents of the data buffer either <code><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a></code> or <code><a class="el" href="classbtls_1_1Ovec.html">btls::Ovec</a></code> may be used. This includes scatter/gather write or send operations. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following snippets of code illustrate how to use <code><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a></code> with platform dependent scatter/gather operations. Typically, an array of structures is created with each element containing a pointer to a buffer. A pointer to the array of <code><a class="el" href="classbtls_1_1Ovec.html">btls::Ovec</a></code> or <code><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a></code> is passed to the IO operation. In this example an array of 3 buffer pointers is created. <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keywordtype">char</span> buf1[10];
  <span class="keywordtype">char</span> buf2[4];
  <span class="keywordtype">char</span> buf3[7];
  <a class="code" href="classbtls_1_1Ovec.html">btls::Ovec</a> vector[3];
  vector[0].<a class="code" href="classbtls_1_1Ovec.html#aa0c6065e77b32bc07633f01c3b07f955">setBuffer</a>(buf1, 10);
  vector[1].<a class="code" href="classbtls_1_1Ovec.html#aa0c6065e77b32bc07633f01c3b07f955">setBuffer</a>(buf2, 4);
  vector[2].<a class="code" href="classbtls_1_1Ovec.html#aa0c6065e77b32bc07633f01c3b07f955">setBuffer</a>(buf3, 7);
</pre></div><br/>
<br/>
 On UNIX-like systems the internal structure of <code><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a></code> and <code><a class="el" href="classbtls_1_1Ovec.html">btls::Ovec</a></code> use the <code>iovec</code> <code>struct</code>. This structure is used for the <code>writev</code> and <code>readv</code> scatter/gather read/write operations or within the <code>msgbuf</code> <code>struct</code> used by <code>sendmsg</code> and <code>readmsg</code> socket operations. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>On Windows the internal structure of <code><a class="el" href="classbtls_1_1Iovec.html">btls::Iovec</a></code> and <code><a class="el" href="classbtls_1_1Ovec.html">btls::Ovec</a></code> use the <code>WSABUF</code> <code>struct</code>. This structure is used for the <code>WSARecv</code> and <code>WSASend</code> scatter/gather send/receive socket operations or within the <code>WSAMSG</code> <code>struct</code> used by <code>WSARecvMsg</code> and <code>WSASendMsg</code> socket operations. <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #ifndef BSLS_PLATFORM_CMP_MSVC</span>
<span class="preprocessor"></span>      <span class="comment">// Verify values for UNIX like systems</span>
      <span class="keywordtype">int</span> socket = 0;
      ::writev(socket, (<span class="keyword">struct </span>iovec *) vector, 3);
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>      <span class="comment">// Verify values for Windows</span>
      DWORD writeCount = 0;
      SOCKET socket = (SOCKET) 0;
      <span class="keywordtype">int</span> ret =
             TestWSASend(socket, (WSABUF *) vector, 3, &amp;writeCount, 0, 0, 0);
<span class="preprocessor">  #endif</span>
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:49:13 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
