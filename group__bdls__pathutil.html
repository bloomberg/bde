<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bdls_pathutil Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdls_pathutil<br/>
<small>
[<a class="el" href="group__bdls.html">Package bdls</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide portable file path manipulation.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdls.html">bdls</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Parsing and Performance</a> </li>
<li>
<a href="#3.2">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide portable file path manipulation. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="structbdls_1_1PathUtil.html">bdls::PathUtil</a> </td><td>Portable utility methods for manipulating paths  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__bdls__filesystemutil.html" title="Provide methods for filesystem access with multi-language names.">Component bdls_filesystemutil</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component provides utility methods for manipulating strings that represent paths in the filesystem. Class methods of <code><a class="el" href="structbdls_1_1PathUtil.html">bdls::PathUtil</a></code> include platform-independent operations to add or remove filenames or relative paths at the end of a path string (by "filenames" we are referring to the names of any filesystem item, including regular files and directories). There are also methods to parse the path to delimit the "root" as defined for the current platform; see "Parsing and Performance" below. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Paths that have a root are called <em>absolute</em> paths, whereas paths that do not have a root are <em>relative</em> paths. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Note that this component does not perform filesystem operations. In particular, no effort is made to verify the existence or accessibility of any segment of any path. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="parsing_and_performance"></a> <a class="anchor" id="description.parsing_and_performance"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Parsing and Performance: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Most methods of this component will perform basic parsing of the beginning part of the path to determine what part of it is the "root" as defined for the current platform. This parsing is trivial on Unix platforms but is slightly more involved for the Windows operating system. To accommodate client code which is willing to store parsing results in order to maximize performance, all methods which parse the "root" of the path accept an optional argument delimiting the "root"; if this argument is specified, parsing is skipped. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.2"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>We start with strings representing an absolute native path and a relative native path, respectively: <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #ifdef BSLS_PLATFORM_OS_WINDOWS</span>
<span class="preprocessor"></span>      <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> tempPath  = <span class="stringliteral">&quot;c:\\windows\\temp&quot;</span>;
      <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> otherPath = <span class="stringliteral">&quot;22jan08\\log.txt&quot;</span>;
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>      <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> tempPath  = <span class="stringliteral">&quot;/var/tmp&quot;</span>;
      <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> otherPath = <span class="stringliteral">&quot;22jan08/log.txt&quot;</span>;
<span class="preprocessor">  #endif</span>
</pre></div><br/>
<br/>
 <code>tempPath</code> is an absolute path, since it has a root. It also has a leaf element ("temp"): <br/>
<br/>
<div class="fragment"><pre class="fragment">  assert(<span class="keyword">false</span> == <a class="code" href="structbdls_1_1PathUtil.html#a2b40856dd87cf61af44afee1b257ef0a">bdls::PathUtil::isRelative</a>(tempPath));
  assert(<span class="keyword">true</span>  == <a class="code" href="structbdls_1_1PathUtil.html#ad3f5b42a4bc45b02b83ce6e01bc24507">bdls::PathUtil::isAbsolute</a>(tempPath));
  assert(<span class="keyword">true</span>  == <a class="code" href="structbdls_1_1PathUtil.html#ae5326f2c2aee49bf097785a0013de4d6">bdls::PathUtil::hasLeaf</a>(tempPath));
</pre></div><br/>
<br/>
 We can add filenames to the path one at a time, or we can add another path if is relative. We can also remove filenames from the end of the path one at a time: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <a class="code" href="structbdls_1_1PathUtil.html#a7701bb16aec4cc526e657848447b6b83">bdls::PathUtil::appendRaw</a>(&amp;tempPath, <span class="stringliteral">&quot;myApp&quot;</span>);
  <a class="code" href="structbdls_1_1PathUtil.html#a7701bb16aec4cc526e657848447b6b83">bdls::PathUtil::appendRaw</a>(&amp;tempPath, <span class="stringliteral">&quot;logs&quot;</span>);
  assert(<span class="keyword">true</span> == <a class="code" href="structbdls_1_1PathUtil.html#a2b40856dd87cf61af44afee1b257ef0a">bdls::PathUtil::isRelative</a>(otherPath));
  assert(0 == <a class="code" href="structbdls_1_1PathUtil.html#aee1c206ac72a90ce357b3ebd899d4838">bdls::PathUtil::appendIfValid</a>(&amp;tempPath, otherPath));
  assert(<span class="keyword">true</span> == <a class="code" href="structbdls_1_1PathUtil.html#ae5326f2c2aee49bf097785a0013de4d6">bdls::PathUtil::hasLeaf</a>(tempPath));
  <a class="code" href="structbdls_1_1PathUtil.html#ae80db28aaead0f4b571b6ed4e82d5c26">bdls::PathUtil::popLeaf</a>(tempPath);
  <a class="code" href="structbdls_1_1PathUtil.html#a7701bb16aec4cc526e657848447b6b83">bdls::PathUtil::appendRaw</a>(&amp;tempPath, <span class="stringliteral">&quot;log2.txt&quot;</span>);

<span class="preprocessor">  #ifdef BSLS_PLATFORM_OS_WINDOWS</span>
<span class="preprocessor"></span>      assert(<span class="stringliteral">&quot;c:\\windows\\temp\\myApp\\logs\\22jan08\\log2.txt&quot;</span> ==
                                                                   tempPath);
<span class="preprocessor">  #else</span>
<span class="preprocessor"></span>      assert(<span class="stringliteral">&quot;/var/tmp/myApp/logs/22jan08/log2.txt&quot;</span> == tempPath);
<span class="preprocessor">  #endif</span>
</pre></div><br/>
<br/>
 A relative path may be appended to any other path, even itself. An absolute path may not be appended to any path, or undefined behavior will result: <br/>
<br/>
<div class="fragment"><pre class="fragment">   assert(0 == <a class="code" href="structbdls_1_1PathUtil.html#aee1c206ac72a90ce357b3ebd899d4838">bdls::PathUtil::appendIfValid</a>(&amp;otherPath, otherPath));  <span class="comment">// OK</span>
   <span class="comment">/* bdls::PathUtil::append(&amp;otherPath, tempPath); */</span> <span class="comment">// UNDEFINED BEHAVIOR!</span>
</pre></div><br/>
<br/>
 Note that there is no attempt to distinguish filenames that are regular files from filenames that are directories, or to verify the existence of paths in the filesystem. On POSIX: <br/>
<br/>
<div class="fragment"><pre class="fragment">   assert(<span class="stringliteral">&quot;22jan08/log.txt/22jan08/log.txt&quot;</span> == otherPath);
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:47 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
