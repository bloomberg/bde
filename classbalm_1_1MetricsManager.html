<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: Class balm::MetricsManager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacebalm.html">balm</a>      </li>
      <li><a class="el" href="classbalm_1_1MetricsManager.html">balm::MetricsManager</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<h1>balm::MetricsManager Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="balm::MetricsManager" -->
<p><code>#include &lt;<a class="el" href="balm__metricsmanager_8h_source.html">balm_metricsmanager.h</a>&gt;</code></p>

<p><a href="classbalm_1_1MetricsManager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="classbalm_1_1MetricsManager.html#ad865f09a448f40982002bde6485597a8a7b9a400e77f6e8a7f184fa9c489dcc96">e_INVALID_HANDLE</a> =  -1
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef bsl::function&lt; void(<a class="el" href="classbsl_1_1vector.html">bsl::vector</a><br class="typebreak"/>
&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *, bool)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#aa6f62616139bc125d78173f11c2f5174">RecordsCollectionCallback</a> )</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#aec382cc22d73a761fd51aaa981f84339">BSLMF_NESTED_TRAIT_DECLARATION</a> (<a class="el" href="classbalm_1_1MetricsManager.html">MetricsManager</a>, <a class="el" href="structbslma_1_1UsesBslmaAllocator.html">bslma::UsesBslmaAllocator</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a07de49cd24707aaed2be58403dc17ca1">MetricsManager</a> (<a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *basicAllocator=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a7a3ce658e46966f1cd19291cc7acf688">~MetricsManager</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a17dd1636aa9fac5d26175a7904b49452">registerCollectionCallback</a> (const char *categoryName, const <a class="el" href="classbalm_1_1MetricsManager.html#aa6f62616139bc125d78173f11c2f5174">RecordsCollectionCallback</a> &amp;callback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a0f034ffa9e23fd58ab418934c797900d">registerCollectionCallback</a> (const <a class="el" href="classbalm_1_1Category.html">Category</a> *category, const <a class="el" href="classbalm_1_1MetricsManager.html#aa6f62616139bc125d78173f11c2f5174">RecordsCollectionCallback</a> &amp;callback)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a90a2ffc3264344f2948dd8676764821a">removeCollectionCallback</a> (<a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a> handle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a3ab6f3eec3141e6c3af9e1c702548348">addGeneralPublisher</a> (const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;publisher)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a373f0cdc4ae7f7fa278c27413dd738b9">addSpecificPublisher</a> (const char *categoryName, const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;publisher)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#aed10445e7c962144633c795b19cef7e4">addSpecificPublisher</a> (const <a class="el" href="classbalm_1_1Category.html">Category</a> *category, const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;publisher)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a576a48ef46d3b7d39de2a1641da62c0e">removePublisher</a> (const <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> *publisher)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a8cceac8bb600af9aad0f59d99946445e">removePublisher</a> (const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;publisher)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a536b8e60b798321cf64d3168ee364900">collectorRepository</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a651d7ac514fcbea17dc7828464c53d4e">collectSample</a> (<a class="el" href="classbalm_1_1MetricSample.html">MetricSample</a> *sample, <a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *records, bool resetFlag=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#ac5a32b3b6a17c22b85324385926db029">collectSample</a> (<a class="el" href="classbalm_1_1MetricSample.html">MetricSample</a> *sample, <a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *records, const <a class="el" href="classbalm_1_1Category.html">Category</a> *const categories[], int numCategories, bool resetFlag=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a69768cef0059212f3a8c1f61942db302">publish</a> (const <a class="el" href="classbalm_1_1Category.html">Category</a> *category, bool resetFlag=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a806065e3a280d48ee1c92a5ec52230b0">publish</a> (const <a class="el" href="classbalm_1_1Category.html">Category</a> *const categories[], int numCategories, bool resetFlag=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a6fb38f90ceebc5c9ad08c41a0ab12e63">publish</a> (const <a class="el" href="classbsl_1_1set.html">bsl::set</a>&lt; const <a class="el" href="classbalm_1_1Category.html">Category</a> * &gt; &amp;categories, bool resetFlag=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a94c51743de384bdc0402fd555dbf914c">publishAll</a> (bool resetFlag=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#aaf8018e7c64217bc119c6bb2f24234a4">publishAll</a> (const <a class="el" href="classbsl_1_1set.html">bsl::set</a>&lt; const <a class="el" href="classbalm_1_1Category.html">Category</a> * &gt; &amp;excludedCategories, bool resetFlag=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#ac0c1c6b00167f8f657fe0acd2387b1c9">setCategoryEnabled</a> (const char *category, bool isEnabled=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a54eef6a29eacfa17d239154163241e1c">setCategoryEnabled</a> (const <a class="el" href="classbalm_1_1Category.html">Category</a> *category, bool value=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a15074c6b499b001731b9bf4b800166b2">setAllCategoriesEnabled</a> (bool value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#ad3118cf5e6ef32f3e2747c68daa576af">findGeneralPublishers</a> (<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> * &gt; *publishers) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a038543609355c2f9c637e370232f6529">findSpecificPublishers</a> (<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> * &gt; *publishers, const char *categoryName) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a95a9e10e0bdf1ef60fc303d6257454ee">findSpecificPublishers</a> (<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> * &gt; *publishers, const <a class="el" href="classbalm_1_1Category.html">Category</a> *category) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#ae7d4365bd2c0ac12a5aa3acfdb5932e7">collectorRepository</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#a8aa9fc56f332f75f3f9ddc1764090a53">metricRegistry</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1MetricsManager.html#ac96b9667a57077a7637a702e6e877050">MetricsManager_PublicationHelper</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class implements a manager for the recording and publishing of metrics. Metrics managed by a <code><a class="el" href="classbalm_1_1MetricsManager.html">MetricsManager</a></code> are grouped into categories identified by a string. The metrics manager allows clients to register a <code><a class="el" href="classbalm_1_1Publisher.html">Publisher</a></code> object using the <code>addGeneralPublisher</code> and <code>addSpecificPublisher</code> operations. Metrics can be recorded in one of two ways: Clients can (1) implement their own metric collection facilities and register a callback using this metric manager's <code>registerMetricsCallback</code> method; or (2) use the <code><a class="el" href="classbalm_1_1Collector.html">Collector</a></code> objects available from the <code><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a></code> owned by this metrics manager. </p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="aa6f62616139bc125d78173f11c2f5174"></a><!-- doxytag: member="balm::MetricsManager::RecordsCollectionCallback" ref="aa6f62616139bc125d78173f11c2f5174" args=")" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bsl::function&lt;void(<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt;<a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a>&gt; *, bool) <a class="el" href="classbalm_1_1MetricsManager.html#aa6f62616139bc125d78173f11c2f5174">balm::MetricsManager::RecordsCollectionCallback</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><code>RecordsCollectionCallback</code> is an alias for a callback function that appends to the supplied <code><a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a></code> vector the values of the collected metrics, and, if the provided <code>bool</code> is <code>true</code>, resets those metrics to their default values. Clients can register callbacks matching this prototype with the metrics manager. Here is an example prototype matching this callback: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">          <span class="keywordtype">void</span> collectionCb(<a class="code" href="classbsl_1_1vector.html">bsl::vector&lt;MetricRecord&gt;</a> *records,
                            <span class="keywordtype">bool</span>                       resetFlag);
</pre></div><p><br/>
<br/>
 </p>

</div>
</div>
<a class="anchor" id="a1c53bc2263ad5db6fc7ad1a84c469eb3"></a><!-- doxytag: member="balm::MetricsManager::CallbackHandle" ref="a1c53bc2263ad5db6fc7ad1a84c469eb3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">balm::MetricsManager::CallbackHandle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ad865f09a448f40982002bde6485597a8"></a><!-- doxytag: member="balm::MetricsManager::@94" ref="ad865f09a448f40982002bde6485597a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad865f09a448f40982002bde6485597a8a7b9a400e77f6e8a7f184fa9c489dcc96"></a><!-- doxytag: member="e_INVALID_HANDLE" ref="ad865f09a448f40982002bde6485597a8a7b9a400e77f6e8a7f184fa9c489dcc96" args="" -->e_INVALID_HANDLE</em>&nbsp;</td><td>
<p>an invalid callback handle </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a07de49cd24707aaed2be58403dc17ca1"></a><!-- doxytag: member="balm::MetricsManager::MetricsManager" ref="a07de49cd24707aaed2be58403dc17ca1" args="(bslma::Allocator *basicAllocator=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">balm::MetricsManager::MetricsManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *&nbsp;</td>
          <td class="paramname"> <em>basicAllocator</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a <code><a class="el" href="classbalm_1_1MetricsManager.html">MetricsManager</a></code>. Optionally specify a <code>basicAllocator</code> used to supply memory. If <code>basicAllocator</code> is 0, the currently installed default allocator is used. </p>

</div>
</div>
<a class="anchor" id="a7a3ce658e46966f1cd19291cc7acf688"></a><!-- doxytag: member="balm::MetricsManager::~MetricsManager" ref="a7a3ce658e46966f1cd19291cc7acf688" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">balm::MetricsManager::~MetricsManager </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroy this <code><a class="el" href="classbalm_1_1MetricsManager.html">MetricsManager</a></code>. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aec382cc22d73a761fd51aaa981f84339"></a><!-- doxytag: member="balm::MetricsManager::BSLMF_NESTED_TRAIT_DECLARATION" ref="aec382cc22d73a761fd51aaa981f84339" args="(MetricsManager, bslma::UsesBslmaAllocator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">balm::MetricsManager::BSLMF_NESTED_TRAIT_DECLARATION </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbalm_1_1MetricsManager.html">MetricsManager</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbslma_1_1UsesBslmaAllocator.html">bslma::UsesBslmaAllocator</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a17dd1636aa9fac5d26175a7904b49452"></a><!-- doxytag: member="balm::MetricsManager::registerCollectionCallback" ref="a17dd1636aa9fac5d26175a7904b49452" args="(const char *categoryName, const RecordsCollectionCallback &amp;callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a> balm::MetricsManager::registerCollectionCallback </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>categoryName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricsManager.html#aa6f62616139bc125d78173f11c2f5174">RecordsCollectionCallback</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register the specified <code>callback</code> to collect records for the category having the specified <code>categoryName</code>, and return an opaque integer handle that can be used later to remove the <code>callback</code>. The supplied <code>callback</code> will be called to collect metrics from the identified category each time the category is published or collected, even if the category is disabled. If the <code>publish</code> or <code>collectSample</code> method is called on the identified category, and the category is disabled, the <code>callback</code> will be invoked so clients may update any internal state, but the collected metrics will be ignored. Clients that wish to avoid overhead associated with collecting metrics for a disabled category must test (within their code) whether the category is disabled. The behavior is undefined if the <code>callback</code> returns metrics belonging to metric categories other than the one identified by <code>categoryName</code>, or if <code>categoryName</code> is not null-terminated. Note that the same <code>callback</code> can be registered for a category multiple times, and that registering the same <code>callback</code> multiple times will result in an equal number of invocations of the <code>callback</code> when publishing the category. </p>

</div>
</div>
<a class="anchor" id="a0f034ffa9e23fd58ab418934c797900d"></a><!-- doxytag: member="balm::MetricsManager::registerCollectionCallback" ref="a0f034ffa9e23fd58ab418934c797900d" args="(const Category *category, const RecordsCollectionCallback &amp;callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a> balm::MetricsManager::registerCollectionCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricsManager.html#aa6f62616139bc125d78173f11c2f5174">RecordsCollectionCallback</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register the specified <code>callback</code> to collect records for the specified <code>category</code>, and return an opaque integer handle that can be used later to remove the <code>callback</code>. The supplied <code>callback</code> will be called to collect metrics from <code>category</code> each time <code>category</code> is published, even if <code>category</code> is disabled (i.e., <code>category-&gt;enabled()</code> is <code>false</code>). If the <code>publish</code> method is called on <code>category</code> and <code>category</code> is disabled, the <code>callback</code> will be invoked so clients may update any internal state, but the collected metrics will be ignored. Clients that wish to avoid overhead associated with collecting metrics for a disabled category must test (within their code) whether the category is disabled. The behavior is undefined if the <code>callback</code> returns metrics belonging to metric categories other than <code>category</code>. Note that the same <code>callback</code> can be registered for a <code>category</code> multiple times, and that registering the same <code>callback</code> multiple times will result in an equal number of invocations of the <code>callback</code> when publishing the <code>category</code>. </p>

</div>
</div>
<a class="anchor" id="a90a2ffc3264344f2948dd8676764821a"></a><!-- doxytag: member="balm::MetricsManager::removeCollectionCallback" ref="a90a2ffc3264344f2948dd8676764821a" args="(CallbackHandle handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::removeCollectionCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbalm_1_1MetricsManager.html#a1c53bc2263ad5db6fc7ad1a84c469eb3">CallbackHandle</a>&nbsp;</td>
          <td class="paramname"> <em>handle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove the callback associated with the specified <code>handle</code>. Return 0 on success, or a non-zero value if <code>handle</code> cannot be found. </p>

</div>
</div>
<a class="anchor" id="a3ab6f3eec3141e6c3af9e1c702548348"></a><!-- doxytag: member="balm::MetricsManager::addGeneralPublisher" ref="a3ab6f3eec3141e6c3af9e1c702548348" args="(const bsl::shared_ptr&lt; Publisher &gt; &amp;publisher)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::addGeneralPublisher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>publisher</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the specified <code>publisher</code> to the set of publishers that will be used to propagate records for <em>every</em> category published by this metrics manager. Return 0 on success, and a non-zero value with no effect if <code>publisher</code> has already been registered. After this method returns, <em>any</em> category published by this metrics manager will be published to <code>publisher</code>. Note that this method will have no effect and return a non-zero value if <code>publisher</code> was previously registered for one or more specific categories (using the alternative <code>addSpecificPublisher</code> method). </p>

</div>
</div>
<a class="anchor" id="a373f0cdc4ae7f7fa278c27413dd738b9"></a><!-- doxytag: member="balm::MetricsManager::addSpecificPublisher" ref="a373f0cdc4ae7f7fa278c27413dd738b9" args="(const char *categoryName, const bsl::shared_ptr&lt; Publisher &gt; &amp;publisher)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::addSpecificPublisher </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>categoryName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>publisher</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the specified <code>publisher</code> to the set of publishers that will be used to publish metrics for the category identified by the specified <code>categoryName</code>. Return 0 on success, and a non-zero value with no effect if <code>publisher</code> has already been registered to publish the identified category. The behavior is undefined unless <code>categoryName</code> is null-terminated. Note that this method will fail and return a non-zero value if <code>publisher</code> has previously been registered to publish <em>every</em> category (using the alternative <code>addGeneralPublisher</code> method). </p>

</div>
</div>
<a class="anchor" id="aed10445e7c962144633c795b19cef7e4"></a><!-- doxytag: member="balm::MetricsManager::addSpecificPublisher" ref="aed10445e7c962144633c795b19cef7e4" args="(const Category *category, const bsl::shared_ptr&lt; Publisher &gt; &amp;publisher)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::addSpecificPublisher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>publisher</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the specified <code>publisher</code> to the set of publishers that will be used to publish metrics for the specified <code>category</code>. Return 0 on success, and a non-zero value with no effect if <code>publisher</code> has already been registered to publish <code>category</code>. The behavior is undefined unless <code>category</code> is a valid address returned by the <code>metricRegistry</code> method. Note that this method will fail and return a non-zero value if <code>publisher</code> has previously been registered to publish <em>every</em> category (using the alternative <code>addGeneralPublisher</code> method). </p>

</div>
</div>
<a class="anchor" id="a576a48ef46d3b7d39de2a1641da62c0e"></a><!-- doxytag: member="balm::MetricsManager::removePublisher" ref="a576a48ef46d3b7d39de2a1641da62c0e" args="(const Publisher *publisher)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::removePublisher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> *&nbsp;</td>
          <td class="paramname"> <em>publisher</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8cceac8bb600af9aad0f59d99946445e"></a><!-- doxytag: member="balm::MetricsManager::removePublisher" ref="a8cceac8bb600af9aad0f59d99946445e" args="(const bsl::shared_ptr&lt; Publisher &gt; &amp;publisher)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::removePublisher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>publisher</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stop publishing metrics to the specified <code>publisher</code> (for each category), and remove it from this metrics manager. Return 0 on success, and a non-zero value if <code>publisher</code> cannot be found. </p>

</div>
</div>
<a class="anchor" id="a536b8e60b798321cf64d3168ee364900"></a><!-- doxytag: member="balm::MetricsManager::collectorRepository" ref="a536b8e60b798321cf64d3168ee364900" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a>&amp; balm::MetricsManager::collectorRepository </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the modifiable repository of collectors managed by this object. </p>

</div>
</div>
<a class="anchor" id="a86d24baf737cf0f1cbbe85e68106028e"></a><!-- doxytag: member="balm::MetricsManager::metricRegistry" ref="a86d24baf737cf0f1cbbe85e68106028e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a>&amp; balm::MetricsManager::metricRegistry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the modifiable registry of metrics managed by this object. </p>

</div>
</div>
<a class="anchor" id="a651d7ac514fcbea17dc7828464c53d4e"></a><!-- doxytag: member="balm::MetricsManager::collectSample" ref="a651d7ac514fcbea17dc7828464c53d4e" args="(MetricSample *sample, bsl::vector&lt; MetricRecord &gt; *records, bool resetFlag=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::collectSample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbalm_1_1MetricSample.html">MetricSample</a> *&nbsp;</td>
          <td class="paramname"> <em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ac5a32b3b6a17c22b85324385926db029"></a><!-- doxytag: member="balm::MetricsManager::collectSample" ref="ac5a32b3b6a17c22b85324385926db029" args="(MetricSample *sample, bsl::vector&lt; MetricRecord &gt; *records, const Category *const categories[], int numCategories, bool resetFlag=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::collectSample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbalm_1_1MetricSample.html">MetricSample</a> *&nbsp;</td>
          <td class="paramname"> <em>sample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *const &nbsp;</td>
          <td class="paramname"> <em>categories</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numCategories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a69768cef0059212f3a8c1f61942db302"></a><!-- doxytag: member="balm::MetricsManager::publish" ref="a69768cef0059212f3a8c1f61942db302" args="(const Category *category, bool resetFlag=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::publish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish metrics associated with the specified <code>category</code> if <code>category</code> is enabled; otherwise (if <code>category</code> is not enabled) this method has no effect. Optionally specify a <code>resetFlag</code> that determines if the collected metrics are reset as part of this operation. If <code>category</code> is enabled (i.e., <code>category-&gt;isEnabled()</code> is <code>true</code>), this operation will collect aggregated metric values for <code>category</code> from any registered callbacks as well as from its own <code><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a></code>, and then publish those records using any publishers associated with <code>category</code>. If <code>resetFlag</code> is <code>true</code>, the metrics being collected are reset to their default state. The metrics manager provides publishers the time interval over which the published metrics were collected. This interval is computed as the elapsed time since the last time the <code>category</code> was reset (either through a call to the <code>publish</code> or <code>collectSample</code> methods). If <code>category</code> has not previously been reset then this interval is taken to be the elapsed time since the creation of this metrics manager. Note that the alternative <code>publish</code> methods that publish multiple categories in a single invocation are more efficient than publishing a sequence of categories individually. </p>

</div>
</div>
<a class="anchor" id="a806065e3a280d48ee1c92a5ec52230b0"></a><!-- doxytag: member="balm::MetricsManager::publish" ref="a806065e3a280d48ee1c92a5ec52230b0" args="(const Category *const categories[], int numCategories, bool resetFlag=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::publish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *const &nbsp;</td>
          <td class="paramname"> <em>categories</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>numCategories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish metrics belonging to the specified sequence of (unique) <code>categories</code>, of specified length <code>numCategories</code>. Optionally specify a <code>resetFlag</code> that determines if the collected metrics are reset as part of this operation. This operation will collect aggregated metric values for each <em>enabled</em> category in <code>categories</code> from registered callbacks as well as from its own <code><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a></code>, and then publish those records using any publishers associated with the category. Any individual category in <code>categories</code> that is not enabled is ignored. If <code>resetFlag</code> is <code>true</code>, the metrics being collected are reset to their default state. The metrics manager provides publishers the time interval over which the published metrics were collected. This interval is computed as the elapsed time since the last time the <code>category</code> was reset (either through a call to the <code>publish</code> or <code>collectSample</code> methods). If a category has not previously been reset then this interval is taken to be the elapsed time since the creation of this metrics manager. The behavior is undefined unless <code>0 &lt;= numCategories</code>, <code>categories</code> refers to a contiguous sequence of (at least) <code>numCategories</code>, and each category in <code>categories</code> appears only once. </p>

</div>
</div>
<a class="anchor" id="a6fb38f90ceebc5c9ad08c41a0ab12e63"></a><!-- doxytag: member="balm::MetricsManager::publish" ref="a6fb38f90ceebc5c9ad08c41a0ab12e63" args="(const bsl::set&lt; const Category * &gt; &amp;categories, bool resetFlag=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::publish </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1set.html">bsl::set</a>&lt; const <a class="el" href="classbalm_1_1Category.html">Category</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>categories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish metrics belonging to the specified <code>categories</code>. Optionally specify a <code>resetFlag</code> that determines if the metrics are reset as part of this operation. This operation will collect aggregated metric values for each <em>enabled</em> category in <code>categories</code> from registered callbacks as well as from its own <code><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a></code>, and then publish those records using any publishers associated with the category. Any category in <code>categories</code> that is not enabled is ignored. If <code>resetFlag</code> is <code>true</code>, the metrics being collected are reset to their default state. The metrics manager provides publishers the time interval over which the published metrics were collected. This interval is computed as the elapsed time since the last time the <code>category</code> was reset (either through a call to the <code>publish</code> or <code>collectSample</code> methods). If a category has not previously been reset then this interval is taken to be the elapsed time since the creation of this metrics manager. </p>

</div>
</div>
<a class="anchor" id="a94c51743de384bdc0402fd555dbf914c"></a><!-- doxytag: member="balm::MetricsManager::publishAll" ref="a94c51743de384bdc0402fd555dbf914c" args="(bool resetFlag=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::publishAll </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>true</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish metrics for every category registered with the contained <code>MetricsRegistry</code> object. Optionally specify a <code>resetFlag</code> that determines if the metrics are reset as part of this operation. This operation will collect aggregated metric values for each enabled category in its <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code> from registered callbacks as well as from its own <code><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a></code>, and then publish those records using any publishers associated with the category. Any category that is not enabled is ignored. If <code>resetFlag</code> is <code>true</code>, the metrics being collected are reset to their default state. The metrics manager provides publishers the time interval over which a published category of metrics were collected. This interval is computed as the elapsed time since the last time the category was reset (either through a call to the <code>publish</code> or <code>collectSample</code> methods). If a category has not previously been reset then this interval is taken to be the elapsed time since the creation of this metrics manager. </p>

</div>
</div>
<a class="anchor" id="aaf8018e7c64217bc119c6bb2f24234a4"></a><!-- doxytag: member="balm::MetricsManager::publishAll" ref="aaf8018e7c64217bc119c6bb2f24234a4" args="(const bsl::set&lt; const Category * &gt; &amp;excludedCategories, bool resetFlag=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::publishAll </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbsl_1_1set.html">bsl::set</a>&lt; const <a class="el" href="classbalm_1_1Category.html">Category</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>excludedCategories</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>resetFlag</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish metrics for every category registered with the contained <code>MetricsRegistry</code> object, except for the specified <code>excludedCategories</code>. Optionally specify a <code>resetFlag</code> that determines if the metrics are reset as part of this operation. This operation will collect aggregated metric values for each <em>enabled</em> category in its <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code> (that is not in <code>excludedCategories</code>) from registered callbacks as well as from its own <code><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a></code>, and then publish those records using any publishers associated with the category. Any category that is not enabled is ignored. If <code>resetFlag</code> is <code>true</code>, the metrics being collected are reset to their default state. The metrics manager provides publishers the time interval over which a published category of metrics were collected. This interval is computed as the elapsed time since the last time the category was reset (either through a call to the <code>publish</code> or <code>collectSample</code> methods). If a category has not previously been reset then this interval is taken to be the elapsed time since the creation of this metrics manager. </p>

</div>
</div>
<a class="anchor" id="ac0c1c6b00167f8f657fe0acd2387b1c9"></a><!-- doxytag: member="balm::MetricsManager::setCategoryEnabled" ref="ac0c1c6b00167f8f657fe0acd2387b1c9" args="(const char *category, bool isEnabled=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::setCategoryEnabled </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>isEnabled</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set whether the specified <code>category</code> is enabled to the optionally specified <code>isEnabled</code> value. If <code>category</code> has not been registered, register it with the <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code>. If a category is disabled it will not be published (see the <code>publish</code> methods), and higher level components may not record values for metrics belonging to the category (for an example, see the <code>balm_metric</code> documentation). Note that this operation is <em>not</em> atomic, and other threads may simultaneously access the current enabled value for <code>category</code> while this operation is performed. Also note that this operation has <em>linear</em> performance with respect to the number of registered category holders for <code>category</code> (see <code>balm_metricregistry</code> and <code>balm_category</code> for information on category holders). </p>

</div>
</div>
<a class="anchor" id="a54eef6a29eacfa17d239154163241e1c"></a><!-- doxytag: member="balm::MetricsManager::setCategoryEnabled" ref="a54eef6a29eacfa17d239154163241e1c" args="(const Category *category, bool value=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::setCategoryEnabled </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set whether the specified <code>category</code> is enabled to the optionally specified <code>value</code>. If a category is disabled it will not be published (see the <code>publish</code> methods), and higher level components may not record values for metrics belonging to the category (for an example, see the <code>balm_metric</code> documentation). The behavior is undefined unless <code>category</code> is a valid address of a category previously returned by the metric registry owned by this <code>MetricManager</code> object (i.e., <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code>). Note that this operation is thread-safe, but <em>not</em> atomic: Other threads may simultaneously access the current enabled value for <code>category</code> while this operation is performed. Also note that this operation has <em>linear</em> performance with respect to the number of registered category holders for <code>category</code> (see <code>balm_metricregistry</code> and <code>balm_category</code> for information on category holders). </p>

</div>
</div>
<a class="anchor" id="a15074c6b499b001731b9bf4b800166b2"></a><!-- doxytag: member="balm::MetricsManager::setAllCategoriesEnabled" ref="a15074c6b499b001731b9bf4b800166b2" args="(bool value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::MetricsManager::setAllCategoriesEnabled </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set whether each category currently registered with <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code> is enabled to the specified <code>value</code>, and ensure that categories registered after this call are initialized as either enabled or disabled, accordingly. If a category is disabled it will not be published (see the <code>publish</code> methods), and higher level components may not record values for metrics belonging to the category (for an example, see the <code>balm_metric</code> documentation). This operation is logically equivalent to iterating over the list of categories currently registered with <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code> and calling <code>setCategoryEnabled</code> on each category individually, and also setting a default <code>isEnabled()</code> value (for newly-created categories). Hence, subsequent calls to <code>setCategoryEnabled</code> will override this value for a particular category. Note that this operation is thread-safe, but <em>not</em> atomic: Other threads may simultaneously access the current enabled status for a category while this operation completes. Also note that this operation has <em>linear</em> runtime performance with respect to the total number of category holders registered with <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code> (see <code>balm_metricregistry</code> and <code>balm_category</code> for information on category holders). </p>

</div>
</div>
<a class="anchor" id="ad3118cf5e6ef32f3e2747c68daa576af"></a><!-- doxytag: member="balm::MetricsManager::findGeneralPublishers" ref="ad3118cf5e6ef32f3e2747c68daa576af" args="(bsl::vector&lt; Publisher * &gt; *publishers) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::findGeneralPublishers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>publishers</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append to the specified <code>publishers</code> the addresses of publishers registered to publish metrics for every category. Return the number of publishers found. Note that this method will not find publishers associated with individual categories (i.e., category specific publishers). </p>

</div>
</div>
<a class="anchor" id="a038543609355c2f9c637e370232f6529"></a><!-- doxytag: member="balm::MetricsManager::findSpecificPublishers" ref="a038543609355c2f9c637e370232f6529" args="(bsl::vector&lt; Publisher * &gt; *publishers, const char *categoryName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::findSpecificPublishers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>publishers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>categoryName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append to the specified <code>publishers</code> the addresses of any publishers associated with the (particular) category identified by the specified <code>categoryName</code>. Return the number of publishers found for the <code>category</code>. The behavior is undefined unless <code>category</code> is null-terminated. Note that this method will not find publishers registered for every category (i.e., general publishers) </p>

</div>
</div>
<a class="anchor" id="a95a9e10e0bdf1ef60fc303d6257454ee"></a><!-- doxytag: member="balm::MetricsManager::findSpecificPublishers" ref="a95a9e10e0bdf1ef60fc303d6257454ee" args="(bsl::vector&lt; Publisher * &gt; *publishers, const Category *category) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::MetricsManager::findSpecificPublishers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1Publisher.html">Publisher</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>publishers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append to the specified <code>publishers</code> the addresses of any publishers associated with the (particular) specified <code>category</code>. Return the number of publishers found for the <code>category</code>. The behavior is undefined unless <code>category</code> is a valid address supplied by <code><a class="el" href="classbalm_1_1MetricsManager.html#a86d24baf737cf0f1cbbe85e68106028e">metricRegistry()</a></code>. Note that this method will not find publishers registered for every category (i.e., general publishers). </p>

</div>
</div>
<a class="anchor" id="ae7d4365bd2c0ac12a5aa3acfdb5932e7"></a><!-- doxytag: member="balm::MetricsManager::collectorRepository" ref="ae7d4365bd2c0ac12a5aa3acfdb5932e7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a>&amp; balm::MetricsManager::collectorRepository </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the non-modifiable repository of collectors managed by this object. </p>

</div>
</div>
<a class="anchor" id="a8aa9fc56f332f75f3f9ddc1764090a53"></a><!-- doxytag: member="balm::MetricsManager::metricRegistry" ref="a8aa9fc56f332f75f3f9ddc1764090a53" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a>&amp; balm::MetricsManager::metricRegistry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the non-modifiable registry of metrics managed by this object. </p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="ac96b9667a57077a7637a702e6e877050"></a><!-- doxytag: member="balm::MetricsManager::MetricsManager_PublicationHelper" ref="ac96b9667a57077a7637a702e6e877050" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend struct MetricsManager_PublicationHelper<code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="balm__metricsmanager_8h_source.html">balm_metricsmanager.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:50:04 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
