<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: bdlat_sequencefunctions Component</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a>  </div>
  <div class="headertitle">
<h1>Component bdlat_sequencefunctions<br/>
<small>
[<a class="el" href="group__bdlat.html">Package bdlat</a>]</small>
</h1>  </div>
</div>
<div class="contents">

<p>Provide a namespace defining sequence functions.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacebdlat__SequenceFunctions.html">bdlat_SequenceFunctions</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Outline</b></dt><dd><ul>
<li>
<a href="#1">Purpose</a> </li>
<li>
<a href="#2">Classes</a> </li>
<li>
<a href="#3">Description</a> <ul>
<li>
<a href="#3.1">Usage</a> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="purpose"></a> <a class="anchor" id="1"></a> </dd></dl>
<dl class="user"><dt><b>Purpose: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>Provide a namespace defining sequence functions. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="classes"></a> <a class="anchor" id="2"></a> </dd></dl>
<dl class="user"><dt><b>Classes: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><table class="doxtable">
<tr>
<td><a class="el" href="namespacebdlat__SequenceFunctions.html">bdlat_SequenceFunctions</a> </td><td>namespace for calling sequence functions  </td></tr>
</table>
</dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__bdlat__attributeinfo.html" title="Provide a container for attribute information.">Component bdlat_attributeinfo</a> </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="description"></a> <a class="anchor" id="3"></a> </dd></dl>
<dl class="user"><dt><b>Description: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The <code><a class="el" href="namespacebdlat__SequenceFunctions.html">bdlat_SequenceFunctions</a></code> <code>namespace</code> provided in this component defines parameterized functions that expose "sequence" behavior for "sequence" types. See the package-level documentation for a full description of "sequence" types. The functions in this namespace allow users to: <br/>
<br/>
<div class="fragment"><pre class="fragment">      o manipulate an attribute by attribute <span class="keywordtype">id</span> or attribute name <span class="keyword">using</span> a
        parameterized manipulator (<span class="stringliteral">&#39;manipulateAttribute&#39;</span>).
      o manipulate all attributes sequentially <span class="keyword">using</span> a parameterized
        manipulator (<span class="stringliteral">&#39;manipulateAttributes&#39;</span>).
      o access an attribute by attribute <span class="keywordtype">id</span> or attribute name <span class="keyword">using</span> a
        parameterized accessor (<span class="stringliteral">&#39;accessAttribute&#39;</span>).
      o access all attributes sequentially <span class="keyword">using</span> a parameterized accessor
        (<span class="stringliteral">&#39;accessAttributes&#39;</span>).
</pre></div><br/>
<br/>
 Also, the meta-function <code>IsSequence</code> contains a compile-time constant <code>VALUE</code> that is non-zero if the parameterized <code>TYPE</code> exposes "sequence" behavior through the <code><a class="el" href="namespacebdlat__SequenceFunctions.html">bdlat_SequenceFunctions</a></code> <code>namespace</code>. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>This component specializes all of these functions for types that have the <code><a class="el" href="structbdlat__TypeTraitBasicSequence.html">bdlat_TypeTraitBasicSequence</a></code> trait. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>Types that do not have the <code><a class="el" href="structbdlat__TypeTraitBasicSequence.html">bdlat_TypeTraitBasicSequence</a></code> trait can be plugged into the <code>bdlat</code> framework. This is done by overloading the <code>bdlat_sequence*</code> functions inside the namespace of the plugged in type. For example, suppose there is a type called <code>mine::MySequence</code>. In order to plug this type into the <code>bdlat</code> framework as a "sequence", the following functions must be declared and implemented in the <code>mine</code> namespace: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">namespace </span>mine {

  <span class="comment">// MANIPULATORS</span>
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                      MySequence   *<span class="keywordtype">object</span>,
                                      MANIPULATOR&amp;  manipulator,
                                      <span class="keyword">const</span> <span class="keywordtype">char</span>   *attributeName,
                                      <span class="keywordtype">int</span>           attributeNameLength);
      <span class="comment">// Invoke the specified &#39;manipulator&#39; on the address of the</span>
      <span class="comment">// (modifiable) attribute indicated by the specified &#39;attributeName&#39;</span>
      <span class="comment">// and &#39;attributeNameLength&#39; of the specified &#39;object&#39;, supplying</span>
      <span class="comment">// &#39;manipulator&#39; with the corresponding attribute information</span>
      <span class="comment">// structure.  Return non-zero value if the attribute is not found, and</span>
      <span class="comment">// the value returned from the invocation of &#39;manipulator&#39; otherwise.</span>

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(MySequence   *<span class="keywordtype">object</span>,
                                        MANIPULATOR&amp;  manipulator,
                                        <span class="keywordtype">int</span>           attributeId);
      <span class="comment">// Invoke the specified &#39;manipulator&#39; on the address of the</span>
      <span class="comment">// (modifiable) attribute indicated by the specified &#39;attributeId&#39; of</span>
      <span class="comment">// the specified &#39;object&#39;, supplying &#39;manipulator&#39; with the</span>
      <span class="comment">// corresponding attribute information structure.  Return non-zero</span>
      <span class="comment">// value if the attribute is not found, and the value returned from the</span>
      <span class="comment">// invocation of &#39;manipulator&#39; otherwise.</span>

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a56bdbdab77f83f45bcd1a1e261ada128">bdlat_sequenceManipulateAttributes</a>(MySequence   *<span class="keywordtype">object</span>,
                                         MANIPULATOR&amp;  manipulator);
      <span class="comment">// Invoke the specified &#39;manipulator&#39; sequentially on the address of</span>
      <span class="comment">// each (modifiable) attribute of the specified &#39;object&#39;, supplying</span>
      <span class="comment">// &#39;manipulator&#39; with the corresponding attribute information structure</span>
      <span class="comment">// until such invocation returns non-zero value.  Return the value from</span>
      <span class="comment">// the last invocation of &#39;manipulator&#39; (i.e., the invocation that</span>
      <span class="comment">// terminated the sequence).</span>

  <span class="comment">// ACCESSORS</span>
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keyword">const</span> MySequence&amp;  <span class="keywordtype">object</span>,
                                    ACCESSOR&amp;          accessor,
                                    <span class="keyword">const</span> <span class="keywordtype">char</span>        *attributeName,
                                    <span class="keywordtype">int</span>                attributeNameLength);
      <span class="comment">// Invoke the specified &#39;accessor&#39; on the (non-modifiable) attribute of</span>
      <span class="comment">// the specified &#39;object&#39; indicated by the specified &#39;attributeName&#39;</span>
      <span class="comment">// and &#39;attributeNameLength&#39;, supplying &#39;accessor&#39; with the</span>
      <span class="comment">// corresponding attribute information structure.  Return non-zero</span>
      <span class="comment">// value if the attribute is not found, and the value returned from the</span>
      <span class="comment">// invocation of &#39;accessor&#39; otherwise.</span>

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                    ACCESSOR&amp;         accessor,
                                    <span class="keywordtype">int</span>               attributeId);
      <span class="comment">// Invoke the specified &#39;accessor&#39; on the attribute of the specified</span>
      <span class="comment">// &#39;object&#39; with the given &#39;attributeId&#39;, supplying &#39;accessor&#39; with the</span>
      <span class="comment">// corresponding attribute information structure.  Return non-zero if</span>
      <span class="comment">// the attribute is not found, and the value returned from the</span>
      <span class="comment">// invocation of &#39;accessor&#39; otherwise.</span>

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#aa1abfacd4ada4fdf6bf7c2790c5da974">bdlat_sequenceAccessAttributes</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                     ACCESSOR&amp;         accessor);
      <span class="comment">// Invoke the specified &#39;accessor&#39; sequentially on each attribute of</span>
      <span class="comment">// the specified &#39;object&#39;, supplying &#39;accessor&#39; with the corresponding</span>
      <span class="comment">// attribute information structure until such invocation returns a</span>
      <span class="comment">// non-zero value.  Return the value from the last invocation of</span>
      <span class="comment">// &#39;accessor&#39; (i.e., the invocation that terminated the sequence).</span>

  <span class="keywordtype">bool</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a1082c16682bd6c8848ec4fc66bc61b64">bdlat_sequenceHasAttribute</a>(<span class="keyword">const</span> MySequence&amp;  <span class="keywordtype">object</span>,
                                  <span class="keyword">const</span> <span class="keywordtype">char</span>        *attributeName,
                                  <span class="keywordtype">int</span>                attributeNameLength);
      <span class="comment">// Return true if the specified &#39;object&#39; has an attribute with the</span>
      <span class="comment">// specified &#39;attributeName&#39; of the specified &#39;attributeNameLength&#39;,</span>
      <span class="comment">// and false otherwise.</span>

  <span class="keywordtype">bool</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a1082c16682bd6c8848ec4fc66bc61b64">bdlat_sequenceHasAttribute</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                  <span class="keywordtype">int</span>               attributeId);
      <span class="comment">// Return true if the specified &#39;object&#39; has an attribute with the</span>
      <span class="comment">// specified &#39;attributeId&#39;, and false otherwise.</span>

  }  <span class="comment">// close namespace &#39;mine&#39;</span>
</pre></div><br/>
<br/>
 Also, the <code>IsSequence</code> meta-function must be specialized for the <code>mine::MySequence</code> type in the <code><a class="el" href="namespacebdlat__SequenceFunctions.html">bdlat_SequenceFunctions</a></code> namespace. </dd></dl>
<dl class="user"><dt><b></b></dt><dd>An example of plugging in a user-defined sequence type into the <code>bdlat</code> framework is shown in the <code>Usage</code> section of this document. </dd></dl>
<dl class="user"><dt><b></b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd><a class="anchor" id="usage"></a> <a class="anchor" id="description.usage"></a> <a class="anchor" id="3.1"></a> </dd></dl>
<dl class="user"><dt><b>Usage: </b></dt><dd></dd></dl>
<dl class="user"><dt><b></b></dt><dd>The following snippets of code illustrate the usage of this component. Suppose you had a <code>struct</code> that contains three members: <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;<a class="code" href="bdlat__sequencefunctions_8h.html" title="Provide a namespace defining sequence functions.">bdlat_sequencefunctions.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="bdlat__formattingmode_8h.html" title="Provide formatting mode constants.">bdlat_formattingmode.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="bdlat__attributeinfo_8h.html" title="Provide a container for attribute information.">bdlat_attributeinfo.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;<a class="code" href="bdlb__string_8h.html" title="Provide utility functions on C-style and STL strings.">bdlb_string.h</a>&gt;</span>
<span class="preprocessor">  #include &lt;string&gt;</span>

  <span class="keyword">namespace </span>BloombergLP {

  <span class="keyword">namespace </span>mine {

  <span class="keyword">struct </span>MySequence {
      <span class="comment">// This struct represents a sequence containing a &#39;string&#39; member, an</span>
      <span class="comment">// &#39;int&#39; member, and a &#39;float&#39; member.</span>

      <span class="comment">// CONSTANTS</span>
      <span class="keyword">enum</span> {
          NAME_ATTRIBUTE_ID   = 1,
          AGE_ATTRIBUTE_ID    = 2,
          SALARY_ATTRIBUTE_ID = 3
      };

      <span class="comment">// DATA MEMBERS</span>
      <a class="code" href="classbsl_1_1basic__string.html">bsl::string</a> d_name;
      <span class="keywordtype">int</span>         d_age;
      <span class="keywordtype">float</span>       d_salary;
  };

  }  <span class="comment">// close namespace &#39;mine&#39;</span>
</pre></div><br/>
<br/>
 We can now make <code>mine::MySequence</code> expose "sequence" behavior by implementing the necessary <code>bdlat_sequence*</code> functions for <code>MySequence</code> inside the <code>mine</code> namespace. First, we should forward declare all the functions that we will implement inside the <code>mine</code> namespace: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">namespace </span>mine {

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(MySequence   *<span class="keywordtype">object</span>,
                                        MANIPULATOR&amp;  manipulator,
                                        <span class="keyword">const</span> <span class="keywordtype">char</span>   *attributeName,
                                        <span class="keywordtype">int</span>           attributeNameLength);
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(MySequence   *<span class="keywordtype">object</span>,
                                        MANIPULATOR&amp;  manipulator,
                                        <span class="keywordtype">int</span>           attributeId);
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a56bdbdab77f83f45bcd1a1e261ada128">bdlat_sequenceManipulateAttributes</a>(MySequence   *<span class="keywordtype">object</span>,
                                         MANIPULATOR&amp;  manipulator);
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keyword">const</span> MySequence&amp;  <span class="keywordtype">object</span>,
                                    ACCESSOR&amp;          accessor,
                                    <span class="keyword">const</span> <span class="keywordtype">char</span>        *attributeName,
                                    <span class="keywordtype">int</span>                attributeNameLength);
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                    ACCESSOR&amp;         accessor,
                                    <span class="keywordtype">int</span>               attributeId);
  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#aa1abfacd4ada4fdf6bf7c2790c5da974">bdlat_sequenceAccessAttributes</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                     ACCESSOR&amp;         accessor);
  <span class="keywordtype">bool</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a1082c16682bd6c8848ec4fc66bc61b64">bdlat_sequenceHasAttribute</a>(<span class="keyword">const</span> MySequence&amp;  <span class="keywordtype">object</span>,
                                  <span class="keyword">const</span> <span class="keywordtype">char</span>        *attributeName,
                                  <span class="keywordtype">int</span>                attributeNameLength);
  <span class="keywordtype">bool</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a1082c16682bd6c8848ec4fc66bc61b64">bdlat_sequenceHasAttribute</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                  <span class="keywordtype">int</span>               attributeId);

  }  <span class="comment">// close namespace &#39;mine&#39;</span>
</pre></div><br/>
<br/>
 Now, we will implement these functions. Note that for this implementation, we will create a temporary <code><a class="el" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a></code> object and pass it along when invoking the manipulator or accessor. See the <code>bdlat_attributeinfo</code> component-level documentation for more information. The implementation of the functions are as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">mine::bdlat_sequenceManipulateAttribute</a>(
                                        MySequence   *<span class="keywordtype">object</span>,
                                        MANIPULATOR&amp;  manipulator,
                                        <span class="keyword">const</span> <span class="keywordtype">char</span>   *attributeName,
                                        <span class="keywordtype">int</span>           attributeNameLength)
  {
      <span class="keyword">enum</span> { NOT_FOUND = -1 };

      <span class="keywordflow">if</span> (<a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;name&quot;</span>,
                                        attributeName,
                                        attributeNameLength)) {
          <span class="keywordflow">return</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                              <span class="keywordtype">object</span>,
                                              manipulator,
                                              MySequence::NAME_ATTRIBUTE_ID);
      }

      <span class="keywordflow">if</span> (<a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;age&quot;</span>,
                                        attributeName,
                                        attributeNameLength)) {
          <span class="keywordflow">return</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                               <span class="keywordtype">object</span>,
                                               manipulator,
                                               MySequence::AGE_ATTRIBUTE_ID);
      }

      <span class="keywordflow">if</span> (<a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;salary&quot;</span>,
                                        attributeName,
                                        attributeNameLength)) {
          <span class="keywordflow">return</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                            <span class="keywordtype">object</span>,
                                            manipulator,
                                            MySequence::SALARY_ATTRIBUTE_ID);
      }

      <span class="keywordflow">return</span> NOT_FOUND;
  }

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">mine::bdlat_sequenceManipulateAttribute</a>(MySequence   *<span class="keywordtype">object</span>,
                                              MANIPULATOR&amp;  manipulator,
                                              <span class="keywordtype">int</span>           attributeId)
  {
      <span class="keyword">enum</span> { NOT_FOUND = -1 };

      <span class="keywordflow">switch</span> (attributeId) {
        <span class="keywordflow">case</span> MySequence::NAME_ATTRIBUTE_ID: {
          <a class="code" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a> info;

          info.<a class="code" href="structbdlat__AttributeInfo.html#a773986f9d1ac9ffd896e09feabfe72fe">annotation</a>()     = <span class="stringliteral">&quot;Name of employee&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#ae67ad96b23812b8c9a97dc403f4c2237">formattingMode</a>() = bdlat_FormattingMode::DEFAULT;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a95d58828531ac57717c9f8752391feec">id</a>()             = MySequence::NAME_ATTRIBUTE_ID;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a8752848719f319cf07e5b6e89224fc98">name</a>()           = <span class="stringliteral">&quot;name&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#acd7e2b64a980f01b22d37a81eb949ad8">nameLength</a>()     = 4;

          <span class="keywordflow">return</span> manipulator(&amp;object-&gt;d_name, info);
        }
        <span class="keywordflow">case</span> MySequence::AGE_ATTRIBUTE_ID: {
          <a class="code" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a> info;

          info.<a class="code" href="structbdlat__AttributeInfo.html#a773986f9d1ac9ffd896e09feabfe72fe">annotation</a>()     = <span class="stringliteral">&quot;Age of employee&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#ae67ad96b23812b8c9a97dc403f4c2237">formattingMode</a>() = bdlat_FormattingMode::DEFAULT;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a95d58828531ac57717c9f8752391feec">id</a>()             = MySequence::AGE_ATTRIBUTE_ID;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a8752848719f319cf07e5b6e89224fc98">name</a>()           = <span class="stringliteral">&quot;age&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#acd7e2b64a980f01b22d37a81eb949ad8">nameLength</a>()     = 3;

          <span class="keywordflow">return</span> manipulator(&amp;object-&gt;d_age, info);
        }
        <span class="keywordflow">case</span> MySequence::SALARY_ATTRIBUTE_ID: {
          <a class="code" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a> info;

          info.<a class="code" href="structbdlat__AttributeInfo.html#a773986f9d1ac9ffd896e09feabfe72fe">annotation</a>()     = <span class="stringliteral">&quot;Salary of employee&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#ae67ad96b23812b8c9a97dc403f4c2237">formattingMode</a>() = bdlat_FormattingMode::DEFAULT;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a95d58828531ac57717c9f8752391feec">id</a>()             = MySequence::SALARY_ATTRIBUTE_ID;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a8752848719f319cf07e5b6e89224fc98">name</a>()           = <span class="stringliteral">&quot;salary&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#acd7e2b64a980f01b22d37a81eb949ad8">nameLength</a>()     = 6;

          <span class="keywordflow">return</span> manipulator(&amp;object-&gt;d_salary, info);
        }
        <span class="keywordflow">default</span>: {
            <span class="keywordflow">return</span> NOT_FOUND;
        }
      }
  }

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> MANIPULATOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a56bdbdab77f83f45bcd1a1e261ada128">mine::bdlat_sequenceManipulateAttributes</a>(MySequence   *<span class="keywordtype">object</span>,
                                               MANIPULATOR&amp;  manipulator)
  {
      <span class="keywordtype">int</span> retVal;

      retVal = <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                              <span class="keywordtype">object</span>,
                                              manipulator,
                                              MySequence::NAME_ATTRIBUTE_ID);

      <span class="keywordflow">if</span> (0 != retVal) {
          <span class="keywordflow">return</span> retVal;
      }

      retVal = <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                               <span class="keywordtype">object</span>,
                                               manipulator,
                                               MySequence::AGE_ATTRIBUTE_ID);

      <span class="keywordflow">if</span> (0 != retVal) {
          <span class="keywordflow">return</span> retVal;
      }

      retVal = <a class="code" href="namespacebdlat__SequenceFunctions.html#ac8aa88ad785d0191a313600d61b5c58e">bdlat_sequenceManipulateAttribute</a>(
                                            <span class="keywordtype">object</span>,
                                            manipulator,
                                            MySequence::SALARY_ATTRIBUTE_ID);

      <span class="keywordflow">return</span> retVal;
  }

  <span class="comment">// ACCESSORS</span>

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">mine::bdlat_sequenceAccessAttribute</a>(
                                      <span class="keyword">const</span> MySequence&amp;  <span class="keywordtype">object</span>,
                                      ACCESSOR&amp;          accessor,
                                      <span class="keyword">const</span> <span class="keywordtype">char</span>        *attributeName,
                                      <span class="keywordtype">int</span>                attributeNameLength)
  {
      <span class="keyword">enum</span> { NOT_FOUND = -1 };

      <span class="keywordflow">if</span> (<a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;name&quot;</span>,
                                        attributeName,
                                        attributeNameLength)) {
          <span class="keywordflow">return</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(
                                              <span class="keywordtype">object</span>,
                                              accessor,
                                              MySequence::NAME_ATTRIBUTE_ID);
      }

      <span class="keywordflow">if</span> (<a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;age&quot;</span>,
                                        attributeName,
                                        attributeNameLength)) {
          <span class="keywordflow">return</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keywordtype">object</span>,
                                               accessor,
                                               MySequence::AGE_ATTRIBUTE_ID);
      }

      <span class="keywordflow">if</span> (<a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;salary&quot;</span>,
                                        attributeName,
                                        attributeNameLength)) {
          <span class="keywordflow">return</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(
                                            <span class="keywordtype">object</span>,
                                            accessor,
                                            MySequence::SALARY_ATTRIBUTE_ID);
      }

      <span class="keywordflow">return</span> NOT_FOUND;
  }

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">mine::bdlat_sequenceAccessAttribute</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                          ACCESSOR&amp;         accessor,
                                          <span class="keywordtype">int</span>               attributeId)
  {
      <span class="keyword">enum</span> { NOT_FOUND = -1 };

      <span class="keywordflow">switch</span> (attributeId) {
        <span class="keywordflow">case</span> MySequence::NAME_ATTRIBUTE_ID: {
          <a class="code" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a> info;

          info.<a class="code" href="structbdlat__AttributeInfo.html#a773986f9d1ac9ffd896e09feabfe72fe">annotation</a>()     = <span class="stringliteral">&quot;Name of employee&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#ae67ad96b23812b8c9a97dc403f4c2237">formattingMode</a>() = bdlat_FormattingMode::DEFAULT;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a95d58828531ac57717c9f8752391feec">id</a>()             = MySequence::NAME_ATTRIBUTE_ID;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a8752848719f319cf07e5b6e89224fc98">name</a>()           = <span class="stringliteral">&quot;name&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#acd7e2b64a980f01b22d37a81eb949ad8">nameLength</a>()     = 4;

          <span class="keywordflow">return</span> accessor(<span class="keywordtype">object</span>.d_name, info);
        }
        <span class="keywordflow">case</span> MySequence::AGE_ATTRIBUTE_ID: {
          <a class="code" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a> info;

          info.<a class="code" href="structbdlat__AttributeInfo.html#a773986f9d1ac9ffd896e09feabfe72fe">annotation</a>()     = <span class="stringliteral">&quot;Age of employee&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#ae67ad96b23812b8c9a97dc403f4c2237">formattingMode</a>() = bdlat_FormattingMode::DEFAULT;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a95d58828531ac57717c9f8752391feec">id</a>()             = MySequence::AGE_ATTRIBUTE_ID;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a8752848719f319cf07e5b6e89224fc98">name</a>()           = <span class="stringliteral">&quot;age&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#acd7e2b64a980f01b22d37a81eb949ad8">nameLength</a>()     = 3;

          <span class="keywordflow">return</span> accessor(<span class="keywordtype">object</span>.d_age, info);
        }
        <span class="keywordflow">case</span> MySequence::SALARY_ATTRIBUTE_ID: {
          <a class="code" href="structbdlat__AttributeInfo.html" title="container for attribute information">bdlat_AttributeInfo</a> info;

          info.<a class="code" href="structbdlat__AttributeInfo.html#a773986f9d1ac9ffd896e09feabfe72fe">annotation</a>()     = <span class="stringliteral">&quot;Salary of employee&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#ae67ad96b23812b8c9a97dc403f4c2237">formattingMode</a>() = bdlat_FormattingMode::DEFAULT;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a95d58828531ac57717c9f8752391feec">id</a>()             = MySequence::SALARY_ATTRIBUTE_ID;
          info.<a class="code" href="structbdlat__AttributeInfo.html#a8752848719f319cf07e5b6e89224fc98">name</a>()           = <span class="stringliteral">&quot;salary&quot;</span>;
          info.<a class="code" href="structbdlat__AttributeInfo.html#acd7e2b64a980f01b22d37a81eb949ad8">nameLength</a>()     = 6;

          <span class="keywordflow">return</span> accessor(<span class="keywordtype">object</span>.d_salary, info);
        }
        <span class="keywordflow">default</span>: {
            <span class="keywordflow">return</span> NOT_FOUND;
        }
      }
  }

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> ACCESSOR&gt;
  <span class="keywordtype">int</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#aa1abfacd4ada4fdf6bf7c2790c5da974">mine::bdlat_sequenceAccessAttributes</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                           ACCESSOR&amp;         accessor)
  {
      <span class="keywordtype">int</span> retVal;

      retVal = <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keywordtype">object</span>,
                                             accessor,
                                             MySequence::NAME_ATTRIBUTE_ID);

      <span class="keywordflow">if</span> (0 != retVal) {
          <span class="keywordflow">return</span> retVal;
      }

      retVal = <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keywordtype">object</span>,
                                             accessor,
                                             MySequence::AGE_ATTRIBUTE_ID);

      <span class="keywordflow">if</span> (0 != retVal) {
          <span class="keywordflow">return</span> retVal;
      }

      retVal = <a class="code" href="namespacebdlat__SequenceFunctions.html#a6f926a7d1800ce7ac5e14307201932e9">bdlat_sequenceAccessAttribute</a>(<span class="keywordtype">object</span>,
                                            accessor,
                                            MySequence::SALARY_ATTRIBUTE_ID);

      <span class="keywordflow">return</span> retVal;
  }

  <span class="keywordtype">bool</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a1082c16682bd6c8848ec4fc66bc61b64">mine::bdlat_sequenceHasAttribute</a>(
                                      <span class="keyword">const</span> MySequence&amp;  <span class="keywordtype">object</span>,
                                      <span class="keyword">const</span> <span class="keywordtype">char</span>        *attributeName,
                                      <span class="keywordtype">int</span>                attributeNameLength)
  {
      <span class="keywordflow">return</span> <a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;name&quot;</span>,
                                           attributeName,
                                           attributeNameLength)
          || <a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;age&quot;</span>,
                                           attributeName,
                                           attributeNameLength)
          || <a class="code" href="structbdlb_1_1String.html#a5704f0439bf8cecf4d71d33338d69466">bdlb::String::areEqualCaseless</a>(<span class="stringliteral">&quot;salary&quot;</span>,
                                           attributeName,
                                           attributeNameLength);
  }

  <span class="keywordtype">bool</span> <a class="code" href="namespacebdlat__SequenceFunctions.html#a1082c16682bd6c8848ec4fc66bc61b64">mine::bdlat_sequenceHasAttribute</a>(<span class="keyword">const</span> MySequence&amp; <span class="keywordtype">object</span>,
                                        <span class="keywordtype">int</span>               attributeId)
  {
      <span class="keywordflow">return</span> MySequence::NAME_ATTRIBUTE_ID   == attributeId
          || MySequence::AGE_ATTRIBUTE_ID    == attributeId
          || MySequence::SALARY_ATTRIBUTE_ID == attributeId;
  }
</pre></div><br/>
<br/>
 Finally, we need to specialize the <code>IsSequence</code> meta-function in the <code><a class="el" href="namespacebdlat__SequenceFunctions.html">bdlat_SequenceFunctions</a></code> namespace for the <code>mine::MySequence</code> type. This makes the <code>bdlat</code> infrastructure recognize <code>mine::MySequence</code> as a sequence abstraction: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">namespace </span>bdlat_SequenceFunctions {

      <span class="keyword">template</span> &lt;&gt;
      <span class="keyword">struct </span>IsSequence&lt;mine::MySequence&gt; {
          <span class="keyword">enum</span> { <a class="code" href="structbdlat__SequenceFunctions_1_1IsSequence.html#a36839059d88274d889aedb9ddf9b5b10ae0e3b26b298717cb04561deb481707ac">VALUE</a> = 1 };
      };

  }  <span class="comment">// close namespace &#39;bdlat_SequenceFunctions&#39;</span>
  }  <span class="comment">// close namespace &#39;BloombergLP&#39;</span>
</pre></div><br/>
<br/>
 The <code>bdlat</code> infrastructure (and any component that uses this infrastructure) will now recognize <code>mine::MySequence</code> as a "sequence" type. For example, suppose we have the following XML data: <br/>
<br/>
<div class="fragment"><pre class="fragment">  &lt;?xml version=<span class="stringliteral">&#39;1.0&#39;</span> encoding=<span class="stringliteral">&#39;UTF-8&#39;</span> ?&gt;
  &lt;MySequence&gt;
      &lt;name&gt;John Doe&lt;/name&gt;
      &lt;age&gt;29&lt;/age&gt;
      &lt;salary&gt;12345.00&lt;/salary&gt;
  &lt;/MySequence&gt;
</pre></div><br/>
<br/>
 Using the <code>balxml_decoder</code> component, we can now load this XML data into a <code>mine::MySequence</code> object: <br/>
<br/>
<div class="fragment"><pre class="fragment"><span class="preprocessor">  #include &lt;<a class="code" href="balxml__decoder_8h.html" title="Provide a generic translation from XML into C++ objects.">balxml_decoder.h</a>&gt;</span>

  <span class="keywordtype">void</span> decodeMySequenceFromXML(bsl::istream&amp; inputData)
  {
      <span class="keyword">using namespace </span>BloombergLP;

      mine::MySequence object;

      <a class="code" href="classbalxml_1_1DecoderOptions.html">balxml::DecoderOptions</a> options;
      <a class="code" href="classbalxml_1_1MiniReader.html">balxml::MiniReader</a>     reader;
      <a class="code" href="classbalxml_1_1ErrorInfo.html">balxml::ErrorInfo</a>      errInfo;

      <a class="code" href="classbalxml_1_1Decoder.html">balxml::Decoder</a> decoder(&amp;options, &amp;reader, &amp;errInfo);
      <span class="keywordtype">int</span> result = decoder.decode(inputData, &amp;<span class="keywordtype">object</span>);

      assert(0          == result);
      assert(<span class="stringliteral">&quot;John Doe&quot;</span> == <span class="keywordtype">object</span>.d_name);
      assert(29         == <span class="keywordtype">object</span>.d_age);
      assert(12345.00   == <span class="keywordtype">object</span>.d_salary);
  }
</pre></div><br/>
<br/>
 Note that the <code>bdlat</code> framework can be used for functionality other than encoding/decoding into XML. When <code>mine::MySequence</code> is plugged into the framework, then it will be automatically usable within the framework. For example, the following snippets of code will print out all the attributes of a sequence object: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keyword">struct </span>PrintAttribute {
      <span class="comment">// Print each visited object to the bound &#39;d_stream_p&#39; object.</span>

      <span class="comment">// DATA MEMBERS</span>
      bsl::ostream *d_stream_p;

      <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE, <span class="keyword">typename</span> INFO&gt;
      <span class="keywordtype">int</span> operator()(<span class="keyword">const</span> TYPE&amp; <span class="keywordtype">object</span>, <span class="keyword">const</span> INFO&amp; info)
      {
          (*d_stream_p) &lt;&lt; info.name() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <span class="keywordtype">object</span> &lt;&lt; bsl::endl;
          <span class="keywordflow">return</span> 0;
      }
  };

  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> TYPE&gt;
  <span class="keywordtype">void</span> printSequenceAttributes(bsl::ostream&amp; stream, <span class="keyword">const</span> TYPE&amp; <span class="keywordtype">object</span>)
  {
      PrintAttribute accessor;
      accessor.d_stream_p = &amp;stream;

      <a class="code" href="namespacebdlat__SequenceFunctions.html#a7cd34b6a54201652169236759f27aa98">bdlat_SequenceFunctions::accessAttributes</a>(<span class="keywordtype">object</span>, accessor);
  }
</pre></div><br/>
<br/>
 Now we have a generic function that takes an output stream and a sequence object, and prints out each attribute with its name and value. We can use this generic function as follows: <br/>
<br/>
<div class="fragment"><pre class="fragment">  <span class="keywordtype">void</span> printMySequence(bsl::ostream&amp; stream)
  {
      <span class="keyword">using namespace </span>BloombergLP;

      mine::MySequence object;

      <span class="keywordtype">object</span>.d_name   = <span class="stringliteral">&quot;John Doe&quot;</span>;
      <span class="keywordtype">object</span>.d_age    = 25;
      <span class="keywordtype">object</span>.d_salary = 12345.00;

      stream &lt;&lt; bsl::fixed &lt;&lt; bsl::setprecision(2);

      printSequenceAttributes(stream, <span class="keywordtype">object</span>);
  }
</pre></div><br/>
<br/>
 The function above will print the following to provided stream: <br/>
<br/>
<div class="fragment"><pre class="fragment">  name: John Doe
  age: 25
  salary: 12345.00
</pre></div><br/>
<br/>
 </dd></dl>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Apr 1 2016 16:48:33 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
