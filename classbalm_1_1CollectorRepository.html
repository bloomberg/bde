<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>BDE 3.0: Class balm::CollectorRepository</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style>
      div.hanging {
        padding-left: 0.75in;
        text-indent: -0.50in;
      }
      div.unhanging {
        text-indent:     0in;
      }
      a.glossary {
        font-weight: bold;
        font-style: italic;
      }
    </style>
</head>
<!--
<body onload='searchBox.OnSelectItem(0);'>
-->
<body>

<table border=2 cellspacing=0 cellpadding=0 align=center>
<tr>
 <td valign=top align=center>
 <p align=center><b><i>Quick Links:</i></b></p>
 </td>
 <td valign=top align=center>
 <p align=center>
<a class="qindex" href="group__bal.html" target="_blank">bal</a> | <a class="qindex" href="group__bbl.html" target="_blank">bbl</a> | <a class="qindex" href="group__bdl.html" target="_blank">bdl</a> | <a class="qindex" href="group__bsl.html" target="_blank">bsl</a> | <a class="qindex" href="group__btl.html" target="_blank">btl</a>
 </td>
 </tr>
 </table>

  </div>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="components.html"><span>Components</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespacebalm.html">balm</a>      </li>
      <li><a class="el" href="classbalm_1_1CollectorRepository.html">balm::CollectorRepository</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>balm::CollectorRepository Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="balm::CollectorRepository" -->
<p><code>#include &lt;<a class="el" href="balm__collectorrepository_8h_source.html">balm_collectorrepository.h</a>&gt;</code></p>

<p><a href="classbalm_1_1CollectorRepository-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#af2bf1561ec332bb20ac2008c9238e99b">BSLMF_NESTED_TRAIT_DECLARATION</a> (<a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a>, <a class="el" href="structbslma_1_1UsesBslmaAllocator.html">bslma::UsesBslmaAllocator</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#abc60478a35ea854f44f764b1791e3987">CollectorRepository</a> (<a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a> *registry, <a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *basicAllocator=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#ad361de0ed214a4f3c26a682b03b8227b">~CollectorRepository</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#aa72976c14dc738a202b0bc995a67a0ac">collectAndReset</a> (<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *records, const <a class="el" href="classbalm_1_1Category.html">Category</a> *category)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a83a7a2d1df35b07564eb71c125a9c2c7">collect</a> (<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *records, const <a class="el" href="classbalm_1_1Category.html">Category</a> *category)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1Collector.html">Collector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#ad135535a6eb7357ee03fb8fdcd7548b3">getDefaultCollector</a> (const char *category, const char *metricName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1Collector.html">Collector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#ab259f2f07e1e88b0334c68800c204c00">getDefaultCollector</a> (const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;metricId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a1db1b7953f757570f233232d906e858d">getDefaultIntegerCollector</a> (const char *category, const char *metricName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#aa65dee6159b0b900ce064cf986674c16">getDefaultIntegerCollector</a> (const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;metricId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Collector.html">Collector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a016760ad151d0a164dc088e057361389">addCollector</a> (const char *category, const char *metricName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Collector.html">Collector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#af1e199c8b2512c917c7d43a86dbec2ee">addCollector</a> (const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;metricId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a1045a79688ef16dc51000262e530544b">addIntegerCollector</a> (const char *category, const char *metricName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a6f1bca09f73d6511fd3c38c0f3df3eeb">addIntegerCollector</a> (const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;metricId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a585a772c613bdd89fc03ac5b4e532816">getAddedCollectors</a> (<a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Collector.html">Collector</a> &gt; &gt; *collectors, <a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a> &gt; &gt; *intCollectors, const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;metricId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#a0eaa54bdcc12f1bae84ecb9dcdc61551">registry</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbalm_1_1CollectorRepository.html#ae9fedbf5fb000f5449399c7b735db8ae">registry</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class defines a fully thread-safe repository mechanism for <code><a class="el" href="classbalm_1_1Collector.html">Collector</a></code> and <code><a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a></code> objects. Collectors are identified in the repository by a <code><a class="el" href="classbalm_1_1MetricId.html">MetricId</a></code> object and also grouped together according to the category of the metric. This repository supports operations to create, find, and collect metric records from the collectors in the repository. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abc60478a35ea854f44f764b1791e3987"></a><!-- doxytag: member="balm::CollectorRepository::CollectorRepository" ref="abc60478a35ea854f44f764b1791e3987" args="(MetricRegistry *registry, bslma::Allocator *basicAllocator=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">balm::CollectorRepository::CollectorRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a> *&nbsp;</td>
          <td class="paramname"> <em>registry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbslma_1_1Allocator.html">bslma::Allocator</a> *&nbsp;</td>
          <td class="paramname"> <em>basicAllocator</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create an empty collector repository that will use the specified <code>registry</code> to identify the metrics for which it manages collectors. Optionally specify a <code>basicAllocator</code> used to supply memory. If <code>basicAllocator</code> is 0, the currently installed default allocator is used. The behavior is undefined if <code>registry</code> is 0. </p>

</div>
</div>
<a class="anchor" id="ad361de0ed214a4f3c26a682b03b8227b"></a><!-- doxytag: member="balm::CollectorRepository::~CollectorRepository" ref="ad361de0ed214a4f3c26a682b03b8227b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">balm::CollectorRepository::~CollectorRepository </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Free all the collectors in this repository and destroy this object. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af2bf1561ec332bb20ac2008c9238e99b"></a><!-- doxytag: member="balm::CollectorRepository::BSLMF_NESTED_TRAIT_DECLARATION" ref="af2bf1561ec332bb20ac2008c9238e99b" args="(CollectorRepository, bslma::UsesBslmaAllocator)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">balm::CollectorRepository::BSLMF_NESTED_TRAIT_DECLARATION </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbalm_1_1CollectorRepository.html">CollectorRepository</a>&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbslma_1_1UsesBslmaAllocator.html">bslma::UsesBslmaAllocator</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa72976c14dc738a202b0bc995a67a0ac"></a><!-- doxytag: member="balm::CollectorRepository::collectAndReset" ref="aa72976c14dc738a202b0bc995a67a0ac" args="(bsl::vector&lt; MetricRecord &gt; *records, const Category *category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::CollectorRepository::collectAndReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append to the specified <code>records</code> the collected metric record values from the collectors in this repository belonging to the specified <code>category</code>; then reset those collectors to their default values. </p>

</div>
</div>
<a class="anchor" id="a83a7a2d1df35b07564eb71c125a9c2c7"></a><!-- doxytag: member="balm::CollectorRepository::collect" ref="a83a7a2d1df35b07564eb71c125a9c2c7" args="(bsl::vector&lt; MetricRecord &gt; *records, const Category *category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void balm::CollectorRepository::collect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbalm_1_1MetricRecord.html">MetricRecord</a> &gt; *&nbsp;</td>
          <td class="paramname"> <em>records</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1Category.html">Category</a> *&nbsp;</td>
          <td class="paramname"> <em>category</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append to the specified <code>records</code> the collected metric record values from the collectors in this repository belonging to the specified <code>category</code>. Note that this operation does not reset the managed collectors, so subsequent collection operations will effectively re-collect the current values. </p>

</div>
</div>
<a class="anchor" id="ad135535a6eb7357ee03fb8fdcd7548b3"></a><!-- doxytag: member="balm::CollectorRepository::getDefaultCollector" ref="ad135535a6eb7357ee03fb8fdcd7548b3" args="(const char *category, const char *metricName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1Collector.html">Collector</a>* balm::CollectorRepository::getDefaultCollector </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>metricName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the address of the modifiable default collector identified by the specified null-terminated strings <code>category</code> and <code>metricName</code>. If a collector for the identified metric does not already exist in the repository, create one, add it to the repository, and return its address. In addition, if the identified metric has not already been registered, add the identified metric to the <code>metricRegistry</code> supplied at construction. Note that this operation is logically equivalent to: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">          <a class="code" href="classbalm_1_1CollectorRepository.html#ad135535a6eb7357ee03fb8fdcd7548b3">getDefaultCollector</a>(<a class="code" href="classbalm_1_1CollectorRepository.html#a0eaa54bdcc12f1bae84ecb9dcdc61551">registry</a>().getId(category, metricName))
</pre></div><p><br/>
<br/>
 </p>

</div>
</div>
<a class="anchor" id="ab259f2f07e1e88b0334c68800c204c00"></a><!-- doxytag: member="balm::CollectorRepository::getDefaultCollector" ref="ab259f2f07e1e88b0334c68800c204c00" args="(const MetricId &amp;metricId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1Collector.html">Collector</a>* balm::CollectorRepository::getDefaultCollector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>metricId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the address of the modifiable default collector identified by the specified <code>metricId</code>. If a default collector for the identified metric does not already exist in the repository, create one, add it to the repository, and return its address. </p>

</div>
</div>
<a class="anchor" id="a1db1b7953f757570f233232d906e858d"></a><!-- doxytag: member="balm::CollectorRepository::getDefaultIntegerCollector" ref="a1db1b7953f757570f233232d906e858d" args="(const char *category, const char *metricName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a>* balm::CollectorRepository::getDefaultIntegerCollector </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>metricName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the address of the modifiable default integer collector identified by the specified <code>category</code> and <code>metricName</code>. If a default integer collector for the identified metric does not already exist in the repository, create one, add it to the repository, and return its address. In addition, if the identified metric has not already been registered, add the identified metric to the <code>metricRegistry</code> supplied at construction. The behavior is undefined unless <code>category</code> and <code>metricName</code> are null-terminated. Note that this operation is logically equivalent to: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">          <a class="code" href="classbalm_1_1CollectorRepository.html#a1db1b7953f757570f233232d906e858d">getDefaultIntegerCollector</a>(<a class="code" href="classbalm_1_1CollectorRepository.html#a0eaa54bdcc12f1bae84ecb9dcdc61551">registry</a>().getId(category, metricName))
</pre></div><p><br/>
<br/>
 </p>

</div>
</div>
<a class="anchor" id="aa65dee6159b0b900ce064cf986674c16"></a><!-- doxytag: member="balm::CollectorRepository::getDefaultIntegerCollector" ref="aa65dee6159b0b900ce064cf986674c16" args="(const MetricId &amp;metricId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a>* balm::CollectorRepository::getDefaultIntegerCollector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>metricId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the address of the modifiable default integer collector identified by the specified <code>metricId</code>. If a default integer collector for the identified metric does not already exist in the repository, create one, add it to the repository, and return its address. </p>

</div>
</div>
<a class="anchor" id="a016760ad151d0a164dc088e057361389"></a><!-- doxytag: member="balm::CollectorRepository::addCollector" ref="a016760ad151d0a164dc088e057361389" args="(const char *category, const char *metricName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt;<a class="el" href="classbalm_1_1Collector.html">Collector</a>&gt; balm::CollectorRepository::addCollector </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>metricName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a shared pointer to a newly-created modifiable collector identified by the specified null-terminated strings <code>category</code> and <code>metricName</code>, and add that collector to the repository. If is not already registered, also add the identified metric to the <code>metricRegistry</code> supplied at construction. Note that this operation is logically equivalent to: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">          <a class="code" href="classbalm_1_1CollectorRepository.html#a016760ad151d0a164dc088e057361389">addCollector</a>(<a class="code" href="classbalm_1_1CollectorRepository.html#a0eaa54bdcc12f1bae84ecb9dcdc61551">registry</a>().getId(category, metricName))
</pre></div><p><br/>
<br/>
 </p>

</div>
</div>
<a class="anchor" id="af1e199c8b2512c917c7d43a86dbec2ee"></a><!-- doxytag: member="balm::CollectorRepository::addCollector" ref="af1e199c8b2512c917c7d43a86dbec2ee" args="(const MetricId &amp;metricId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt;<a class="el" href="classbalm_1_1Collector.html">Collector</a>&gt; balm::CollectorRepository::addCollector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>metricId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a shared pointer to a newly-created modifiable collector identified by the specified <code>metricId</code> and add that collector to the repository. The behavior is undefined unless <code>metricId</code> is a valid id returned by the <code>MetricRepository</code> supplied at construction. </p>

</div>
</div>
<a class="anchor" id="a1045a79688ef16dc51000262e530544b"></a><!-- doxytag: member="balm::CollectorRepository::addIntegerCollector" ref="a1045a79688ef16dc51000262e530544b" args="(const char *category, const char *metricName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt;<a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a>&gt; balm::CollectorRepository::addIntegerCollector </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>metricName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a shared pointer to a newly created modifiable integer collector identified by the specified <code>category</code> and <code>metricName</code> and add that collector to the repository. If is not already registered, also add the identified metric to the <code>metricRegistry</code> supplied at construction. The behavior is undefined unless <code>category</code> and <code>metricName</code> are null-terminated. Note that this operation is logically equivalent to: <br/>
<br/>
</p>
<div class="fragment"><pre class="fragment">          <a class="code" href="classbalm_1_1CollectorRepository.html#a1045a79688ef16dc51000262e530544b">addIntegerCollector</a>(<a class="code" href="classbalm_1_1CollectorRepository.html#a0eaa54bdcc12f1bae84ecb9dcdc61551">registry</a>().getId(category, metricName))
</pre></div><p><br/>
<br/>
 </p>

</div>
</div>
<a class="anchor" id="a6f1bca09f73d6511fd3c38c0f3df3eeb"></a><!-- doxytag: member="balm::CollectorRepository::addIntegerCollector" ref="a6f1bca09f73d6511fd3c38c0f3df3eeb" args="(const MetricId &amp;metricId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt;<a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a>&gt; balm::CollectorRepository::addIntegerCollector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>metricId</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a shared pointer to a newly-created modifiable collector identified by the specified <code>metricId</code> and add that collector to the repository. The behavior is undefined unless <code>metricId</code> is a valid id returned by the <code>MetricRepository</code> supplied at construction. </p>

</div>
</div>
<a class="anchor" id="a585a772c613bdd89fc03ac5b4e532816"></a><!-- doxytag: member="balm::CollectorRepository::getAddedCollectors" ref="a585a772c613bdd89fc03ac5b4e532816" args="(bsl::vector&lt; bsl::shared_ptr&lt; Collector &gt; &gt; *collectors, bsl::vector&lt; bsl::shared_ptr&lt; IntegerCollector &gt; &gt; *intCollectors, const MetricId &amp;metricId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int balm::CollectorRepository::getAddedCollectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1Collector.html">Collector</a> &gt; &gt; *&nbsp;</td>
          <td class="paramname"> <em>collectors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbsl_1_1vector.html">bsl::vector</a>&lt; <a class="el" href="classbsl_1_1shared__ptr.html">bsl::shared_ptr</a>&lt; <a class="el" href="classbalm_1_1IntegerCollector.html">IntegerCollector</a> &gt; &gt; *&nbsp;</td>
          <td class="paramname"> <em>intCollectors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classbalm_1_1MetricId.html">MetricId</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>metricId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Append to the specified <code>collectors</code> and <code>intCollectors</code> shared pointers to any collectors, and integer collectors, collecting values for the metrics identified by the specified <code>metricId</code> that were added using the <code>addCollector</code> or <code>addIntegerCollector</code> methods, and return the combined total number of collectors and integer collectors that were found. This method does <em>not</em> count or return the default collectors for <code>metricId</code>. The behavior is undefined unless <code>metricId</code> is a valid id returned by the <code>MetricRepository</code> supplied at construction. </p>

</div>
</div>
<a class="anchor" id="a0eaa54bdcc12f1bae84ecb9dcdc61551"></a><!-- doxytag: member="balm::CollectorRepository::registry" ref="a0eaa54bdcc12f1bae84ecb9dcdc61551" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a>&amp; balm::CollectorRepository::registry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the modifiable registry of metrics used by this collector repository. </p>

</div>
</div>
<a class="anchor" id="ae9fedbf5fb000f5449399c7b735db8ae"></a><!-- doxytag: member="balm::CollectorRepository::registry" ref="ae9fedbf5fb000f5449399c7b735db8ae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbalm_1_1MetricRegistry.html">MetricRegistry</a>&amp; balm::CollectorRepository::registry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a reference to the non-modifiable registry of metrics used by this collector repository. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="balm__collectorrepository_8h_source.html">balm_collectorrepository.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Oct 15 2015 14:34:29 for BDE Release 3.0 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
